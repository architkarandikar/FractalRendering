if(!(window.console&&console.log)){(function(){var d=function(){},b=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","markTimeline","table","time","timeEnd","timeStamp","trace","warn"],c=b.length,a=window.console={};while(c--){a[b[c]]=d}}())}(function(){var d=0;var g=["ms","moz","webkit","o"];for(var f=0;f<g.length&&!window.requestAnimationFrame;++f){window.requestAnimationFrame=window[g[f]+"RequestAnimationFrame"];window.cancelAnimationFrame=window[g[f]+"CancelAnimationFrame"]||window[g[f]+"CancelRequestAnimationFrame"]}if(!window.requestAnimationFrame){window.requestAnimationFrame=function(a,i){var j=new Date().getTime();var c=Math.max(0,16-(j-d));var b=window.setTimeout(function(){a(j+c)},c);d=j+c;return b}}if(!window.cancelAnimationFrame){window.cancelAnimationFrame=function(a){clearTimeout(a)}}}());if(window.isIE8){if(typeof define!=="undefined"&&define.amd){define("Hammer",function(){var a=function(b){return};return a})}else{var Hammer=function(a){return}}}else{
/*! Hammer.JS - v2.0.4 - 2015-02-24
     * http://hammerjs.github.io/
     *
     * Copyright (c) 2015 Jorik Tangelder;
     * Licensed under the MIT license */
!function(a7,a6,a5,a4){function a1(f,d,g){return setTimeout(aT(f,g),d)}function a0(f,d,g){return Array.isArray(f)?(aZ(f,g[d],g),!0):!1}function aZ(f,d,h){var g;if(f){if(f.forEach){f.forEach(d,h)}else{if(f.length!==a4){for(g=0;g<f.length;){d.call(h,f[g],g,f),g++}}else{for(g in f){f.hasOwnProperty(g)&&d.call(h,f[g],g,f)}}}}}function aY(g,d,j){for(var i=Object.keys(d),h=0;h<i.length;){(!j||j&&g[i[h]]===a4)&&(g[i[h]]=d[i[h]]),h++}return g}function aX(d,c){return aY(d,c,!0)}function aU(g,f,j){var i,h=f.prototype;i=g.prototype=Object.create(h),i.constructor=g,i._super=h,j&&aY(i,j)}function aT(d,c){return function(){return d.apply(c,arguments)}}function aR(d,c){return typeof d==aj?d.apply(c?c[0]||a4:a4,c):d}function aQ(d,c){return d===a4?c:d}function aP(f,d,g){aZ(aJ(d),function(a){f.addEventListener(a,g,!1)})}function aN(f,d,g){aZ(aJ(d),function(a){f.removeEventListener(a,g,!1)})}function aM(d,c){for(;d;){if(d==c){return !0}d=d.parentNode}return !1}function aK(d,c){return d.indexOf(c)>-1}function aJ(b){return b.trim().split(/\s+/g)}function aI(g,f,i){if(g.indexOf&&!i){return g.indexOf(f)}for(var h=0;h<g.length;){if(i&&g[h][i]==f||!i&&g[h]===f){return h}h++}return -1}function aH(b){return Array.prototype.slice.call(b,0)}function aG(i,h,n){for(var m=[],l=[],k=0;k<i.length;){var j=h?i[k][h]:i[k];aI(l,j)<0&&m.push(i[k]),l[k]=j,k++}return n&&(m=h?m.sort(function(b,d){return b[h]>d[h]}):m.sort()),m}function aF(h,d){for(var l,k,j=d[0].toUpperCase()+d.slice(1),i=0;i<aV.length;){if(l=aV[i],k=l?l+j:d,k in h){return k}i++}return a4}function aE(){return a2++}function aD(a){var d=a.ownerDocument||a;return d.defaultView||d.parentWindow||a7}function aC(f,d){var g=this;this.manager=f,this.callback=d,this.element=f.element,this.target=f.options.inputTarget,this.domHandler=function(a){aR(f.options.enable,[f])&&g.handler(a)},this.init()}function aA(f){var d,g=f.options.inputClass;return new (d=g?g:ca?bs:bZ?bo:al?bl:bt)(f,bM)}function bM(i,h,n){var m=n.pointers.length,l=n.changedPointers.length,k=h&b1&&m-l===0,j=h&(b6|bU)&&m-l===0;n.isFirst=!!k,n.isFinal=!!j,k&&(i.session={}),n.eventType=h,bK(i,n),i.emit("hammer.input",n),i.recognize(n),i.session.prevInput=n}function bK(u,s){var r=u.session,q=s.pointers,p=q.length;r.firstInput||(r.firstInput=bG(s)),p>1&&!r.firstMultiple?r.firstMultiple=bG(s):1===p&&(r.firstMultiple=!1);var o=r.firstInput,n=r.firstMultiple,m=n?n.center:o.center,l=s.center=bD(q);s.timeStamp=bE(),s.deltaTime=s.timeStamp-o.timeStamp,s.angle=bz(m,l),s.distance=bA(m,l),bJ(r,s),s.offsetDirection=bB(s.deltaX,s.deltaY),s.scale=n?bv(n.pointers,q):1,s.rotation=n?bw(n.pointers,q):0,bI(r,s);var k=u.element;aM(s.srcEvent.target,k)&&(k=s.srcEvent.target),s.target=k}function bJ(h,g){var l=g.center,k=h.offsetDelta||{},j=h.prevDelta||{},i=h.prevInput||{};(g.eventType===b1||i.eventType===b6)&&(j=h.prevDelta={x:i.deltaX||0,y:i.deltaY||0},k=h.offsetDelta={x:l.x,y:l.y}),g.deltaX=j.x+(l.x-k.x),g.deltaY=j.y+(l.y-k.y)}function bI(w,v){var u,s,r,q,p=w.lastInterval||v,o=v.timeStamp-p.timeStamp;if(v.eventType!=bU&&(o>aa||p.velocity===a4)){var n=p.deltaX-v.deltaX,m=p.deltaY-v.deltaY,d=bC(o,n,m);s=d.x,r=d.y,u=bW(d.x)>bW(d.y)?d.x:d.y,q=bB(n,m),w.lastInterval=v}else{u=p.velocity,s=p.velocityX,r=p.velocityY,q=p.direction}v.velocity=u,v.velocityX=s,v.velocityY=r,v.direction=q}function bG(f){for(var d=[],g=0;g<f.pointers.length;){d[g]={clientX:b8(f.pointers[g].clientX),clientY:b8(f.pointers[g].clientY)},g++}return{timeStamp:bE(),pointers:d,center:bD(d),deltaX:f.deltaX,deltaY:f.deltaY}}function bD(g){var f=g.length;if(1===f){return{x:b8(g[0].clientX),y:b8(g[0].clientY)}}for(var j=0,i=0,h=0;f>h;){j+=g[h].clientX,i+=g[h].clientY,h++}return{x:b8(j/f),y:b8(i/f)}}function bC(f,d,g){return{x:d/f||0,y:g/f||0}}function bB(d,c){return d===c?by:bW(d)>=bW(c)?d>0?aW:av:c>0?ak:b9}function bA(g,f,j){j||(j=ax);var i=f[j[0]]-g[j[0]],h=f[j[1]]-g[j[1]];return Math.sqrt(i*i+h*h)}function bz(g,f,j){j||(j=ax);var i=f[j[0]]-g[j[0]],h=f[j[1]]-g[j[1]];return 180*Math.atan2(h,i)/Math.PI}function bw(d,c){return bz(c[1],c[0],am)-bz(d[1],d[0],am)}function bv(d,c){return bA(c[0],c[1],am)/bA(d[0],d[1],am)}function bt(){this.evEl=b0,this.evWin=bN,this.allow=!0,this.pressed=!1,aC.apply(this,arguments)}function bs(){this.evEl=ao,this.evWin=ad,aC.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function br(){this.evTarget=bP,this.evWin=bd,this.started=!1,aC.apply(this,arguments)}function bq(g,f){var i=aH(g.touches),h=aH(g.changedTouches);return f&(b6|bU)&&(i=aG(i.concat(h),"identifier",!0)),[i,h]}function bo(){this.evTarget=ap,this.targetIds={},aC.apply(this,arguments)}function bm(r,q){var p=aH(r.touches),o=this.targetIds;if(q&(b1|bO)&&1===p.length){return o[p[0].identifier]=!0,[p,p]}var n,m,l=aH(r.changedTouches),k=[],j=this.target;if(m=p.filter(function(b){return aM(b.target,j)}),q===b1){for(n=0;n<m.length;){o[m[n].identifier]=!0,n++}}for(n=0;n<l.length;){o[l[n].identifier]&&k.push(l[n]),q&(b6|bU)&&delete o[l[n].identifier],n++}return k.length?[aG(m.concat(k),"identifier",!0),k]:void 0}function bl(){aC.apply(this,arguments);var b=aT(this.handler,this);this.touch=new bo(this.manager,b),this.mouse=new bt(this.manager,b)}function bk(d,c){this.manager=d,this.set(c)}function bj(f){if(aK(f,bn)){return bn}var d=aK(f,aL),g=aK(f,aq);return d&&g?aL+" "+aq:d||g?d?aL:aq:aK(f,bQ)?bQ:af}function bi(b){this.id=aE(),this.manager=null,this.options=aX(b||{},this.defaults),this.options.enable=aQ(this.options.enable,!0),this.state=ag,this.simultaneous={},this.requireFail=[]}function bh(b){return b&at?"cancel":b&bu?"end":b&bS?"move":b&b4?"start":""}function bg(b){return b==b9?"down":b==ak?"up":b==aW?"left":b==av?"right":""}function bf(f,d){var g=d.manager;return g?g.get(f):f}function be(){bi.apply(this,arguments)}function bY(){be.apply(this,arguments),this.pX=null,this.pY=null}function ba(){be.apply(this,arguments)}function bR(){bi.apply(this,arguments),this._timer=null,this._input=null}function bp(){be.apply(this,arguments)}function aO(){be.apply(this,arguments)}function ar(){bi.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ah(d,c){return c=c||{},c.recognizers=aQ(c.recognizers,ah.defaults.preset),new b5(d,c)}function b5(d,c){c=c||{},this.options=aX(c,ah.defaults),this.options.inputTarget=this.options.inputTarget||d,this.handlers={},this.session={},this.recognizers=[],this.element=d,this.input=aA(this),this.touchAction=new bk(this,this.options.touchAction),bT(this,!0),aZ(c.recognizers,function(g){var f=this.add(new g[0](g[1]));g[2]&&f.recognizeWith(g[2]),g[3]&&f.requireFailure(g[3])},this)}function bT(f,d){var g=f.element;g.style&&aZ(f.options.cssProps,function(b,c){g.style[aF(g.style,c)]=d?b:""})}function bx(b,g){var f=a6.createEvent("Event");f.initEvent(b,!0,!0),f.gesture=g,g.target.dispatchEvent(f)}var aV=["","webkit","moz","MS","ms","o"],au=a6.createElement("div"),aj="function",b8=Math.round,bW=Math.abs,bE=Date.now,a2=1,aw=/mobile|tablet|ip(ad|hone|od)|android/i,al="ontouchstart" in a7,ca=aF(a7,"PointerEvent")!==a4,bZ=al&&aw.test(navigator.userAgent),bL="touch",a8="pen",ay="mouse",an="kinect",aa=25,b1=1,bO=2,b6=4,bU=8,by=1,aW=2,av=4,ak=8,b9=16,bX=aW|av,bF=ak|b9,a3=bX|bF,ax=["x","y"],am=["clientX","clientY"];aC.prototype={handler:function(){},init:function(){this.evEl&&aP(this.element,this.evEl,this.domHandler),this.evTarget&&aP(this.target,this.evTarget,this.domHandler),this.evWin&&aP(aD(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&aN(this.element,this.evEl,this.domHandler),this.evTarget&&aN(this.target,this.evTarget,this.domHandler),this.evWin&&aN(aD(this.element),this.evWin,this.domHandler)}};var cd={mousedown:b1,mousemove:bO,mouseup:b6},b0="mousedown",bN="mousemove mouseup";aU(bt,aC,{handler:function(d){var c=cd[d.type];c&b1&&0===d.button&&(this.pressed=!0),c&bO&&1!==d.which&&(c=b6),this.pressed&&this.allow&&(c&b6&&(this.pressed=!1),this.callback(this.manager,c,{pointers:[d],changedPointers:[d],pointerType:ay,srcEvent:d}))}});var a9={pointerdown:b1,pointermove:bO,pointerup:b6,pointercancel:bU,pointerout:bU},az={2:bL,3:a8,4:ay,5:an},ao="pointerdown",ad="pointermove pointerup pointercancel";a7.MSPointerEvent&&(ao="MSPointerDown",ad="MSPointerMove MSPointerUp MSPointerCancel"),aU(bs,aC,{handler:function(j){var i=this.store,p=!1,o=j.type.toLowerCase().replace("ms",""),n=a9[o],m=az[j.pointerType]||j.pointerType,l=m==bL,k=aI(i,j.pointerId,"pointerId");n&b1&&(0===j.button||l)?0>k&&(i.push(j),k=i.length-1):n&(b6|bU)&&(p=!0),0>k||(i[k]=j,this.callback(this.manager,n,{pointers:i,changedPointers:[j],pointerType:m,srcEvent:j}),p&&i.splice(k,1))}});var b2={touchstart:b1,touchmove:bO,touchend:b6,touchcancel:bU},bP="touchstart",bd="touchstart touchmove touchend touchcancel";aU(br,aC,{handler:function(f){var d=b2[f.type];if(d===b1&&(this.started=!0),this.started){var g=bq.call(this,f,d);d&(b6|bU)&&g[0].length-g[1].length===0&&(this.started=!1),this.callback(this.manager,d,{pointers:g[0],changedPointers:g[1],pointerType:bL,srcEvent:f})}}});var aB={touchstart:b1,touchmove:bO,touchend:b6,touchcancel:bU},ap="touchstart touchmove touchend touchcancel";aU(bo,aC,{handler:function(f){var d=aB[f.type],g=bm.call(this,f,d);g&&this.callback(this.manager,d,{pointers:g[0],changedPointers:g[1],pointerType:bL,srcEvent:f})}}),aU(bl,aC,{handler:function(g,f,j){var i=j.pointerType==bL,h=j.pointerType==ay;if(i){this.mouse.allow=!1}else{if(h&&!this.mouse.allow){return}}f&(b6|bU)&&(this.mouse.allow=!0),this.callback(g,f,j)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ae=aF(au.style,"touchAction"),b3=ae!==a4,bH="compute",af="auto",bQ="manipulation",bn="none",aL="pan-x",aq="pan-y";bk.prototype={set:function(b){b==bH&&(b=this.compute()),b3&&this.manager.element.style&&(this.manager.element.style[ae]=b),this.actions=b.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var b=[];return aZ(this.manager.recognizers,function(a){aR(a.options.enable,[a])&&(b=b.concat(a.getTouchAction()))}),bj(b.join(" "))},preventDefaults:function(i){if(!b3){var h=i.srcEvent,n=i.offsetDirection;if(this.manager.session.prevented){return void h.preventDefault()}var m=this.actions,l=aK(m,bn),k=aK(m,aq),j=aK(m,aL);return l||k&&n&bX||j&&n&bF?this.preventSrc(h):void 0}},preventSrc:function(b){this.manager.session.prevented=!0,b.preventDefault()}};var ag=1,b4=2,bS=4,bu=8,aS=bu,at=16,ai=32;bi.prototype={defaults:{},set:function(b){return aY(this.options,b),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(d){if(a0(d,"recognizeWith",this)){return this}var c=this.simultaneous;return d=bf(d,this),c[d.id]||(c[d.id]=d,d.recognizeWith(this)),this},dropRecognizeWith:function(b){return a0(b,"dropRecognizeWith",this)?this:(b=bf(b,this),delete this.simultaneous[b.id],this)},requireFailure:function(d){if(a0(d,"requireFailure",this)){return this}var c=this.requireFail;return d=bf(d,this),-1===aI(c,d)&&(c.push(d),d.requireFailure(this)),this},dropRequireFailure:function(d){if(a0(d,"dropRequireFailure",this)){return this}d=bf(d,this);var c=aI(this.requireFail,d);return c>-1&&this.requireFail.splice(c,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(b){return !!this.simultaneous[b.id]},emit:function(g){function f(a){i.manager.emit(i.options.event+(a?bh(h):""),g)}var i=this,h=this.state;bu>h&&f(!0),f(),h>=bu&&f(!0)},tryEmit:function(b){return this.canEmit()?this.emit(b):void (this.state=ai)},canEmit:function(){for(var b=0;b<this.requireFail.length;){if(!(this.requireFail[b].state&(ai|ag))){return !1}b++}return !0},recognize:function(d){var c=aY({},d);return aR(this.options.enable,[this,c])?(this.state&(aS|at|ai)&&(this.state=ag),this.state=this.process(c),void (this.state&(b4|bS|bu|at)&&this.tryEmit(c))):(this.reset(),void (this.state=ai))},process:function(){},getTouchAction:function(){},reset:function(){}},aU(be,bi,{defaults:{pointers:1},attrTest:function(d){var c=this.options.pointers;return 0===c||d.pointers.length===c},process:function(g){var f=this.state,j=g.eventType,i=f&(b4|bS),h=this.attrTest(g);return i&&(j&bU||!h)?f|at:i||h?j&b6?f|bu:f&b4?f|bS:b4:ai}}),aU(bY,be,{defaults:{event:"pan",threshold:10,pointers:1,direction:a3},getTouchAction:function(){var d=this.options.direction,c=[];return d&bX&&c.push(aq),d&bF&&c.push(aL),c},directionTest:function(i){var h=this.options,n=!0,m=i.distance,l=i.direction,k=i.deltaX,j=i.deltaY;return l&h.direction||(h.direction&bX?(l=0===k?by:0>k?aW:av,n=k!=this.pX,m=Math.abs(i.deltaX)):(l=0===j?by:0>j?ak:b9,n=j!=this.pY,m=Math.abs(i.deltaY))),i.direction=l,n&&m>h.threshold&&l&h.direction},attrTest:function(b){return be.prototype.attrTest.call(this,b)&&(this.state&b4||!(this.state&b4)&&this.directionTest(b))},emit:function(d){this.pX=d.deltaX,this.pY=d.deltaY;var c=bg(d.direction);c&&this.manager.emit(this.options.event+c,d),this._super.emit.call(this,d)}}),aU(ba,be,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[bn]},attrTest:function(b){return this._super.attrTest.call(this,b)&&(Math.abs(b.scale-1)>this.options.threshold||this.state&b4)},emit:function(d){if(this._super.emit.call(this,d),1!==d.scale){var c=d.scale<1?"in":"out";this.manager.emit(this.options.event+c,d)}}}),aU(bR,bi,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[af]},process:function(h){var g=this.options,k=h.pointers.length===g.pointers,j=h.distance<g.threshold,i=h.deltaTime>g.time;if(this._input=h,!j||!k||h.eventType&(b6|bU)&&!i){this.reset()}else{if(h.eventType&b1){this.reset(),this._timer=a1(function(){this.state=aS,this.tryEmit()},g.time,this)}else{if(h.eventType&b6){return aS}}}return ai},reset:function(){clearTimeout(this._timer)},emit:function(b){this.state===aS&&(b&&b.eventType&b6?this.manager.emit(this.options.event+"up",b):(this._input.timeStamp=bE(),this.manager.emit(this.options.event,this._input)))}}),aU(bp,be,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[bn]},attrTest:function(b){return this._super.attrTest.call(this,b)&&(Math.abs(b.rotation)>this.options.threshold||this.state&b4)}}),aU(aO,be,{defaults:{event:"swipe",threshold:10,velocity:0.65,direction:bX|bF,pointers:1},getTouchAction:function(){return bY.prototype.getTouchAction.call(this)},attrTest:function(f){var d,g=this.options.direction;return g&(bX|bF)?d=f.velocity:g&bX?d=f.velocityX:g&bF&&(d=f.velocityY),this._super.attrTest.call(this,f)&&g&f.direction&&f.distance>this.options.threshold&&bW(d)>this.options.velocity&&f.eventType&b6},emit:function(d){var c=bg(d.direction);c&&this.manager.emit(this.options.event+c,d),this.manager.emit(this.options.event,d)}}),aU(ar,bi,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[bQ]},process:function(k){var j=this.options,q=k.pointers.length===j.pointers,p=k.distance<j.threshold,o=k.deltaTime<j.time;if(this.reset(),k.eventType&b1&&0===this.count){return this.failTimeout()}if(p&&o&&q){if(k.eventType!=b6){return this.failTimeout()}var n=this.pTime?k.timeStamp-this.pTime<j.interval:!0,m=!this.pCenter||bA(this.pCenter,k.center)<j.posThreshold;this.pTime=k.timeStamp,this.pCenter=k.center,m&&n?this.count+=1:this.count=1,this._input=k;var l=this.count%j.taps;if(0===l){return this.hasRequireFailures()?(this._timer=a1(function(){this.state=aS,this.tryEmit()},j.interval,this),b4):aS}}return ai},failTimeout:function(){return this._timer=a1(function(){this.state=ai},this.options.interval,this),ai},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==aS&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ah.VERSION="2.0.4",ah.defaults={domEvents:!1,touchAction:bH,enable:!0,inputTarget:null,inputClass:null,preset:[[bp,{enable:!1}],[ba,{enable:!1},["rotate"]],[aO,{direction:bX}],[bY,{direction:bX},["swipe"]],[ar],[ar,{event:"doubletap",taps:2},["tap"]],[bR]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var b7=1,bV=2;b5.prototype={set:function(b){return aY(this.options,b),b.touchAction&&this.touchAction.update(),b.inputTarget&&(this.input.destroy(),this.input.target=b.inputTarget,this.input.init()),this},stop:function(b){this.session.stopped=b?bV:b7},recognize:function(h){var g=this.session;if(!g.stopped){this.touchAction.preventDefaults(h);var l,k=this.recognizers,j=g.curRecognizer;(!j||j&&j.state&aS)&&(j=g.curRecognizer=null);for(var i=0;i<k.length;){l=k[i],g.stopped===bV||j&&l!=j&&!l.canRecognizeWith(j)?l.reset():l.recognize(h),!j&&l.state&(b4|bS|bu)&&(j=g.curRecognizer=l),i++}}},get:function(f){if(f instanceof bi){return f}for(var d=this.recognizers,g=0;g<d.length;g++){if(d[g].options.event==f){return d[g]}}return null},add:function(d){if(a0(d,"add",this)){return this}var c=this.get(d.options.event);return c&&this.remove(c),this.recognizers.push(d),d.manager=this,this.touchAction.update(),d},remove:function(d){if(a0(d,"remove",this)){return this}var c=this.recognizers;return d=this.get(d),c.splice(aI(c,d),1),this.touchAction.update(),this},on:function(f,d){var g=this.handlers;return aZ(aJ(f),function(b){g[b]=g[b]||[],g[b].push(d)}),this},off:function(f,d){var g=this.handlers;return aZ(aJ(f),function(b){d?g[b].splice(aI(g[b],d),1):delete g[b]}),this},emit:function(g,f){this.options.domEvents&&bx(g,f);var i=this.handlers[g]&&this.handlers[g].slice();if(i&&i.length){f.type=g,f.preventDefault=function(){f.srcEvent.preventDefault()};for(var h=0;h<i.length;){i[h](f),h++}}},destroy:function(){this.element&&bT(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},aY(ah,{INPUT_START:b1,INPUT_MOVE:bO,INPUT_END:b6,INPUT_CANCEL:bU,STATE_POSSIBLE:ag,STATE_BEGAN:b4,STATE_CHANGED:bS,STATE_ENDED:bu,STATE_RECOGNIZED:aS,STATE_CANCELLED:at,STATE_FAILED:ai,DIRECTION_NONE:by,DIRECTION_LEFT:aW,DIRECTION_RIGHT:av,DIRECTION_UP:ak,DIRECTION_DOWN:b9,DIRECTION_HORIZONTAL:bX,DIRECTION_VERTICAL:bF,DIRECTION_ALL:a3,Manager:b5,Input:aC,TouchAction:bk,TouchInput:bo,MouseInput:bt,PointerEventInput:bs,TouchMouseInput:bl,SingleTouchInput:br,Recognizer:bi,AttrRecognizer:be,Tap:ar,Pan:bY,Swipe:aO,Pinch:ba,Rotate:bp,Press:bR,on:aP,off:aN,each:aZ,merge:aX,extend:aY,inherit:aU,bindFn:aT,prefixed:aF}),typeof define==aj&&define.amd?define(a5,function(){return ah}):"undefined"!=typeof module&&module.exports&&(module.exports=ah),a7[a5]=ah}(window,document,"Hammer")}(function(){function d(p,m){var q;m=m||{};this.trackingClick=false;this.trackingClickStart=0;this.targetElement=null;this.touchStartX=0;this.touchStartY=0;this.lastTouchIdentifier=0;this.touchBoundary=m.touchBoundary||10;this.layer=p;this.tapDelay=m.tapDelay||200;this.tapTimeout=m.tapTimeout||700;if(d.notNeeded(p)){return}function r(l,i){return function(){return l.apply(i,arguments)}}var k=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"];var o=this;for(var n=0,j=k.length;n<j;n++){o[k[n]]=r(o[k[n]],o)}if(b){p.addEventListener("mouseover",this.onMouse,true);p.addEventListener("mousedown",this.onMouse,true);p.addEventListener("mouseup",this.onMouse,true)}p.addEventListener("click",this.onClick,true);p.addEventListener("touchstart",this.onTouchStart,false);p.addEventListener("touchmove",this.onTouchMove,false);p.addEventListener("touchend",this.onTouchEnd,false);p.addEventListener("touchcancel",this.onTouchCancel,false);if(!Event.prototype.stopImmediatePropagation){p.removeEventListener=function(l,u,i){var s=Node.prototype.removeEventListener;if(l==="click"){s.call(p,l,u.hijacked||u,i)}else{s.call(p,l,u,i)}};p.addEventListener=function(s,u,l){var i=Node.prototype.addEventListener;if(s==="click"){i.call(p,s,u.hijacked||(u.hijacked=function(v){if(!v.propagationStopped){u(v)}}),l)}else{i.call(p,s,u,l)}}}if(typeof p.onclick==="function"){q=p.onclick;p.addEventListener("click",function(i){q(i)},false);p.onclick=null}}var c=navigator.userAgent.indexOf("Windows Phone")>=0;var b=navigator.userAgent.indexOf("Android")>0&&!c;var h=/iP(ad|hone|od)/.test(navigator.userAgent)&&!c;var f=h&&(/OS 4_\d(_\d)?/).test(navigator.userAgent);var g=h&&(/OS [6-7]_\d/).test(navigator.userAgent);var a=navigator.userAgent.indexOf("BB10")>0;d.prototype.needsClick=function(i){switch(i.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(i.disabled){return true}break;case"input":if((h&&i.type==="file")||i.disabled){return true}break;case"label":case"iframe":case"video":return true}return(/\bneedsclick\b/).test(i.className)};d.prototype.needsFocus=function(i){switch(i.nodeName.toLowerCase()){case"textarea":return true;case"select":return !b;case"input":switch(i.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return false}return !i.disabled&&!i.readOnly;default:return(/\bneedsfocus\b/).test(i.className)}};d.prototype.sendClick=function(j,k){var i,l;if(document.activeElement&&document.activeElement!==j){document.activeElement.blur()}l=k.changedTouches[0];i=document.createEvent("MouseEvents");i.initMouseEvent(this.determineEventType(j),true,true,window,1,l.screenX,l.screenY,l.clientX,l.clientY,false,false,false,false,0,null);i.forwardedTouchEvent=true;j.dispatchEvent(i)};d.prototype.determineEventType=function(i){if(b&&i.tagName.toLowerCase()==="select"){return"mousedown"}return"click"};d.prototype.focus=function(i){var j;if(h&&i.setSelectionRange&&i.type.indexOf("date")!==0&&i.type!=="time"&&i.type!=="month"){j=i.value.length;i.setSelectionRange(j,j)}else{i.focus()}};d.prototype.updateScrollParent=function(j){var k,i;k=j.fastClickScrollParent;if(!k||!k.contains(j)){i=j;do{if(i.scrollHeight>i.offsetHeight){k=i;j.fastClickScrollParent=i;break}i=i.parentElement}while(i)}if(k){k.fastClickLastScrollTop=k.scrollTop}};d.prototype.getTargetElementFromEventTarget=function(i){if(i.nodeType===Node.TEXT_NODE){return i.parentNode}return i};d.prototype.onTouchStart=function(k){var i,l,j;if(k.targetTouches.length>1){return true}i=this.getTargetElementFromEventTarget(k.target);l=k.targetTouches[0];if(h){j=window.getSelection();if(j.rangeCount&&!j.isCollapsed){return true}if(!f){if(l.identifier&&l.identifier===this.lastTouchIdentifier){k.preventDefault();return false}this.lastTouchIdentifier=l.identifier;this.updateScrollParent(i)}}this.trackingClick=true;this.trackingClickStart=k.timeStamp;this.targetElement=i;this.touchStartX=l.pageX;this.touchStartY=l.pageY;if((k.timeStamp-this.lastClickTime)<this.tapDelay){k.preventDefault()}return true};d.prototype.touchHasMoved=function(i){var k=i.changedTouches[0],j=this.touchBoundary;if(Math.abs(k.pageX-this.touchStartX)>j||Math.abs(k.pageY-this.touchStartY)>j){return true}return false};d.prototype.onTouchMove=function(i){if(!this.trackingClick){return true}if(this.targetElement!==this.getTargetElementFromEventTarget(i.target)||this.touchHasMoved(i)){this.trackingClick=false;this.targetElement=null}return true};d.prototype.findControl=function(i){if(i.control!==undefined){return i.control}if(i.htmlFor){return document.getElementById(i.htmlFor)}return i.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")};d.prototype.onTouchEnd=function(k){var m,l,j,o,n,i=this.targetElement;if(!this.trackingClick){return true}if((k.timeStamp-this.lastClickTime)<this.tapDelay){this.cancelNextClick=true;return true}if((k.timeStamp-this.trackingClickStart)>this.tapTimeout){return true}this.cancelNextClick=false;this.lastClickTime=k.timeStamp;l=this.trackingClickStart;this.trackingClick=false;this.trackingClickStart=0;if(g){n=k.changedTouches[0];i=document.elementFromPoint(n.pageX-window.pageXOffset,n.pageY-window.pageYOffset)||i;i.fastClickScrollParent=this.targetElement.fastClickScrollParent}j=i.tagName.toLowerCase();if(j==="label"){m=this.findControl(i);if(m){this.focus(i);if(b){return false}i=m}}else{if(this.needsFocus(i)){if((k.timeStamp-l)>100||(h&&window.top!==window&&j==="input")){this.targetElement=null;return false}this.focus(i);this.sendClick(i,k);if(!h||j!=="select"){this.targetElement=null;k.preventDefault()}return false}}if(h&&!f){o=i.fastClickScrollParent;if(o&&o.fastClickLastScrollTop!==o.scrollTop){return true}}if(!this.needsClick(i)){k.preventDefault();this.sendClick(i,k)}return false};d.prototype.onTouchCancel=function(){this.trackingClick=false;this.targetElement=null};d.prototype.onMouse=function(i){if(!this.targetElement){return true}if(i.forwardedTouchEvent){return true}if(!i.cancelable){return true}if(!this.needsClick(this.targetElement)||this.cancelNextClick){if(i.stopImmediatePropagation){i.stopImmediatePropagation()}else{i.propagationStopped=true}i.stopPropagation();i.preventDefault();return false}return true};d.prototype.onClick=function(i){var j;if(this.trackingClick){this.targetElement=null;this.trackingClick=false;return true}if(i.target.type==="submit"&&i.detail===0){return true}j=this.onMouse(i);if(!j){this.targetElement=null}return j};d.prototype.destroy=function(){var i=this.layer;if(b){i.removeEventListener("mouseover",this.onMouse,true);i.removeEventListener("mousedown",this.onMouse,true);i.removeEventListener("mouseup",this.onMouse,true)}i.removeEventListener("click",this.onClick,true);i.removeEventListener("touchstart",this.onTouchStart,false);i.removeEventListener("touchmove",this.onTouchMove,false);i.removeEventListener("touchend",this.onTouchEnd,false);i.removeEventListener("touchcancel",this.onTouchCancel,false)};d.notNeeded=function(j){var i;var m;var l;var k;if(typeof window.ontouchstart==="undefined"){return true}m=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1];if(m){if(b){i=document.querySelector("meta[name=viewport]");if(i){if(i.content.indexOf("user-scalable=no")!==-1){return true}if(m>31&&document.documentElement.scrollWidth<=window.outerWidth){return true}}}else{return true}}if(a){l=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/);if(l[1]>=10&&l[2]>=3){i=document.querySelector("meta[name=viewport]");if(i){if(i.content.indexOf("user-scalable=no")!==-1){return true}if(document.documentElement.scrollWidth<=window.outerWidth){return true}}}}if(j.style.msTouchAction==="none"||j.style.touchAction==="manipulation"){return true}k=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1];if(k>=27){i=document.querySelector("meta[name=viewport]");if(i&&(i.content.indexOf("user-scalable=no")!==-1||document.documentElement.scrollWidth<=window.outerWidth)){return true}}if(j.style.touchAction==="none"||j.style.touchAction==="manipulation"){return true}return false};d.attach=function(j,i){return new d(j,i)};if(typeof define==="function"&&typeof define.amd==="object"&&define.amd){define("fastclick",function(){return d})}else{if(typeof module!=="undefined"&&module.exports){module.exports=d.attach;module.exports.FastClick=d}}window.FastClick=d}());define("uitk_polyfill_placeholder",["uitk_domReady"],function(b){var a=(function(){var s=["text","search","url","tel","email","password","number","textarea"],j={live:false,hideOnFocus:false,className:"placeholderspolyfill",textColor:"#999",styleImportant:true},m=[37,38,39,40],h,g,d=new RegExp("\\b"+j.className+"\\b");function q(w){var v;if(w.createTextRange){v=w.createTextRange();v.move("character",0);v.select()}else{if(w.selectionStart){w.focus();w.setSelectionRange(0,0)}}}function o(){var v;if(this.value===this.getAttribute("placeholder")){if(!j.hideOnFocus){q(this)}else{this.className=this.className.replace(d,"");this.value="";v=this.getAttribute("data-placeholdertype");if(v){this.type=v}}}}function n(){var v;if(this.value===""){this.className=this.className+" "+j.className;this.value=this.getAttribute("placeholder");v=this.getAttribute("data-placeholdertype");if(v){this.type="text"}}}function r(){var x=this.getElementsByTagName("input"),v=this.getElementsByTagName("textarea"),w=x.length,y=w+v.length,A,B,z;for(z=0;z<y;z+=1){A=(z<w)?x[z]:v[z-w];B=A.getAttribute("placeholder");if(A.value===B){A.value=""}}}function p(v){g=this.value;return !(g===this.getAttribute("placeholder")&&m.indexOf(v.keyCode)>-1)}function c(){var v;if(this.value!==g){this.className=this.className.replace(d,"");this.value=this.value.replace(this.getAttribute("placeholder"),"");v=this.getAttribute("data-placeholdertype");if(v){this.type=v}}if(this.value===""){n.call(this);q(this)}}function k(v,x,w){if(v.addEventListener){return v.addEventListener(x,w.bind(v),false)}if(v.attachEvent){return v.attachEvent("on"+x,w.bind(v))}}function i(v){if(!j.hideOnFocus){k(v,"keydown",p);k(v,"keyup",c)}k(v,"focus",o);k(v,"blur",n)}function l(){var B=document.getElementsByTagName("input"),D=document.getElementsByTagName("textarea"),w=B.length,z=w+D.length,x,v,y,C,A;for(x=0;x<z;x+=1){y=(x<w)?B[x]:D[x-w];A=y.getAttribute("placeholder");if(s.indexOf(y.type)>-1){if(A){C=y.getAttribute("data-currentplaceholder");if(A!==C){if(y.value===C||y.value===A||!y.value){y.value=A;y.className=y.className+" "+j.className}if(!C){if(y.form){v=y.form;if(!v.getAttribute("data-placeholdersubmit")){k(v,"submit",r);v.setAttribute("data-placeholdersubmit","true")}}i(y)}y.setAttribute("data-currentplaceholder",A)}}}}}function f(){var A=document.getElementsByTagName("input"),C=document.getElementsByTagName("textarea"),w=A.length,z=w+C.length,x,y,v,D;for(x=0;x<z;x+=1){y=(x<w)?A[x]:C[x-w];D=y.getAttribute("placeholder");if(s.indexOf(y.type)>-1){if(D){if(y.type==="password"){try{y.type="text";y.setAttribute("data-placeholdertype","password")}catch(B){}}y.setAttribute("data-currentplaceholder",D);if(y.value===""||y.value===D){y.className=y.className+" "+j.className;y.value=D}if(y.form){v=y.form;if(!v.getAttribute("data-placeholdersubmit")){k(v,"submit",r);v.setAttribute("data-placeholdersubmit","true")}}i(y)}}}}function u(z){var C=document.createElement("input"),y,B,x,w,v;if(typeof C.placeholder==="undefined"){for(y in z){if(z.hasOwnProperty(y)){j[y]=z[y]}}B=document.createElement("style");B.type="text/css";var A=(j.styleImportant)?"!important":"";x=document.createTextNode("."+j.className+" { color:"+j.textColor+A+"; }");if(B.styleSheet){B.styleSheet.cssText=x.nodeValue}else{B.appendChild(x)}document.getElementsByTagName("head")[0].appendChild(B);if(!Array.prototype.indexOf){Array.prototype.indexOf=function(D,E){for(w=(E||0),v=this.length;w<v;w+=1){if(this[w]===D){return w}}return -1}}if(!Function.prototype.bind){Function.prototype.bind=function(D){if(typeof this!=="function"){throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable")}var H=Array.prototype.slice.call(arguments,1),G=this,E=function(){},F=function(){return G.apply(this instanceof E?this:D,H.concat(Array.prototype.slice.call(arguments)))};E.prototype=this.prototype;F.prototype=new E();return F}}f();if(j.live){h=setInterval(l,100)}return true}return false}return{init:u,refresh:l}}());return a});function onYouTubeIframeAPIReady(){uitk.youtubeApiDefer.resolve()}define("uitk",["uitk_domReady","fastclick","jquery","uitk_i18n","handlebars","hbsHelpers"],function(j,aj,J,V,U){var ab,l,p,ak=document.getElementsByTagName("html")[0].getAttribute("data-version"),R=false,r=Modernizr.touch,q=Modernizr.win8touch,E=Modernizr.checkedselector,S=Modernizr.mediaqueries,al,W=Modernizr.placeholder,z=(r||q),w,K={},ac={},I=J("body"),ag="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable], body",m={desktop:"(min-width: 60em)",tablet:"(min-width: 45.375em) and (max-width: 59.938em)",smallTablet:"(min-width: 30.688em) and (max-width: 45.313em)",mobile:"(max-width: 30.625em)"},aa=J(window),b="transitionEnd oTransitionEnd msTransitionEnd transitionend webkitTransitionEnd",y,B,ah,P,Y,D,Z,N,n,F,u,s,M,Q,H,g,A,af,ai,f,G,X,C,d,O,T,c,k,v,L;var a=J("html").data("language"),ae=a.split("-");w=ae[0];if(ae[1]){w+="_"+ae[1].toUpperCase()}if(V){V.locale=w}p=function(am){if(!!am){ac[am.toString()]=true}};l=function(am){if(!!am){!!ac[am.toString()]&&delete ac[am.toString()]}};ab=function(){Z.init();F();s();M();Q.init();L()};N=(function(){var am=0;return function(){am++;return"uitkId"+am}}());al="click";var i,o,h,x,ad;h=function(ao){if(!ao.data||(ao.data&&!ao.data.eventId)){return false}var an=ao.data.eventId,am=ao.handleObj.selector?J(ao.target).closest(ao.handleObj.selector):J(ao.currentTarget),ap=am.data("eventStorage");if(!ap){ap={}}if(!ap[an]){ap[an]={preventDoubleClick:false}}am.data("eventStorage",ap);return ap[an]};ad=function(am){clearTimeout(i);o=true;i=setTimeout(function(){o=false},1000);clearTimeout(am.touchEventTimeout);am.touchEventFlag=true;am.touchEventTimeout=setTimeout(function(){am.touchEventFlag=false},1000)};x=function(am){am.preventDoubleClick=true;setTimeout(function(){am.preventDoubleClick=false},200)};J.event.special.uitkMouseenter={bindType:"mouseover",delegateType:"mouseover",handle:function(ao){var am=null,ap=h(ao),an=ap?ap.touchEventFlag:o;if(!an){am=J.event.special.mouseenter.handle.call(this,ao)}return am}};J.event.special.uitkMouseleave={bindType:"mouseout",delegateType:"mouseout",handle:function(ao){var am=null,ap=h(ao)||{},an=ap?ap.touchEventFlag:o;if(!an){am=J.event.special.mouseleave.handle.call(this,ao)}return am}};H=function(am){setTimeout(function(){window.location.href=am},0)};A=function(ar,ap,aq){var ao=ap.attr("href"),an=new Function(ar).call(ap[0]),am=uitk.utils.keyIsDown(91)||uitk.utils.keyIsDown(17)||(aq&&aq.metaKey),at=ao&&ao!=="#"&&ao!=="";if(an===false||!at){aq&&aq.preventDefault();return false}else{if(!am){aq&&aq.preventDefault();uitk.redirect(ao);return an}else{return an}}};g=function(an){var am=J(an.target).closest("[data-onclick]");uitk.dataOnclick.runOnclickFunction(am.data("onclick"),am,an)};I.on(al+".onclick","[data-onclick]",g);P=function(ao,an,ap,aq,am){var ar="uitk_toggle";I.on(al+".toggle",ao,{preventDoubleClick:true},function(av){var at=J(av.target).closest(ao),aw,au;av.preventDefault();at[ar]();au=at.data(ar).state;if(au==="closed"){if(an){an(at)}at[ar]("open");if(ap){ap(at)}}else{if(au==="open"){if(aq){aq(at)}if(am){aw=uitk.subscribe("toggle.closed",function(ax,ay){if(ay[0]===at[0]){am(at);uitk.unsubscribe("toggle.closed",aw)}})}at[ar]("close")}}})};y={topics:{},lastToken:0,topic:function(am){var an=this.topics;if(!an[am]){an[am]=[]}return an[am]},publish:function(at){var ap=y.topics[at],an,au=arguments.length,ar=[],am,ao,av,aq;if(ap){for(aq=0;aq<au;aq=aq+1){ar.push(arguments[aq])}an=ap.length;for(aq=an-1;aq>=0;aq=aq-1){am=ap[aq];ao=am.context;av=am.callback;if(typeof av==="function"){av.apply(ao,ar)}}}},subscribe:function(at,an,av){var aw=arguments.length,ax,aq,am,au=2,ap=an,ao=y.lastToken++,ar;if(typeof an==="function"){ap=null;au=1}if(arguments.length>au){for(ar=au;ar<aw;ar=ar+1){ax=arguments[ar];if(typeof ax==="function"){aq=y.topic(at);am=aq.length;aq.push({context:ap,callback:arguments[ar],token:ao.toString()})}}}return ao.toString()},unsubscribe:function(an){var ap=y.topics[an],at,ar=arguments.length,am,ao,aq;if(ar>1&&ap){for(ao=1;ao<ar;ao=ao+1){at=ap.length;am=arguments[ao];if(typeof am==="function"){for(aq=at-1;aq>=0;aq=aq-1){if(ap[aq].callback===am){ap.splice(aq,1)}}}else{if(typeof am==="string"){for(aq=at-1;aq>=0;aq=aq-1){if(ap[aq].token===am){ap.splice(aq,1)}}}}}}else{if(ar===1&&ap){delete y.topics[an]}}}};B=function(ao,am){var ap={transition:"fade",publish:true},av=am?J.extend(true,{},ap,am):ap,an,at,aq=Modernizr.csstransitions;an=function(){if(typeof y.publish==="function"){if(av.publish){y.publish("remove",ao)}if(av.topic){y.publish(av.topic,ao)}}};at=J(document.activeElement);if(ao.is(at)||ao.find(at).length>0){var au=ao.next(),ar=au.length>0?au:ao.parent();ao.blur();uitk.utils.focusElement(ar)}if(av.transition==="none"||!aq){ao.empty().remove();an()}else{ao.addClass("remove-animated animated-fade");ao.one(uitk.utils.transitionEnd=b,function(){ao.empty().remove();an()})}};I.on(al+".remove","[data-control=remove]",function(ap){var ao=J(ap.target).closest("[data-control=remove]"),an=ao.data(),am=an.targetId?J("#"+an.targetId):J(this);ap.preventDefault();uitk.remove(am,an)});ah=function(an,ao){var am=ao||{};y.publish("addNode",an,am)};I.on(al+".add","[data-control=add]",function(ap){var ao=J(ap.target).closest("[data-control=add]"),am=ao.data(),an=am.templateId;ap.preventDefault();uitk.addNode(an,am)});Z=(function(){var am={},an="placeholderspolyfill";if(typeof Placeholders!=="undefined"&&!W){am.init=function(){Placeholders.init({styleImportant:false,hideOnFocus:true})};am.refresh=function(){Placeholders.refresh()};am.updateClass=function(ao){ao.each(function(){var ap=J(this);if(ap.attr("placeholder")!==ap.attr("value")){ap.removeClass(an)}else{ap.addClass(an)}})};am.getInputValue=function(ao){return ao.val()===ao.attr("placeholder")?"":ao.val()};am.updateInputValue=function(ap,ao){if(ao){ap.val(ao);ap.removeClass(an)}else{ap.val(ap.attr("placeholder"));ap.addClass(an)}}}else{am.init=function(){};am.refresh=function(){};am.updateClass=function(){};am.getInputValue=function(ao){return ao.val()};am.updateInputValue=function(ap,ao){ap.val(ao)}}return am})();C=function(){uitk.refreshPlaceholders();uitk.initCalendarInputs()};Y={getFutureDateAsString:function(am,an){am.setTime(am.getTime()+(an*24*60*60*1000));return(am.toGMTString())},createCookie:function(ao,aq,ar){var an,ap,am;if(ar){an=new Date();ap=uitk.getFutureDateAsString(an,ar);am="; expires="+ap}else{am=""}document.cookie=ao+"="+aq+am+"; path=/";if(ar&&ar<0){y.publish("cookie.deleted",ao)}else{y.publish("cookie.created",{name:ao,value:aq,days:ar,expires:ap})}},readCookie:function(ao){var aq=ao+"=",am=document.cookie.split(";"),ar=am.length,ap=0,an;for(ap=0;ap<ar;ap++){an=am[ap];while(an.charAt(0)===" "){an=an.substring(1,an.length)}if(an.indexOf(aq)===0){return an.substring(aq.length,an.length)}}return null},deleteCookie:function(am){uitk.createCookie(am,"",-1)}};D={publishState:function(ao,an,ap){var am="media."+ao;y.publish(am,an,ap)},embedVideo:function(ao){var am=arguments,an;if(ao==="youtube"){an=D.embedYoutube(am[1],am[2],am[3],am[4])}else{return}return an},loadYoutubeApi:function(){uitk.youtubeApiDefer=J.Deferred();var an="//www.youtube.com/iframe_api",am=document.createElement("script"),ao=document.getElementsByTagName("script")[0];am.src=an;ao.parentNode.insertBefore(am,ao)},embedYoutube:function(at,an,au,ap){var am,ar,aq=J.Deferred(),ao;if(!uitk.youtubeApiDefer){D.loadYoutubeApi()}ar={autohide:1,showinfo:1,fs:1,modestbranding:1,rel:0,theme:"light",enablejsapi:1};if(an){an=J.extend(true,{},ar,an)}else{an=ar}ao=function(aw){var av=aw.data;switch(av){case 1:D.publishState("started","youtube",at);break;case 0:D.publishState("ended","youtube",at);break;default:}};uitk.youtubeApiDefer.done(function(){am=new YT.Player(au,{height:"",width:"",videoId:at,playerVars:an,events:{onReady:ap,onStateChange:ao}});aq.resolve(am)});return aq.promise()},createVideoObject:function(am,an){var ao;if(am==="youtube"){ao={videoObj:an,type:am,playVideo:function(){an.playVideo()},rewindVideo:function(){if(an.getPlayerState()!==5){an.seekTo(0,true)}},pauseVideo:function(){an.pauseVideo()},stopVideo:function(){an.stopVideo()}}}else{ao={}}return ao}};Q=(function(){var aq=Modernizr.highres,at=window.matchMedia||window.msMatchMedia,aw=Modernizr.mediaqueries,am=Modernizr.mq,ao={},an,ar,ap,aA,ax,av,aB,au,az,ay;au=function(aC,aD){return{mediaQuery:aC.media,key:aD,retina:aq,screenWidth:aa.width(),orientation:window.orientation}};az=function(){return ao};ay=function(aC,aD){ao[aD]=aC};an=function(aC){y.publish("mediaquery.matched",aC)};ar=function(){aA(true)};ap=function(aC,aD){if(am(aC.media)){an(au(aC,aD))}};aA=function(aG){var aF,aD,aE,aC=az();for(aF in aC){if(aC.hasOwnProperty(aF)){aD=aC[aF];aE=am(aD.media);if(aE&&(aD.currentMatch!==true||aG===true)){an(au(aD,aF));aD.currentMatch=true}else{if(!aE){aD.currentMatch=false}}}}};av=(function(){var aC;if(at){aC=function(aH,aG){var aE,aF,aI,aD=az();if(aD[aG]){aE=aD[aG]}else{aE=at(aH);ay(aE,aG)}aF=function(){if(at(aE.media).matches){clearTimeout(aI);aI=setTimeout(function(){ap(aE,aG)},100)}};aE.addListener(aF);if(window.orientation!==undefined&&window.addEventListener){window.addEventListener("orientationchange",aF)}ap(aE,aG)}}else{if(aw){y.subscribe("debounced.resize",aA);aC=function(aG,aF){var aE,aD=az();if(aD[aF]){aE=aD[aF]}else{aE={media:aG,currentMatch:false};ay(aE,aF)}ap(aE,aF)}}else{aC=function(){}}}return aC})();ax=function(){var aE=arguments.length,aC=arguments[0],aD;if(aE===2){Q.registerSingle(aC,arguments[1])}else{if(aE===1&&typeof aC==="object"){for(aD in aC){if(aC.hasOwnProperty(aD)){Q.registerSingle(aC[aD],aD)}}}}};aB=function(){if(aw){ax(m)}else{var aC={};aC.media=m.desktop;an(aC,"desktop")}};return{init:aB,register:ax,registerSingle:av,getData:au,getMediaQueries:az,publish:an,publishAgain:ar}})();n=function(ao,aq){var ap=ao.replace(/^#/,""),am,an;am=U.templates[ao+".hbs"]||U.templates[ao];if(!am){am=U.templates[ap+".hbs"]||U.templates[ap];if(am){ao=ap}else{an=J(ao);if(an.length>0){am=U.compile(an.html())}else{console.log("ERROR: No template found");return}}}if(aq){U.registerPartial(ao,am)}return am};F=function(){var ax,am,av,at=document.documentElement.clientWidth,ap=document.documentElement.clientHeight;aa.resize(function(){if(ax){clearTimeout(ax)}ax=setTimeout(function(){if(document.documentElement.clientWidth!==at||document.documentElement.clientHeight!==ap){at=document.documentElement.clientWidth;ap=document.documentElement.clientHeight;y.publish("debounced.resize")}},100)});var aq,aw,ao=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;aq=function(){return I.height()};aw=aq();J(document).keydown(function(ay){p(ay.which);if(av){clearTimeout(av)}av=setTimeout(function(){y.publish("debounced.keydown",{key:ay.which})},10)});J(document).keyup(function(ay){l(ay.which);if(am){clearTimeout(am)}am=setTimeout(function(){y.publish("debounced.keyup",{key:ay.which})},10)});if(typeof ao!=="undefined"){var au=new ao(function(ay){ay.every(function(){if(aw===aq()){return false}aw=aq();y.publish("debounced.bodyResize")})}),an={attributes:true,childList:true,subtree:true,characterData:true};au.observe(I[0],an)}else{var ar=function(){setTimeout(function(){if(aw!==aq()){aw=aq();y.publish("debounced.bodyResize")}ar()},500)};ar()}};u=function(am){var an;J(am).scroll(function(){if(an){clearTimeout(an)}an=setTimeout(function(){y.publish("debounced.scroll")},150)})};u(window);u("[data-scroll-area]");s=function(){var am=100,an,ao;aa.resize(function(){var ap=new Date().getTime();if(ao&&ap<ao+am){clearTimeout(an);an=setTimeout(function(){y.publish("throttled.resize");ao=ap},am)}else{y.publish("throttled.resize");ao=ap}})};M=function(){var am='input[data-autoselect="touch"]';if(z){I.on("focus",am,function(ao){var an=J(ao.target).closest(am);if(an){setTimeout(function(){an[0].setSelectionRange(0,9999)},50)}});I.on("mouseup",am,function(an){an.preventDefault()})}};af=function(){if(/iP(hone|od|ad)/.test(navigator.platform)){var am=(navigator.appVersion).match(/OS (\d+)_(\d+)_?(\d+)?/);return[parseInt(am[1],10),parseInt(am[2],10),parseInt(am[3]||0,10)]}else{return[]}};ai=(function(){var ao=document.querySelector&&document.querySelector('meta[name="viewport"]'),an=navigator.userAgent,am=function(){ao.content="width=device-width, minimum-scale=0.25, maximum-scale=1.6"};if(ao&&af()[0]<=5&&!/Opera Mini/.test(an)){ao.content="width=device-width, minimum-scale=1.0, maximum-scale=1.0";document.addEventListener("gesturestart",am,false)}})();f=function(an,am,ao,ap){if(window.expClientLogging&&window.expClientLogging.logMessage){expClientLogging.logMessage(ao+"Error",["errorName="+ap.name,"errorMessage="+ap.message,"stackTrace="+ap.stack,"file="+an,"module="+am,"function="+ao])}throw ap};L=function(){aj.attach(document.body)};G=function(ao){var an=ao[0],at,aw=0,ap=0,au=false,aq=parseInt(I.css("border-top-width"))||0,ar=J("html"),am;for(at=an;at!==null;at=at.offsetParent){aw+=Math.floor(at.offsetLeft);ap+=Math.floor(at.offsetTop);if(J(at).css("position")==="fixed"){au=true}}if(ar.hasClass("ie8")){var av=navigator.appVersion;if(av.search("NT 5.1")!==-1){am="xp"}if(av.search("NT 6.0")!==-1){am="vista"}if(av.search("NT 6.1")!==-1){am="7"}}if(au){ap+=aa.scrollTop()}if((au&&am!=="vista")||(am==="7")||(am==="xp")||(!ar.hasClass("lt-ie10")&&!ar.hasClass("ie10"))){ap-=aq}return{left:aw,top:ap}};X=function(){var ao=uitk.version.split("."),ap,aq=ao[0].replace("v",""),an=ao[1],am=ao[3];if(ao[3]==="local"){ap="/static/core/"}else{if(ao[4]==="SNAPSHOT"){ap="//a.travel-assets.com/uitoolkit/SNAPSHOT/"+aq+"-"+an+"/"+am+"/core/"}else{ap="//a.travel-assets.com/uitoolkit/"+aq+"-"+an+"/"+am+"/core/"}}return ap};d=function(am){if(!am.is(ag)){am.attr("tabindex","-1").addClass("no-outline")}am.focus();return am};O=function(am){return am.find(ag).filter(":visible:not([tabindex=-1])")};T=function(am){var an=false;if(!am.is(document)&&am.is(ag)){an=true}return an};c=function(am){if(isNaN(am)){am=parseInt(am)}return !!ac[am.toString()]};k=function(am,ao){var an=J("#uitk-live-announce");ao=ao||"assertive";if(an.length>0){an.empty("");an.attr("aria-live",ao);if(typeof am==="object"&&am.jquery){an.text(am.text())}else{if(typeof am==="string"){an.text(am)}}return an}else{return false}};window.uitk={init:ab,supportsChecked:E,version:ak,readyState:R,locale:w,redirect:H,dataOnclick:{runOnclickFunction:A,dataOnclickHandler:g},publish:y.publish,subscribe:y.subscribe,unsubscribe:y.unsubscribe,remove:B,addNode:ah,getFutureDateAsString:Y.getFutureDateAsString,createCookie:Y.createCookie,readCookie:Y.readCookie,deleteCookie:Y.deleteCookie,customToggle:P,refreshPlaceholders:Z.refresh,updatePlaceholderClass:Z.updateClass,updatePlaceholderValue:Z.updateInputValue,getPlaceholderValue:Z.getInputValue,prepFields:C,embedVideo:D.embedVideo,createVideoObject:D.createVideoObject,createUniqueId:N,isTouchDevice:z,getCompiledTemplate:n,registerScrollArea:u,hasTouch:r,clickEvent:al,getEventStorage:h,isResponsive:S,iosVersion:af,mediaquery:Q,logError:f,corePath:X,getPosition:G,modules:{},timestamps:K,utils:{focusElement:d,focusableElements:O,isFocusableElement:T,keyIsDown:c,liveAnnounce:k}};return window.uitk});require(["uitk"],function(a){a.init()});define("uitk_focus",["jquery","uitk"],function(f,a){var c=!!!document.removeEventListener&&!!document.activeElement,b=function(){var p="",k=-1,j=false,i=false,n=function(){};function l(){k=setTimeout(function(){try{if(p!=document.activeElement){n&&n.apply()}j&&l()}catch(q){}},1)}function g(){if(!i||j){return}m();j=true;l()}function m(){if(!i){return}j=false;clearTimeout(k)}function o(q){n=q||function(){};i=true}function h(){n=null;i=false}return{start:g,stop:m,init:o,uninit:h,initialized:function(){return i}}};var d=function(){var m=b(),n="body";function o(q){n=q}function l(){return"uitk.focusCapture"}function p(){var q=a.utils.focusableElements(f(n)),r="";if(!a.utils.keyIsDown(16)){r=q.first()}else{r=q.last()}if(r){a.utils.focusElement(f(r))}}function j(){a.utils.focusElement(f("h1,h2,h3,h4,h5,h6",f(n)).first());m.initialized()&&m.start()}function g(q){if(!!q){a.utils.focusElement(q)}else{window.focus()}m.initialized()&&m.stop()}function k(s){var r=document.activeElement||s.target,q=f(n)[0];a.publish(l(),{focused:r,isContainedInContext:!!q&&f.contains(q,r)||false,container:q})}function i(){if(c){m.init(k)}else{document.addEventListener("focus",k,true)}}function h(){if(c){m.uninit()}else{document.removeEventListener("focus",k,true)}}return{focus:p,firstFocus:j,blur:g,enable:i,disable:h,focusEvent:l,setFocusContextSelector:o}};a.createFocus=function(){return d()};return d});define("uitk_browserStorage",["uitk_domReady","uitk"],function(c,d){var f="UITK BrowserStorage",o="local",l="session",b="persistentCookies",n="sessionCookies",a="page",m={saveItem:function(s,v,r){var u=this.type,q=" saveItem(key, value, expiry): ";if(typeof s!=="string"){throw new TypeError(f+q+"'key' must be a string")}if(typeof v!=="string"&&u!==a){throw new TypeError(f+q+"'value' must be a string")}if(r&&typeof r!=="number"&&(u===b||u===n)){throw new TypeError(f+q+"'expiry' must be a number")}this.endpoint.setItem(s,v,r)},saveItems:function(q,s){if(typeof q==="object"){for(var r in q){if(q.hasOwnProperty(r)){this.saveItem(r,q[r],s)}}}else{throw new TypeError(f+" saveItems(keyValueObj): 'keyValueObj' must be an object")}},saveAsJSON:function(r,s,q){if(JSON){this.saveItem(r,JSON.stringify(s),q)}},readItem:function(q){if(typeof q==="string"){return this.endpoint.getItem(q)}else{throw new TypeError(f+" readItem(key): 'key' must be a string")}},readJSONAsObject:function(q){return jQuery.parseJSON(this.readItem(q))},doesKeyExist:function(q){return(this.readItem(q)!==null)},deleteItem:function(q){if(typeof q==="string"){this.endpoint.removeItem(q)}else{throw new TypeError(f+" deleteItem(key): 'key' must be a string")}},deleteItems:function(q){var s=this,u=q.length,r;for(r=0;r<u;r=r+1){s.endpoint.removeItem(q[r])}}},k={},g=Modernizr.localstorage,p=Modernizr.sessionstorage;k[o]={available:g,endpoint:g?window.localStorage:{},fallback:a};k[l]={available:p,endpoint:p?window.sessionStorage:{},fallback:a};function h(q){var r=this;if(!k[q]){throw new Error("UITK Html5BrowserStorage: 'type' must be '"+o+"' or '"+l+"' and not '"+q+"'")}r.type=q;r.endpoint=k[q].endpoint}h.prototype=m;h.prototype.constructor=h;function j(r,q){var s=this;if(r!==b&&r!==n){throw new Error("UITK CookieBrowserStorage: 'type' must be '"+b+"' or '"+n+"' and not '"+r+"'")}s.type=r;s.storage={};s.endpoint={setItem:function(v,w,u){u=u||q;d.createCookie(v,w,u)},getItem:function(u){return d.readCookie(u)},removeItem:function(u){return d.deleteCookie(u)}}}j.prototype=m;j.prototype.constructor=j;function i(){var q=this;q.type=a;q.storage={};q.endpoint={setItem:function(r,s){q.storage[r]=s},getItem:function(r){if(!q.storage.hasOwnProperty(r)){return null}else{return q.storage[r]}},removeItem:function(r){if(q.storage.hasOwnProperty(r)){delete q.storage[r]}}}}i.prototype=m;i.prototype.constructor=i;d.createBrowserStorage=function(u){var r=arguments,w,s,q=r[1],v=r[2];if(typeof q==="string"){w=q;if(typeof v==="number"){s=v}}else{if(typeof q==="number"){s=q}}if(w&&w!==b&&w!==n&&w!==a){throw new Error("uitk.createBrowserStorage: 'fallback' must be '"+b+"', '"+n+"', '"+a+"' or '' and not '"+w+"'")}if(u===o||u===l){if(k[u].available){return new h(u)}else{u=w||k[u].fallback}}if(u===n){return new j(u)}if(u===b){s=s||365;return new j(u,s)}if(u===a){return new i()}throw new Error("uitk.createBrowserStorage: 'type' must be '"+o+"', '"+l+"', '"+b+"', '"+n+"' or '"+a+"' and not '"+u+"'")};return d});define("uitk_abacus",["uitk_browserStorage"],function(m){var r=window.location.host,o=document.URL,b=["www.expedia.com","wwwexpediacom.trunk.sb.karmalab.net","wwwexpediacom.integration.sb.karmalab.net"],u=["uitoolkit.sb.karmalab.net","uitoolkit.test.sb.karmalab.net"],q="/test/prototypes/abacus-api",a,h="uitkAbacus.testExposed",c="utik_ab_",n={},s=m.createBrowserStorage("session"),f,l,i,d,j,g,p,k;f=function(){return n};l=function(v){n[v]=true};i=function(x,w,v){x=x||r;w=w||o;v=v||m.version;if($.inArray(x,b)>-1){return"/tools/abacus/test"}else{if(v.indexOf(".local.")>-1){return q}else{if($.inArray(x,u)>-1){if(w.indexOf("/docs/")>-1){return w.split("/docs/")[0]+q}else{if(w.indexOf("/test/")>-1){return w.split("/test/")[0]+q}else{return false}}}else{return false}}}};d=function(){a=i()};d();j=function(w){var x=/^.{8}(-.{4}){3}-.{12}$/,v=w.match(x)?w:w.slice(0,8)+"-"+w.slice(8,12)+"-"+w.slice(12,16)+"-"+w.slice(16,20)+"-"+w.slice(20);return v};g=function(B,x){var w=window.xpGuid,v,z=window.site_id,A;x=x||1;if((!w||!z)&&window.utag_data&&utag_data.context){var y=utag_data.context;if(!w&&y.user){w=y.user.guid}if(!z&&y.site){z=y.site.siteId}}if(w&&z){v=j(w);A={pageInfo:{pageName:"uitk"},context:{user:{guid:v},site:{siteId:z,siteName:r},clientInfo:{requestMadeByBot:false},tests:[{testId:parseInt(B.id),value:parseInt(B.bucket),testInstanceId:parseInt(B.instanceId),experimentId:parseInt(B.id),bucketValue:parseInt(B.bucket),instanceId:parseInt(B.instanceId)}]},utcTimestamp:(new Date()).getTime(),version:"v1"};$.ajax({url:"//userinteraction.prod.expedia.com/userinteraction/v1/record.json",type:"POST",data:JSON.stringify(A),contentType:"application/json;",timeout:3000,dataType:"json",error:function(D,E,C){console.log("uis tracking error: "+E,C)}})}else{if(x<3){setTimeout(function(){g(B,x+1)},2000)}else{console.log("uis tracking error: guid and/or siteId not found")}}};p=function(v,x,w){if(v&&x&&a){v=v.toString();l(v);$.ajax({url:a,data:{type:"json",expid:v},timeout:3000,dataType:"json",success:function(A){var y=A.abacus.experimentid,C=y.abvalue,z=y.instanceid,B={id:v,bucket:C,instanceId:z};if(z!=="99990"){m.publish(h,B);s.saveAsJSON(c+v,B)}else{if(w){m.unsubscribe(h,w)}}}})}};k=function(v,z,A,y){var x=s.readJSONAsObject(c+v),w;if(x){A.call(y||this,x)}else{w=m.subscribe(h,function(B,C){if(C.id===v){A.call(y||this,C)}m.unsubscribe(h,w)})}if(!n[v]){m.abacus.exposeTest(v,z,w)}};m.abacus={_getExposed:f,_setExposed:l,_getApiUrl:i,_setApiUrl:d,_convertGuid:j,trackWithUIS:g,exposeTest:p,addTest:k};return m.abacus});define("uitk_plugins",["jquery"],function(c){var d={};function a(f,g,h){var i;this.element=c(f);g=g||{};i=this.element.data()||{};this.options=c.extend(true,{},h,i,g);if(this.init){this.init()}}function b(g,f){c.fn[g]=function(){var j,k,h,i;if(typeof arguments[0]==="object"){j=arguments[0];k=arguments[1];h=arguments[2];i=arguments[3]}else{j={};k=arguments[0];h=arguments[1];i=arguments[2]}return this.each(function(){if(!c.data(this,g)){c.data(this,g,new f(this,j))}if(typeof k==="string"){c.data(this,g)[k](h,i)}})}}return{newModule:a,initPlugin:b}});define("uitk_date",["jquery","uitk"],function(b,a,c){if("undefined"===typeof(c)){c={}}if("undefined"===typeof(c.core)){c.core={}}if("undefined"===typeof(c.core.date)){c.core.date={}}c.core.date.Calendar=function(d){var f={config:d,rM:[31,28,31,30,31,30,31,31,30,31,30,31],getDateFormat:function(){return this.config.getDateFormat()},getDateSeparator:function(){return this.config.getDateSeparator()},getStartOfWeek:function(){return this.config.getStartOfWeek()},getDateFromString:function(q,g){if(!q||!q.length){return null}q=q.replace(/\s+/g,"");if(q.match(/[^-|\d|\.|\/]/)){return null}var p=q.split(/-|\.|\//);for(var k=0;k<p.length;k++){p[k]=parseInt(p[k],10)}if(!p[1]){return null}var j,n,o;var h=this.getDateFormat();if(h=="yymmdd"){if(!p[2]){return null}j=p[1];n=p[2];o=p[0]}else{if(h=="mmddyy"){j=p[0];n=p[1]}else{j=p[1];n=p[0]}if(p[2]){o=p[2]}else{o=this.DefYr(j-1,n)}}var l=new Date().getFullYear();j-=1;if(o.toString().length<=2){o+=2000}if(o<l&&!g){o=l}if(o<1601||o>4500||j<0||j>11||n<1||n>this.getMonthCount(j,o)){return null}return new Date(o,j,n)},toStringFromComp:function(l,g,n){function k(m){return m<10?"0"+m:m}var i="";var j=this.getDateSeparator();var h=this.getDateFormat();l=k(l);g=k(g);if(h=="mmddyy"){i=g+j+l+j+n}else{if(h=="ddmmyy"){i=l+j+g+j+n}else{i=n+j+g+j+l}}return i},toStringFromDate:function(j){var i="";var k=this.getDateSeparator();var h=this.getDateFormat();var l=j.getMonth()+1;var g=j.getDate();var m=j.getFullYear();if(h=="mmddyy"){i=l+k+g+k+m}else{if(h=="ddmmyy"){i=g+k+l+k+m}else{i=m+k+l+k+g}}return i},IsLY:function(g){if(0==g%4&&((g%100!=0)||(g%400==0))){return true}else{return false}},DefYr:function(g,j){var h=new Date();var i=(h.getYear()<1000)?1900+h.getYear():h.getYear();if(g<h.getMonth()||(g==h.getMonth()&&j<h.getDate())){i++}return i},getMonthCount:function(g,i){var h=this.rM[g];if((1==g)&&this.IsLY(i)){h++}return h},IsLastDayOfMonth:function(g){return this.getMonthCount(g.getMonth(),g.getFullYear())==g.getDate()},incrementMonth:function(g){if(g.getMonth()==11){g.setMonth(0);g.setFullYear(g.getFullYear()+1)}else{g.setMonth(g.getMonth()+1)}return g},decrementMonth:function(g){if(g.getMonth()==0){g.setMonth(11);g.setFullYear(g.getFullYear()-1)}else{g.setMonth(g.getMonth()-1)}return g}};return f};c.core.date.DateUpdater=function(h,f){var d;var g={config:f,calendar:h,register:function(k,z,x,l,A,n,j){x=x||0;var q=b(k);var u=this.calendar.getDateFromString(q[0].value,j);var o=b(z);var s=this.calendar.getDateFromString(o[0].value,j);var p=this.calendar.getDateSeparator();var i=this.calendar.getDateFormat();var v=i.substring(0,2)+p+i.substring(2,4)+p+i.substring(4,6);var y=new Date();y.setHours(0,0,0,0);if(u&&u.valueOf()<y.valueOf()){q[0].value=v}if(s&&s.valueOf()<y.valueOf()){o[0].value=v}d=this;var m=function(){d.update("#"+k.id,"#"+z.id,x,l,n,j)};var w=function(){d.updateByNights(q[0],o[0],x,j);d.update(q[0],o[0],x,l,null,j)};b("body").on("blur","#"+k.id,m);b("body").on("focus","#"+k.id,m);b("body").on("blur","#"+z.id,m);b("body").on("focus","#"+z.id,m);var r=b("#"+k.id+"-stay-nights");if(r.length!=0){r.change(w);r.keypress(w)}},days_between:function(m,l){var n=1000*60*60*24;var k=m.getTime();var j=l.getTime();var i=Math.abs(k-j);return Math.round(i/n)},updateNumberOfNights:function(m,l){var k=document.getElementById("hot-sear-date-num-nights");if(this.config!=undefined&&k!=null){var i=this.config.getNightTextConfig();var j=this.days_between(l,m);if(j>1){k.innerHTML=j+" "+i[1]}else{k.innerHTML=i[0]}k.style.display="inline"}},updateDayName:function(n,j){var m=b("#"+n.id+"-day");if(this.config!=undefined&&m.length!=0){try{var i=j.getDay();if(i==undefined){m.html("");return}var l=this.config.getDayNames();m.html(l[i])}catch(k){m.html("")}}},updateByNights:function(j,k,n,m){var i=this.calendar.getDateFromString(b(j).val(),m);var l=b("#"+j.id+"-stay-nights");if(i){i.setDate(i.getDate()+parseInt(l.get(0).value));b(k).val(this.calendar.toStringFromComp(i.getDate(),i.getMonth()+1,i.getFullYear()))}},update:function(l,r,o,p,v,j){var s=b(l);var q=b(r);var k=this.calendar.getDateFromString(s.val(),j);var i=this.calendar.getDateFromString(q.val(),j);var m=b("#"+l.id+"-stay-nights");o=s.attr("data-min-booking-length")||0;if(!v||isNaN(parseInt(v))||i){v=0}this.updateDayName(l,k);this.updateDayName(r,i);if(k&&i){this.updateNumberOfNights(k,i)}if(k){if(i&&m.length!=0){var w=Math.round((i-k)/1000/60/60/24);if(w<1){w=m.get(0).value}m.get(0).value=w}var u=Math.max(o,v);k=new Date(k.valueOf()+1000*3600*24*u);var n=this.calendar.toStringFromComp(k.getDate(),k.getMonth()+1,k.getFullYear());if(i&&i<=k){i=null}if(null==i&&(q.attr("data-optional")!="true"||q.val()!="")){i=this.calendar.getDateFromString(s.val(),j);this.updateNumberOfNights(i,k);if(m.length!=0&&m.get(0).value!=1){k.setDate(k.getDate()+parseInt(m.get(0).value)-1);var n=this.calendar.toStringFromComp(k.getDate(),k.getMonth()+1,k.getFullYear())}if(n!=q.val()){q.val(n)}if(c.core.date.datePicker){c.core.date.datePicker.entries[q.attr("id")].currentValue=k}this.updateDayName(r,k)}}if(s.is(".fieldDefaultText")){s.removeClass("fieldDefaultText")}if(q.is(".fieldDefaultText")){q.removeClass("fieldDefaultText")}a.updatePlaceholderClass(s);a.updatePlaceholderClass(q)}};return g};c.core.date.CalendarControl=function(){var d=function(){var r="mmddyy";var k="/";var s=0;var i=["January","February","March","April","May","June","July","August","September","October","November","December"];var j=["JAN","FEV","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"];var g=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var v=["S","M","T","W","T","F","S"];var n="Close";var m="";var h=["night","nights"];var f=function(w){h=w};var p=function(w,x){r=w;k=x};var u=function(x,w,z,y){s=x;i=w;v=z;if(y!=undefined){g=y}};var q=function(x,w,y){s=x;j=w;v=y};var l=function(w){n=w};var o=function(w){m=w};return{setFormatConfig:p,setUnitConfig:u,setSingleUnitConfig:q,setTextConfig:l,setLocaleConfig:o,setNightTextConfig:f,getDateFormat:function(){return r},getDateSeparator:function(){return k},getStartOfWeek:function(){return s},getMonths:function(){return i},getSingleMonths:function(){return j},getDayAbbrs:function(){return v},getDayNames:function(){return g},getCloseText:function(){return n},getLocaleConfig:function(){return m},getNightTextConfig:function(){return h}}};return{Config:new d("ddmmyy",".",2)}}();a.publish("sf.date.ready");window.exp=c;return c});define("uitk_typeahead",["jquery","handlebars","uitk","uitk_tooltip","uitk-ta-by-category.hbs","uitk-ta-default.hbs"],function(d,g,b){if(typeof window.uitkTypeahead!=="undefined"){console.log("Typeahead is now included in the UITK so you no longer need to load it manually");return window.uitkTypeahead}if(d("body")[0].hasAttribute("data-disable-typeahead")){return true}var c="uitk_tooltip";var f=function(h,l,i){this.$element=d(h);this.$label=this.$element.closest("label");this.ariaOwns=this.$element.attr("aria-owns")||"backwards";var j="uitk_ta_content",k='<div id="'+j+'" role="presentation"></div>',m=d("#"+j).length;if(m===0){d("body").append(k)}this.firstItemFlag=true;if(!i.rawHtml){if(b){this.template=b.getCompiledTemplate(l)}else{l=d(l).html();this.template=g.compile(l)}}else{this.template=g.compile(l)}this.opts=d.extend(true,{},f.defaultOptions,i);this.searchType=null;this.cache={};this.ignoreNext=false;this.isClickOn=false;this.bodyClick=false;this.$element.autocomplete="off";this.$element.on("focus",d.proxy(this.focus,this)).on("keydown",d.proxy(this.keyDown,this)).on("keyup",d.proxy(this.keyUp,this)).on("keypress",d.proxy(this.keyPress,this)).on("blur",d.proxy(this.blur,this));this.$ta=d('<div class="typeahead" role="presentation">');if(this.opts.tooltip){this.$element[c]({content:this.$ta,template:'<div class="uitk-tooltip" role="presentation"><div class="tooltip-inner" role="presentation"></div><span class="tooltip-arrow-border" role="presenation"></span><span class="tooltip-arrow" role="presentation"></span></div>'})}else{this.$ta.appendTo(document.body);if(!b.isTouchDevice){this.$ta.on("mousedown",d.proxy(this.clickOn,this)).on("mouseup",d.proxy(this.clickOff,this)).on("click",d.proxy(this.click,this)).on("mouseenter","a",d.proxy(this.mouseEnter,this))}else{this.$ta.on("click",function(n){n.preventDefault()})}}this.$element.data("typeahead",this);this.request("zzzzzz",true)};f.prototype={constructor:f,shouldBeOpen:false,startRequest:function(){var h=this.$element.val();if(h.length>=this.opts.minchar){if(!this.cache[h]){this.request(h)}else{this.render(h,this.cache[h])}}else{this.close()}},request:function(k,j){var i=[this.opts.serviceUrl,"/hint/es/",this.opts.version,"/ac/",this.opts.locale,"/",encodeURIComponent(k),"?callback=?"].join("");var h;if(j){h=d.noop}else{h=d.proxy(this.callback,this)}d.getJSON(i,{type:this.opts.mask,ab:this.opts.abtest,lob:this.opts.lob,format:"json",dest:this.opts.dest,maxresults:this.opts.maxresults,rid:this.opts.regionid},h)},callback:function(i){var h=i.sr?i.sr:i.r;var j=i.q;if(h&&this.shouldBeOpen){this.cache[j]=h;this.render(j,h)}else{this.cache[j]=[];this.close()}},render:function(q,k){if(k.length>0&&this.$element.val()==q){k.sort(function(s,r){return s.i-r.i});var h=this.opts;var i={};d.each(k,function(s,r){var u=f.CATEGORIES[r.t];var v=u?u.name:"Other";if(typeof i[v]==="undefined"){i[v]=true}});var o={};if(this.opts.lob=="HOTELS"){if(i["Region/City"]){o["Region/City"]=[]}if(i.Attractions){o.Attractions=[]}if(i.Airports){o.Airports=[]}if(i.Hotels){o.Hotels=[]}}else{if(this.opts.lob=="CARS"){if(i.Airports){o.Airports=[]}if(i["Region/City"]){o["Region/City"]=[]}if(i.Attractions){o.Attractions=[]}}}d.each(k,function(s,r){var u=f.CATEGORIES[r.t];var v=u?u.name:"Other";if(typeof o[v]==="undefined"){o[v]=[]}o[v].push(r);if(h.forceicon){r.icon=h.forceicon}else{r.icon=u.icon}if(typeof r.l!="undefined"){r.l=r.l.replace(/'/g,"&#39;")}else{r.l=r.f.replace(/'/g,"&#39;")}r.data=JSON.stringify(r)});var l={continueText:this.opts.continuetext,closeText:this.opts.closetext,results:k,resultsByCategory:o,ariaOwns:this.ariaOwns};var n=this.template(l);var m=this;this.$ta.html(n);if(this.$ta.is(":hidden")){this.$ta.show()}this.$label.addClass("focused");if(this.opts.tooltip){this.$element[c]("show");this.$element[c]("checkPos",true,true);this.$ta.on("mousedown",d.proxy(this.clickOn,this)).on("mouseup",d.proxy(this.clickOff,this)).on(b.clickEvent,d.proxy(this.click,this)).on("mouseenter","a",d.proxy(this.mouseEnter,this));if(window.navigator.msPointerEnabled&&!window.PointerEvent){d("body").on(b.clickEvent+" focusin."+c,function(r){if(r.type==="focusin"&&!b.utils.isFocusableElement(d(r.target))){return}if(r.target===m.$element[0]){return}m.close()})}}else{var p=parseInt(this.$element.css("height"),10);var j=this.$element.offset();this.$ta.css({top:j.top+p+"px",left:j.left+"px"});this.$ta.show()}b.utils.liveAnnounce(k.length+" results displayed for your search. Use the arrow keys to browse them.","polite")}else{this.close()}},close:function(){this.$label.removeClass("focused");if(this.opts.tooltip){this.$element[c]("hide")}else{this.$ta.hide();this.$ta.html("")}if(this.bodyClick){this.$ta.unbind("mousedown",d.proxy(this.cancelEvent,this));d(document.body).unbind("mousedown",d.proxy(this.close,this));this.bodyClick=false}},prev:function(){var h=this.$ta.find("a"),m=this.$ta.find(".highlight").removeClass("highlight"),j=h.index(m),k=h[j-1],l=d(k).attr("id");d(m).attr("aria-selected","false");if(k){d(k).addClass("highlight");d(k).attr("aria-selected","true");this.$element.attr("aria-activedescendant",l)}else{this.$element.removeAttr("aria-activedescendant");d('[aria-selected="true"]').attr("aria-selected","false");b.utils.liveAnnounce(this.$element.val(),"polite")}},next:function(){var h=this.$ta.find("a"),n=this.$ta.find(".highlight").removeClass("highlight"),k=h.index(n),l=h[k+1],j=d(l).attr("id"),m,o="";d(n).attr("aria-selected","false");if(d(h[k+1]).hasClass("close")){b.utils.liveAnnounce("close","assertive")}if(!d("html").hasClass("safari")){if(this.firstItemFlag===true){this.firstItemFlag=false}else{if(typeof h[k]==="undefined"){m=d(".active-tooltip").find("a")[0];o=d(m).attr("data-value");b.utils.liveAnnounce(o,"polite")}}}if(l){d(l).addClass("highlight");d(l).attr("aria-selected","true");this.$element.attr("aria-activedescendant",j)}else{b.utils.liveAnnounce(this.$element.val(),"polite")}},removeHighlights:function(){this.$ta.find(".highlight").removeClass("highlight")},selectHighlighted:function(m,l){var k=this.$ta.find(".highlight"),n=k.text(),j,i,h=d("html");j=n.replace(/(^\s+|\s+$)/g,"");if(m&&k.length===0){k=d(m.target).closest(".results-item").find("a")}this.updateTextField(k);k.removeClass("highlight");if(l===true){i=k.text().replace(/(^\s+|\s+$)/g,"");if(this.$element.attr("locale")==="en_US"||h.attr("data-language")==="en_US"){b.utils.liveAnnounce("Close button is selected and the menu has closed","assertive")}else{b.utils.liveAnnounce(i,"assertive")}}else{if(h.hasClass("safari")){if(this.$element.attr("locale")==="en_US"||h.attr("data-language")==="en_US"){b.utils.liveAnnounce("You selected "+j+" and the menu has closed","assertive")}else{b.utils.liveAnnounce(j,"assertive")}}}},updateTextField:function(h){if(h){var i=h.attr("data-value");if(i){i=i.replace(/&#39;/g,"'");this.$element.val(i);if(this.opts.selectioncallback){if(typeof this.opts.selectioncallback=="function"){this.opts.selectioncallback(h)}else{if(typeof this.opts.selectioncallback=="string"){window[this.opts.selectioncallback](h)}}}}this.close();this.$element.focus()}},focus:function(h){},keyDown:function(h){var i;if(!h){h=window.event}i=h.keyCode;switch(i){case 27:this.close();h.stopPropagation();break;case 9:case 13:if(this.$ta.find(".highlight").length){h.stopPropagation();if(i===13){h.preventDefault()}this.selectHighlighted(h,this.$ta.find(".highlight").hasClass("close"))}break;case 32:if(this.$ta.find(".highlight").hasClass("close")){h.stopPropagation();h.preventDefault()}break;case 39:if(this.$ta.find(".highlight").length){this.ignoreNext=true;h.stopPropagation();this.selectHighlighted()}break;case 38:h.preventDefault();h.stopPropagation();this.prev();break;case 40:h.stopPropagation();h.preventDefault();this.next();break}},keyPress:function(h){if(!h){h=window.event}if(h.keyCode==13){this.close()}},keyUp:function(h){if(this.ignoreNext){this.ignoreNext=false;return}if(!h){h=window.event}switch(h.keyCode){case 27:break;case 37:this.removeHighlights();break;case 38:h.preventDefault();h.stopPropagation();break;case 40:h.stopPropagation();h.preventDefault();break;case 16:case 17:case 18:break;case 13:this.shouldBeOpen=false;break;case 32:if(this.$ta.find(".highlight").hasClass("close")){h.stopPropagation();h.preventDefault();this.selectHighlighted(h,this.$ta.find(".highlight").hasClass("close"))}break;default:this.shouldBeOpen=true;this.startRequest();break}},blur:function(){if(window.navigator.msPointerEnabled&&!window.PointerEvent){return}if(!this.isClickOn){this.close()}else{this.$ta.bind("mousedown",d.proxy(this.cancelEvent,this));d(document.body).bind("mousedown",d.proxy(this.close,this));this.bodyClick=true}},clickOn:function(){this.isClickOn=true},clickOff:function(){this.isClickOn=false},click:function(h){h.stopPropagation();h.preventDefault();this.selectHighlighted(h)},mouseEnter:function(h){this.removeHighlights();d(h.currentTarget).addClass("highlight")},cancelEvent:function(h){h.cancelBubble=true;if(h.stopPropagation){h.stopPropagation()}if(h.preventDefault){h.preventDefault()}h.cancel=true;h.returnValue=false},remove:function(){this.$element.autocomplete="on";this.$element.closest("form").attr("autocomplete","on");this.$element.off("focus",d.proxy(this.focus,this)).off("keydown",d.proxy(this.keyDown,this)).off("keyup",d.proxy(this.keyUp,this)).off("keypress",d.proxy(this.keyPress,this)).off("blur",d.proxy(this.blur,this));this.$ta.off("mousedown",d.proxy(this.mouseDown,this)).off("mouseup",d.proxy(this.mouseUp,this)).off("click",d.proxy(this.click,this)).off("mouseenter","a",d.proxy(this.mouseEnter,this)).remove()}};f.AIRPORT=1;f.CITY=2;f.MULTICITY=4;f.NEIGHBORHOOD=8;f.POI=16;f.ADDRESS=32;f.METROCODE=64;f.HOTEL=128;f.REGIONTYPE={ALL:31,AIRPORT:1,CITIES:2};f.LOB={HOTELS:"HOTELS",PACKAGES:"PACKAGES",FLIGHTS:"FLIGHTS"};f.CATEGORIES={CITY:{id:0,name:"Region/City",icon:"location"},ATTRACTION:{id:1,name:"Attractions",icon:"location"},AIRPORT:{id:2,name:"Airports",icon:"flights"},HOTEL:{id:3,name:"Hotels",icon:"hotels"},ADDRESS:{id:4,name:"Address",icon:"location"},TRAINSTATION:{id:5,name:"Train Station",icon:"train"},METROSTATION:{id:6,name:"Metro Station",icon:"train"}};g.registerHelper("each_with_key",function(m,i){var k,h="",j,l=i.hash.key;for(j in m){if(m.hasOwnProperty(j)){k=m[j];if(l){k[l]=j}h+=i.fn(k)}}return h});f.defaultOptions={minchar:3,maxitems:10,version:"v2",locale:"en_US",abtest:"",mask:(f.AIRPORT|f.CITY|f.MULTICITY|f.NEIGHBORHOOD|f.POI),lob:f.LOB.FLIGHTS,dest:false,closetext:"Close",continuetext:"Continue typing to refine search",selectioncallback:null,tooltip:true,forceicon:false,serviceUrl:"//suggest.expedia.com"};function a(h){if(h.data("typeahead")){return}var i=h.data("template");if(i==undefined){return}if(i.indexOf("/")>=0){d.ajax({url:i,success:function(k){var j=h.data();j.rawHtml=true;new f(h,k,j)},dataType:"text"})}else{new f(h,i,h.data())}}d(function(){d("body").on("focus.typeahead",'[data-provide="typeahead"]',function(){var h=d(this);a(h)})});window.uitkTypeahead=f;return f});define("uitk_tooltip",["uitk_domReady","jquery","uitk","uitk_plugins"],function(j,d,r,n){var a="uitk_tooltip",l=d(window),q=d("body"),x=d(document),o="active-tooltip",p="fade",v=d("html").hasClass("lt-ie8"),i=parseFloat(q.css("min-width"),10),h=i>950||Modernizr.mediaqueries==="false"||Modernizr.mediaqueries===false,k={arrow:true,delay:0,fade:"out",pos:"tc",showTooltip:true,posClass:{arrow:"show-arrow",t:"top",b:"bottom",m:"mid",mTop:"mid-top",mBottom:"mid-bottom",l:"left",r:"right",c:"center"},posOffset:3,template:'<div class="uitk-tooltip"><div class="tooltip-inner"></div><span class="tooltip-arrow"></span></div>',textAlign:"left",trigger:"click",width:288,hideOffScreen:true,announce:true},w={standard:{},"standard-inverse":{},hover:{delay:150,pos:"tc",trigger:"hover",width:"auto"},calendar:{delay:{show:0,hide:0},pos:"bl",posOffset:-6,trigger:"focus",width:477,hideOffScreen:false,announce:false},typeahead:{delay:{show:0,hide:0},pos:"bl",posOffset:-6,preventFlip:true,width:390,hideOffScreen:false,announce:false},"typeahead-by-category":{delay:{show:0,hide:0},pos:"bl",posOffset:-6,preventFlip:true,width:480,hideOffScreen:false,announce:false}},u,c,g=r.isTouchDevice,b=r.clickEvent+"."+a;w["calendar-button"]=w.calendar;u=function(E){var B,A=d("."+o);for(B=A.length-1;B>=0;B=B-1){var y=A.eq(B),C=(y.hasClass("theme-typeahead")||y.hasClass("theme-typeahead-by-category"));if(C){continue}if(!(E&&(y[0]===E[0]))){var z=y.data("trigger");var D=d(z).data(a);if(D){D.hide(true,undefined)}}}};r.subscribe("modal.appended",u);function s(z,A){var C,B,y;this.element=d(z);A=A||{};C=this.element.data()||{};if(A.jsTheme){B=A.jsTheme}else{if(this.element.data("jsTheme")){B=this.element.data("jsTheme")}else{B=A.trigger||C.trigger||k.trigger;C.jsTheme=B}}y=w[B]||{};this.options=d.extend(true,{},k,y,C,A);this.options.vPos=this.options.pos.charAt(0);this.options.hPos=this.options.pos.charAt(1);if(this.options.delay&&typeof this.options.delay==="number"){this.options.delay={show:this.options.delay,hide:this.options.delay}}this.init()}s.prototype={constructor:s,init:function(){var y=this.options,z=y.posClass;this.isShowing=false;this.posClasses=this.getPosClasses(z);this.content=this.getContent();if(y.content){this.ariaData=y.tooltipId||"tooltip"+new Date().getTime()}this.manual=y.manual||"none"},getPosClasses:function(A){var z="";for(var y in A){if(A.hasOwnProperty(y)&&y!=="arrow"){z=z+A[y]+" "}}return z},getContent:function(){var B,y,z,A=this.options;if(A.content&&typeof A.content==="string"){B='<p class="secondary">'+A.content+"</p>"}else{if(A.content&&typeof A.content==="object"){B=A.content}else{if(A.contentId){y=d("#"+A.contentId)}else{z=this.element.attr("href");if(z){z=z.replace(window.location.href.split("#")[0],"")}y=d(z)}B=y.html()}}return B},makeVisible:function(){this.tooltip.css({visibility:"visible"})},makeInvisible:function(){if(r.isTouchDevice){var y=document.documentElement.clientWidth/window.innerWidth;if(y>1.01){return}}if(this.tooltip&&this.tooltip.css){this.tooltip.css({visibility:"hidden"})}},generateTooltip:function(){var A=this,y=this.options,z=d(y.template),C=this.ariaData,B=y.jsTheme==="click"||y.jsTheme==="calendar"||y.jsTheme==="calendar-button"||y.jsTheme==="typeahead"||y.jsTheme==="typeahead-by-category"||y.jsTheme==="country-code";z.find(".tooltip-inner").prepend(this.content);z.find(".tooltip-inner p:last").addClass("last");z.addClass(o).css({width:y.width,"text-align":y.textAlign,visibility:"hidden"}).data("trigger",A.element);if(y.jsTheme){z.addClass("theme-"+y.jsTheme);if(B){z.addClass("theme-standard")}}if(y.fade&&(y.fade===true||y.fade==="true")){z.addClass(p)}if(y.arrow){z.addClass(y.posClass.arrow)}if(y.tooltipClasses){z.addClass(y.tooltipClasses)}if(C){if(y.jsTheme==="typeahead"||y.jsTheme==="typeahead-by-category"){z.attr("id",C)}else{z.attr("id",C).attr("role","tooltip")}}else{if(y.tooltipId){z.attr("id",y.tooltipId)}}if(A.options.trigger==="hover"&&!g){z.find(".close").remove()}return z},show:function(D,C){var B=this,z=this.options;if((this.options.manual==="open"||this.options.manual==="both")&&D){r.publish("tooltip.beforeOpen",B.element,C);return}this.isShowing=true;if(this.hideTimeout){clearTimeout(this.hideTimeout)}if(!B.tooltip||B.tooltip.closest("html").length===0){u();B.tooltip=B.generateTooltip();B.tooltipArrow=B.tooltip.find(".tooltip-arrow");if(z.jsTheme==="typeahead"||z.jsTheme==="typeahead-by-category"){var A=d("#uitk_ta_content"),y=A.length;if(y>0){B.tooltip.appendTo(A)}else{B.tooltip.appendTo("body")}}else{B.tooltip.appendTo("body")}this.changePos();B.setPos();B.checkPos(false,true)}else{u(B.tooltip)}setTimeout(function(){B.tooltip.addClass("on");if(z.fade&&z.fade==="out"){setTimeout(function(){B.tooltip.addClass(p)},10)}if(z.announce){r.utils.liveAnnounce(d(B.content),"polite")}r.publish("tooltip.open",B.element,C)},z.delay.show)},hide:function(C,A){var z=this,B,y=d("input[aria-activedescendant]");if(y.length>0){y.removeAttr("aria-activedescendant")}if((this.options.manual==="close"||this.options.manual==="both")&&C){r.publish("tooltip.beforeClose",z.element,A);return}this.isShowing=false;if(this.showTimeout){clearTimeout(this.showTimeout)}if(this.tooltip){B=this.tooltip;this.hideTimeout=setTimeout(function(){B.removeClass("on");r.publish("tooltip.hidden",z.element);setTimeout(function(){if(!B.hasClass("on")&&!z.isShowing){B.remove()}},100)},this.options.delay.hide)}},setPos:function(A,y){var B=this.options,C=A||B.vPos,z=y||B.hPos,F=this.getPos(C,z),E=parseInt(this.tooltip.find(".tooltip-arrow").outerWidth()),D=B.jsTheme!=="calendar"||B.jsTheme!=="typeahead"||B.jsTheme!=="typeahead-by-category";this.tooltip.css({left:F.left,top:F.top});if(B.hPos==="c"){F.leftShift=F.leftShift-Math.floor(E/2)}this.tooltip.find(".tooltip-arrow").css({"margin-left":F.leftShift,"margin-right":F.rightShift})},getTopPos:function(I,y){var E=r.getPosition(y),A=y.outerHeight(),D=this.options.posOffset,H=this.tooltip,G,z=this.tooltipArrow,C,B;var F=d(".modal-wrap").scrollTop();G=H.outerHeight();E.top-=F;if(I==="t"){C=E.top-G-D}else{if(I==="m"){C=E.top+A/2-G/2}else{if(I==="mTop"){B=parseInt(z.css("bottom"),10)+parseInt(z.css("border-top-width"),10);C=E.top-G+A/2+B}else{if(I==="mBottom"){B=parseInt(z.css("top"),10)+parseInt(z.css("border-top-width"),10);C=E.top+A/2-B}else{if(I==="b"){C=E.top+A+D}}}}}return C},getWindowWidth:function(){return l.width()},getLeftPos:function(H,M,y){var G=y.offset(),B=y.outerWidth(),F=this.options.posOffset,A,C,J,K,E,I,z,L=this.tooltip,D;D=L.outerWidth();if(v){G.left=G.left-((l.width()-q.width())/2)}if(H==="c"){E=G.left+B/2-D/2;I=G.left+B/2+D/2;z=this.getWindowWidth();if(E<0){C=E;A=0}else{if(I>z){if(h){C=0}else{C=I-z}A=G.left+B/2-D/2-C}else{A=G.left+B/2-D/2}}}else{if(H==="r"){if(M==="m"||M==="mTop"||M==="mBottom"){A=G.left+B+F}else{K=G.left-D+B;if(K>0){A=K}else{J=-(K);A=0}}}else{if(H==="l"){if(M==="m"||M==="mTop"||M==="mBottom"){A=G.left-D-F}else{K=D+G.left;z=this.getWindowWidth();if(K<z){A=G.left}else{if(h){C=0}else{C=K-z}A=G.left-C}}}}}return{left:A,leftShift:C,rightShift:J}},getPos:function(C,A){var E={},H=this.options,B=H.posClass,G=C||H.vPos,D=A||H.hPos,z=this.element,F=this.tooltip,y;E.leftShift=0;E.rightShift=0;F.removeClass(this.posClasses);F.addClass(B[G]+" "+B[D]);E.top=this.getTopPos(G,z);y=this.getLeftPos(D,G,z);E.left=y.left;if(y.leftShift){E.leftShift=y.leftShift}if(y.rightShift){E.rightShift=y.rightShift}return E},changePos:function(){if(this.options.pos.length!==2){var C=this.options.pos.split(","),B=0,A=this.getWindowWidth(),y=d("html").hasClass("ie8");for(var z=0;z<C.length;z++){if(C[z].length>2&&!y){C[z]=C[z].trim();B=parseInt(C[z].substring(3,C[z].length));if(A<=B){this.options.vPos=C[z].charAt(0);this.options.hPos=C[z].charAt(1)}}else{this.options.vPos=this.options.pos.charAt(0);this.options.hPos=this.options.pos.charAt(1)}}return}},testTopPos:function(y,z,A){return y+z>A},testBottomPos:function(y,z,A,B){return y-z<A+B},testLeftPos:function(y,A,z){return y+A>z},testRightPos:function(z,B,A,y){return z-B<A+y},checkPos:function(S,D,L,I){if(this.tooltip&&this.tooltip instanceof jQuery){var A=L||this.options.vPos,z=I||this.options.hPos;this.makeInvisible();if(this.options.preventFlip){this.changePos();this.setPos(A,z);this.makeVisible();return}var K=this.getPos(A,z),B=this.tooltip;var O=parseInt(B.css("padding-left"),10),R=parseInt(B.css("padding-top"),10),F=K.top,Q=K.left,y=Q+B.outerWidth(),G=F+B.outerHeight(),C=l.scrollTop(),P=l.scrollLeft(),H=l.height(),U=l.width(),T=this.testTopPos(F,R,C),N=this.testBottomPos(G,R,C,H),J=this.testLeftPos(Q,O,P),M=this.testRightPos(y,O,P,U),E=false;if(T&&N&&J&&M){if(S){this.changePos();this.setPos(A,z)}this.makeVisible();return}if(A==="m"){if(z==="l"&&!J){z="r";E=true}else{if(z==="r"&&!M){z="l";E=true}}}else{if(z==="l"&&!M){z="l";E=true}else{if(z==="r"&&(!J||h)){z="r";E=true}else{if(z==="c"&&(!M||!J)){z="c";E=true}}}}if(A==="t"&&!T){A="b";E=true}else{if(A==="b"&&!N){A="t";E=true}else{if(A==="m"){if(T&&!N){A="mTop";E=true}else{if(N&&!T){A="mBottom";E=true}}}}}if(E){this.changePos();this.setPos(A,z);if(D){this.checkPos(false,false,A,z)}else{this.makeVisible()}}else{if(!this.options.hideOffScreen){this.makeVisible()}}}},updateContent:function(y){if(y&&typeof y==="string"){this.content='<p class="secondary">'+y+"</p>"}else{if(y&&typeof y==="object"){this.content=y}}}};n.initPlugin(a,s);d(window).on("orientationchange",function(z){if(!d(z.target).css("visibility")==="hidden"){y=d(z.target).closest('[data-control="tooltip"]');y[a]("hide",true,e)}else{var y=d(z.target).closest('[data-control="tooltip"]');y[a]("checkPos",true,e)}});var f=r.createUniqueId();q.on(b,'[data-control="tooltip"]',{eventId:f},function(B){var y=d(B.target).closest('[data-control="tooltip"]'),A=y.data("trigger"),z=w[y.data("jsTheme")],C=y.data("showTooltip");if((A&&A!=="hover")||(!A&&z&&z.trigger!=="hover")||(y.attr("href")&&y.attr("href").charAt(0)==="#")||(v&&y.attr("href")&&y.attr("href").indexOf("#")!==-1)){if(A!=="hover"||(A==="hover"&&C===true)){y[a]("show",true,B);B.preventDefault()}}});var m=function(D,B,C){var y=d(D.target).closest('[data-control="tooltip"]'),A=y.data("trigger"),z=w[y.data("jsTheme")];if(A===B||(!A&&z&&z.trigger===B)){D.preventDefault();y[a](C)}};q.on("uitkMouseenter."+a+" focus."+a,'[data-control="tooltip"]',{eventId:f},function(y){m(y,"hover","show",true,y)});q.on("uitkMouseleave."+a+" blur."+a,'[data-control="tooltip"]',{eventId:f},function(y){m(y,"hover","hide",true,y)});q.on("focus."+a,'[data-control="tooltip"]',function(y){m(y,"focus","show",true,y)});q.on("blur."+a,'[data-control="tooltip"]',function(y){m(y,"focus","hide",true,y)});q.on(b,".active-tooltip .close",function(z){var y=d(z.target).closest(".active-tooltip");z.preventDefault();y.data("trigger")[a]("hide",true,z)});x.on(b+" focusin."+a,function(z){if(z.type==="focusin"&&!r.utils.isFocusableElement(d(z.target))){return}var y=d(z.target).closest('[data-control="tooltip"]');if(y.length<=0){y=d(z.target)}if(y.data("control")!=="tooltip"&&y.data("control")!=="calendar"&&y.data("control")!=="calendar-button"&&!y.hasClass(o)&&y.closest("."+o).length===0){u()}});x.on("keydown",function(y){if(y.keyCode===27){u()}});c=function(){var z,y=d("."+o);for(z=y.length-1;z>=0;z=z-1){if(d(y.eq(z).data("trigger")).css("visibility")==="hidden"){d(y.eq(z).data("trigger"))[a]("hide",true,true)}else{d(y.eq(z).data("trigger"))[a]("checkPos",true,true)}}};d(window).on("scroll."+a+" resize."+a,function(){c()});r.subscribe("modal.appended",function(){d(".modal-wrap").on("scroll."+a,function(){c()})});r.tooltips={hideAll:u};r.modules.Tooltip=s;return s});define("uitk_tabs",["uitk_domReady","jquery","uitk","uitk_plugins"],function(c,j,d,h){var k="uitk_tabs",i=j("body"),l=window.location.pathname+"_"+k,n=Modernizr.sessionstorage,m=Modernizr.hashchange,g="on",f={initialTab:0,hashSuffix:"tab",history:false,tabState:true};function a(o,q){var p=this,r;p.element=j(o);p.tabs=p.element.find(".tabs li");q=q||{};r=p.element.data()||{};p.options=j.extend({},f,r,q);p.init()}a.prototype={init:function(){var s=this,p,r;s.element.attr("data-control","tabs");s.tabsContent=j();for(r=s.tabs.length;r>0;r=r-1){var q=s.tabs.eq(r-1),o=s.getContentElem(q);q.data("content",o);s.tabsContent=s.tabsContent.add(o)}if(s.tabs.find("a[data-initial-tab]").length>0){s.stopInitSelection=true}if(m){j(window).on("hashchange."+k,function(){var u=s.getNextTab();if(u){s.showTab(u)}})}p=s.getNextTab(true);if(p){s.doShowTab(p,true)}},selectTab:function(p){var o=this;if(!m||!o.options.history){o.showTab(p.closest("li"))}else{window.location.hash=p.attr("href")+"_"+o.options.hashSuffix}},getContentElem:function(q){var p=this,o=q.find("a").attr("href");return p.element.find(o)},getNextTab:function(z){var x=this,q=x.options,u=x.tabs,w=window.location.hash,r=new RegExp("_"+q.hashSuffix+"$"),s=u.find('a[href="'+w.replace(r,"")+'"]'),A,p,y,o,v;if(z&&n&&q.tabState){p=sessionStorage.getItem(l);if(p){A=JSON.parse(p);for(v=A.length-1;v>=0;v=v-1){y=u.find('a[href="'+A[v]+'"]');if(y.length>0){return y.parent()}}}}if(w&&s.length>0){o=s.parent()}else{if(z&&!x.stopInitSelection){if(q.initialTab+1<=u.length){o=u.eq(q.initialTab)}else{o=u.eq(0)}}}return o},showTab:function(p,q){var o=this;o.doShowTab(p,q);d.publish("tab.selected",p)},doShowTab:function(q,r){var p=this;var o=q.data("content");p.tabsContent.removeClass(g);p.tabs.find("a").removeClass(g).attr("aria-selected","false");q.find("a").addClass(g).attr("aria-selected","true");if(o){o.addClass(g)}if(!r){p.storeState();q.find("a").focus()}},storeState:function(){var q=this,o,r,p;if(n&&q.options.tabState){r=[];o=j(".tabs a."+g);for(p=o.length-1;p>=0;p=p-1){r.push(o.eq(p).attr("href"))}sessionStorage.setItem(l,JSON.stringify(r))}}};h.initPlugin(k,a);function b(){j("[data-control=tabs]")[k]()}b();d.subscribe("tab.init",function(){b()});i.on(d.clickEvent+"."+k,"[data-control=tabs] .tabs a",function(p){var o=j(p.target).closest("a");p.preventDefault();o.closest("[data-control=tabs]")[k]("selectTab",o)});i.on("keydown."+k,"[data-control=tabs] .tabs a",function(s){var p=j(s.target),o=s.keyCode,r,q;if(o===37||o===38){r=p.parent().prev();if(r.length>0){r.find(">a").focus();if(o===38){s.preventDefault();return false}}else{if(o===37){p.closest(".tabs").find("li:last>a").focus()}}}else{if(o===39||o===40){q=p.parent().next();if(q.length>0){q.find(">a").focus();if(o===40){s.preventDefault();return false}}else{if(o===39){p.closest(".tabs").find("li:first>a").focus()}}}else{if(o===13||o===32){p.click();s.preventDefault()}}}});return a});define("uitk_toggle",["uitk_domReady","jquery","uitk","uitk_plugins"],function(i,d,r,o){var a="uitk_toggle",p=d("body"),b="open",l="after-open",m="viewed",u="toggle",s="open",g="closed",c=d(".pattern-playback"),h=d(".playback-search"),k={transition:"fade"},q=Modernizr.csstransitions,f=d("html").hasClass("ie8")||d("html").hasClass("ie9");function n(v,w){o.newModule.call(this,v,w,k)}n.prototype={constructor:n,init:function(){var x=this.element,v=this.options,w=this;this.content=v.contentId?d("#"+v.contentId):d(x.attr("href"));this.parent=this.content.closest("."+u);this.options.expandText=this.options.expandText||x.html();this.options.collapseText=this.options.collapseText||x.html();this.options.toggleText=this.options.toggleText||x.html();if(f){this.options.transition="none"}if(this.parent.data("type")==="read-more"){this.isReadMore=true;this.closedHeight=this.content.height();this.readMoreItems=this.content.find(".rm-hide");this.ellipse=this.content.find(".ellipse");this.content.css({height:this.closedHeight})}else{this.closedHeight=0}this.hasTransitions=q&&(v.transition==="slide");if(this.hasTransitions){w.parent.addClass(v.transition)}if(this.parent.hasClass(b)||(this.content.hasClass(b))){this.state=s;this.content.css({visibility:"visible"})}else{this.state=g;w.content.css({visibility:"hidden"})}this.accordion=x.closest("[data-control=accordion]");if(this.accordion.length>0){this.siblings=this.accordion.find('[data-control="toggle"]').not(x)}if(this.hasTransitions){this.content.on("transitionEnd oTransitionEnd msTransitionEnd transitionend webkitTransitionEnd",function(){if(w.state===s){if(w.content.hasClass(v.transition)){w.content.removeClass(v.transition).css({height:"auto"});r.publish("toggle.opened",w.element)}}else{if(w.state===g){if(w.content.hasClass(v.transition)){w.closeEnd();w.content.removeClass(v.transition)}}}})}},setOpenHeight:function(){var w=this.content,v;if(this.hasTransitions){v=w[0].scrollHeight||1}else{v=""}w.css({height:v,opacity:1});if(this.isReadMore){this.readMoreItems.css({opacity:1})}},open:function(y,x){var w=this,v;if((this.options.manual==="open"||this.options.manual==="both")&&y){r.publish("toggle.beforeOpen",w.element,x);return}if(this.state===s){return}v=function(){var z=0;w.state=s;if(w.accordion.length>0){w.siblings.each(function(){var A=d(this);if(A.hasClass(b)){if(w.options.transition==="fade"){z=125}A[a]("close")}})}setTimeout(function(){w.content.css({visibility:"visible"}).attr({"aria-hidden":"false",tabindex:"-1"});if(w.isReadMore){w.readMoreItems.removeClass("rm-hide").addClass("rm");w.ellipse.hide()}if(w.options.collapseText!==undefined){w.element.html(w.options.collapseText)}else{w.element.html(w.options.toggleText)}w.setOpenHeight();var A=w.element.closest(c);if(A.length>0){A.find(h).attr({"aria-expanded":"true"})}w.element.removeClass(m).addClass(b).attr({"aria-expanded":"true","aria-pressed":"true"});w.content.removeClass(m).addClass(b);w.parent.removeClass(m).addClass(b);w.parent.next().addClass(l);if(!w.hasTransitions){r.publish("toggle.opened",w.element)}},z)};this.closedHeight=this.content.height();if(this.state!==s){if(this.isReadMore){this.content.css({height:this.closedHeight})}if(w.hasTransitions||(w.options.transition==="fade"&&!this.isReadMore)){setTimeout(function(){w.content.addClass(w.options.transition);v()},10)}else{v()}}},close:function(y,w){var v=this,z=v.options.transition,x;if((this.options.manual==="close"||this.options.manual==="both")&&y){r.publish("toggle.beforeClose",v.element,w);return}x=function(){v.state=g;if(z==="fade"&&!v.isReadMore){v.content.css({opacity:0})}else{if(z==="fade"&&v.isReadMore){v.content.css({opacity:1});v.readMoreItems.css({opacity:0})}else{if(v.isReadMore){v.content.css({height:v.closedHeight,opacity:1})}else{v.content.css({height:0,opacity:0})}}}v.content.attr({"aria-hidden":"true"}).removeAttr("tabindex");var A=v.element.closest(c);if(A.length>0){A.find(h).attr({"aria-expanded":"false"})}v.element.removeClass(b).addClass(m).attr({"aria-expanded":"false","aria-pressed":"false"});v.content.removeClass(b).addClass(m);v.parent.removeClass(b).addClass(m);if(z!=="slide"){v.closeEnd()}};if(v.state!==g){this.setOpenHeight();if(v.hasTransitions){setTimeout(function(){v.content.addClass(z);v.element.html(v.options.expandText);setTimeout(x,10)},10)}else{v.element.html(v.options.expandText);x()}}},closeEnd:function(){if(this.isReadMore){this.readMoreItems.removeClass("rm").addClass("rm-hide");if(this.options.transition==="slide"){this.content.css({height:"auto"})}this.ellipse.show()}else{this.content.css({visibility:"hidden"})}this.parent.next().removeClass(l);r.publish("toggle.closed",this.element)},toggle:function(w,v){if(this.state===s){this.close(w,v)}else{this.open(w,v)}}};o.initPlugin(a,n);var j=function(w){w.preventDefault();var v=d(w.target).closest('[data-control="toggle"]');v[a]("toggle",true,w)};p.on(r.clickEvent,'[data-control="toggle"]',{preventDoubleClick:true},j);p.on("keydown",'[data-control="toggle"]',function(v){if(v.keyCode===32){j(v)}});r.modules.Toggle=n;return n});define("uitk_offCanvasToggle",["uitk_domReady","jquery","Hammer","uitk","uitk_plugins"],function(j,h,r,p,n){var a="uitk_offCanvasToggle",o=h("body"),m="off-canvas-inner",s="off-canvas-outer",c="off-canvas-open",l=".site-content",b="off-canvas-overlay",q="open",i="closed",f='[data-control="off-canvas-toggle"]',k={side:"left",maxWidth:"959"},d=p.clickEvent+"."+a;function g(u,v){n.newModule.call(this,u,v,k)}g.prototype={constructor:g,init:function(){var v=this,w=h(l);if(v.options.side==="left"){v.wrapperClass=m}else{v.wrapperClass=s}this.options.maxWidth=v.options.maxWidth/16;if(w.hasClass(this.openClass)){v.state=q}else{v.state=i}v.sidebar=h(v.options.target);p.subscribe("off-canvas.close",v,v.close);window.onresize=function(){v.setPos()};if(w.children("."+b).length===0){this.overlay=h("<div />").addClass(b).appendTo(w)}if(p.isTouchDevice){var u=new r(o[0]);u.on("swipe",function(y){var x=y.deltaX>0?"right":"left";if((v.state===q)&&(x===v.options.side)){v.close(null,h("."+b))}})}},setPos:function(){if(Modernizr.mq("(max-width: "+this.options.maxWidth+"em)")){this.sidebar.css({"margin-top":-this.sidebar.position().top})}else{this.sidebar.css({"margin-top":"auto"})}},open:function(v,u){var w=this,x=h(l);x.addClass(w.wrapperClass);w.setPos();setTimeout(function(){x.addClass(c)},50);w.state=q;p.publish("off-canvas.stateChanged",q,u);p.utils.focusElement(w.sidebar)},close:function(v,u){var w=this,x=h(l);if(w.state!==i){x.removeClass(c);x.removeClass(w.wrapperClass);w.state=i;p.publish("off-canvas.stateChanged",i,u);p.utils.focusElement(h(f))}},toggle:function(u){if(this.state===q){this.close(null,u)}else{this.open(null,u)}}};n.initPlugin(a,g);o.on(d,'[data-control="off-canvas-toggle"]',function(v){var u=h(v.target).closest('[data-control="off-canvas-toggle"]');v.preventDefault();u[a]("toggle",u)});o.on(d,"."+b,function(u){u.preventDefault();u.stopPropagation();p.publish("off-canvas.close",h(u.target).closest("."+b))});p.modules.OffCanvasToggle=g;return g});define("uitk_media",["uitk_domReady","jquery","uitk"],function(f,d,s){s.media={};var a="uitk_media",v={downgrade:false},g={mediaOptions:{}},j=0,r=Modernizr.csstransitions,c,b,p,l=d(window),x=l.scrollTop(),m,k=1,h=10,q,n,u=true;function i(y,A){var z=this,B;z.element=d(y);A=A||{};B=z.element.data()||{};z.options=d.extend(true,{},v,B,A);z.svgFallback=z.element.attr("data-svgFallback");z.init()}i.prototype={constructor:i,init:function(){var z=this,y=z.options,B=y.src;if(y.lazy||y.late){var A=Modernizr.svg;if(!A&&z.svgFallback){B=z.svgFallback}z.lazyLoaded=false;z.initialAspectRatio=y.aspectRatio||"16-9";z.imgSrc=B?z.createFullUrl(B,y.path):"";z.currentImg="";z.isContentSlider=z.element.closest('[data-control="content-slider"]').length>0;z.isMediaViewer=z.element.closest('[data-control="media-viewer"]').length>0;if(y.srcset&&s.isResponsive){z.imgSrcsetArr=z.parseSrcset(y.srcset,Modernizr.highres,y.path);z.responsive=true;z.largestIsLoaded=false}}},createFullUrl:function(z,y){if(z.indexOf("//")!==-1||!y||z==="noimage"){return z}else{return y+z}},parseSrc:function(E,D){var C=d.trim(E).split(" "),z=C.length,A={retina:false},B;A.url=this.createFullUrl(C[0],D);for(B=1;B<z;B=B+1){var y=C[B];if(y[y.length-1]==="w"){A.width=parseInt(y,10)}else{if(y==="1-1"||y==="3-2"||y==="4-3"||y==="16-9"){A.ratio=y}else{if(y==="2x"){A.retina=true}}}}return A},parseSrcset:function(A,z,H){var C=this,D=A.split(","),E=A.split(",").length,F=[],y,B;for(B=0;B<E;B=B+1){var G=C.parseSrc(D[B],H);F.push(G)}F.sort(function(L,J){var M=100000,K=L.width||M,I=J.width||M;return K-I});y=F.length;for(B=y-1;B>0;B=B-1){if(F[B].width===F[B-1].width){if(F[B].retina!==z){F.splice(B,1)}else{F.splice(B-1,1)}}}return F},getImgToLoad:function(z,C,B){var y,A;if(!z||!B){return{url:C}}y=z.length;for(A=0;A<y;A=A+1){if(Modernizr.mq("(max-width:"+z[A].width/16+"em)")){return z[A]}}return z[y-1]},preloadImg:function(C,y,z){var A=this,B=new Image();B.onload=function(){y();s.publish("image.loaded",{element:A.element})};if(z){B.onerror=function(){z();s.publish("image.errored",{element:A.element})}}if(!C){B.onerror()}else{B.src=C}},removeSmallerImages:function(A){var E=this,z=E.imgSrcsetArr,C=Infinity,D=true;if(z&&A){var y=z.length,B;for(B=0;B<y;B=B+1){if(z[B].url===A){C=z[B].width||C;break}}E.imgSrcsetArr=d.map(z,function(F){if(F.width!==undefined&&F.width<C&&F.url!=="noimage"){F.url=A}D=D&&(F.url!=="noimage");return F});E.largestIsLoaded=D;return(E.imgSrcsetArr)}},updateImgSrc:function(y){var z=this;z.image.src=y;z.image.removeAttribute("height");z.image.removeAttribute("width")},updateRatio:function(y,z){var A=this;if(!A.isMediaViewer){y.removeClass("aspect-ratio1-1 aspect-ratio3-2 aspect-ratio4-3 aspect-ratio5-4 aspect-ratio16-9");if(z){y.addClass("aspect-ratio"+z)}else{y.addClass("aspect-ratio"+A.initialAspectRatio)}}},embedImage:function(D,A,z,y){var C=this,B=D.url;if(B&&C.currentImg===B){return}C.currentImg=B;C.preloadImg(B,function(){if(C.currentImg===B){if(!C.lazyLoaded){C.lazyLoaded=true;y.removeClass("no-image");y.addClass("loading");C.image=window.document.createElement("img");C.image.alt=A;C.image.className=z;C.image.onload=function(){setTimeout(function(){y.removeClass("loading")},10)};C.updateImgSrc(B);y.prepend(C.image)}else{C.updateImgSrc(B)}if(C.responsive){if(C.options.downgrade){C.updateRatio(y,D.ratio)}else{C.removeSmallerImages(B)}}}},function(){if(!C.lazyLoaded){y.removeClass("loading");y.addClass("no-image");if(!C.responsive){C.lazyLoaded=true}}})},lazyLoad:function(C){var B=this,z=B.options,y=B.isContentSlider,A=B.element;if(!B.lazyLoaded||B.responsive||z.late){var D;if(A.css("display")==="none"||A.css("visibility")==="hidden"){return}if(B.isMediaViewer&&!A.hasClass("current")&&!C){return}if(!y||(y&&A.closest(".current-tile").length>0)){if(!B.downgrade&&B.largestIsLoaded){return}D=B.getImgToLoad(B.imgSrcsetArr,B.imgSrc,s.isResponsive);if(D.url==="noimage"){A.addClass("dont-display");if(A.data("media-type")==="background"){A.css("background-image","");B.currentImg="noimage"}return}else{A.removeClass("dont-display")}B.embedImage(D,z.alt,z["class"],A)}}},lateLoad:function(){var A=this,y=A.element,z=s.media.delay||100;if(y.length!==0){if(!A.options.late){A.options.late=true}setTimeout(function(){A.lazyLoad();s.publish("lateLoad.media",A)},z)}}};w.prototype=new i();w.prototype.constructor=w;function w(y,A){var z=this,B;z.element=d(y);A=A||{};B=z.element.data()||{};z.options=d.extend(true,{},v,B,A);z.options.lazy=true;z.init()}w.prototype.embedImage=function(D,A,z,y){var C=this,B=D.url;if(B&&C.currentImg===B){return}C.currentImg=B;C.preloadImg(B,function(){if(C.currentImg===B){C.lazyLoaded=true;y.removeClass("no-image");C.updateImgSrc(B);y.removeClass("loading");if(C.responsive){if(C.options.downgrade){C.updateRatio(y,D.ratio)}else{C.removeSmallerImages(B)}}}},function(){if(!C.lazyLoaded){y.removeClass("loading");y.addClass("no-image");if(!C.responsive){C.lazyLoaded=true}}})};w.prototype.updateImgSrc=function(y){this.element.css("background-image","url("+y+")")};function o(y,A){var z=this,B;z.element=d(y);A=A||{};B=z.element.data()||{};z.options=d.extend(true,{},g,B,A);z.init()}o.prototype={constructor:o,init:function(){var y=this;if(!y.options.lazy){y.embedVideo()}else{y.lazyLoaded=false;y.isContentSlider=y.element.closest('[data-control="content-slider"]').length>0}},embedVideo:function(){var D=this,J=D.options,I=J.mediaType,F=J.mediaOptions,B=J.mediaId,A=D.element,E,y=!J.videoParameters?"":J.videoParameters,C;D.videoId="M"+j+"_"+I+B;var H=D.videoId,z=s.getCompiledTemplate("uitk-youtube-video");if(!window.location.origin){window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}var G="&origin="+window.location.origin;j++;C=z({id:H,mediaId:B,videoParameters:"&"+y+G});A.append(C);E=s.embedVideo(I,B,F,D.videoId,function(){E.done(function(K){A.removeClass("loading").data("video",s.createVideoObject(I,K))})});D.videoPlayer=E},lazyLoad:function(){var y=this;if(!y.lazyLoaded){if(y.element.css("display")==="none"||y.element.css("visibility")==="hidden"){return}if(!y.isContentSlider||(y.isContentSlider&&y.element.closest(".current-tile").length>0)){y.embedVideo();y.lazyLoaded=true}}}};d.fn[a]=function(){var A,B,y,z;if(typeof arguments[0]==="object"){A=arguments[0];B=arguments[1];y=arguments[2];z=arguments[3]}else{A={};B=arguments[0];y=arguments[1];z=arguments[2]}return this.each(function(){var C=d(this);if(!d.data(this,a)){if(C.data("mediaType")&&C.data("mediaType")==="youtube"){d.data(this,a,new o(this,A))}else{if(C.data("mediaType")&&C.data("mediaType")==="background"){d.data(this,a,new w(this,A))}else{d.data(this,a,new i(this,A))}}}if(typeof B==="string"){d.data(this,a)[B](y,z)}})};d("[data-control=media]")[a]();s.subscribe("contentSlider.pageChange",function(A,C,B,y){var z="transitionEnd oTransitionEnd msTransitionEnd transitionend webkitTransitionEnd";C.off(z);if(r&&!y){C.on(z,function(){c();C.off(z)})}else{setTimeout(function(){c()},50)}});c=function(){var A=d('figure[data-lazy="true"], .background[data-media-type="background"]:not([data-late="true"])'),z=l.scrollTop(),y=z+l.height(),B=s.media.lazyBuffer||0;A.each(function(){var D=d(this),G=D.offset(),C=G.top,E=C+D.outerHeight(),F=((C-B)<y)&&((E+B)>z);if(C!==0&&F){D[a]("lazyLoad")}})};b=function(){c();n()};p=function(){d('figure[data-late="true"]')[a]("lateLoad");c()};n=function(){};if(s.hasTouch){n=function(){clearTimeout(m);u=false};d("body").one("touchstart",function(){n()});q=function(){m=setTimeout(function(){if(l.scrollTop()!==x){c();return}if(k<h){k=k+1;q()}},500)};if(u){q()}}s.subscribe("debounced.scroll",b);s.subscribe("debounced.resize",p);s.subscribe("debounced.bodyResize",p);s.subscribe("menu.opened",p);s.subscribe("toggle.opened",p);c();d('figure[data-late="true"]')[a]("lateLoad");s.utils.loadMedia=p;s.modules.MediaImage=i;s.modules.MediaBgImage=w;return i});define("uitk_mediaViewer",["uitk_domReady","jquery","handlebars","uitk","uitk_plugins","figure-tag.hbs","uitk-youtube-video.hbs"],function(c,j,b,d,h){var k="uitk_mediaViewer",f={},g="current",a=0,i=500;function l(m,n){h.newModule.call(this,m,n,f)}l.prototype={constructor:l,init:function(){var o=this,n=o.options.sliderId,m;o.showMediaTimeout="";o.mediaCarouselNum=a;a++;o.videoCount=0;if(!this.mediaTemplate){l.prototype.mediaTemplate=d.getCompiledTemplate("figure-tag")}if(d){m=function(w,q,s){var B,u;if(n===s){u=q.find("a");B=u.data("mediaType")||"image";switch(B){case"image":var p=u.data(),x=u.attr("href"),A=q.find("img").attr("alt"),z=u.data("caption");if(A===z){A=""}this.showMedia("image",x,A,p);break;case"youtube":var y=u.data("mediaId"),r=u.data("videoParameters"),v=u.data("mediaOptions")||{};r=!r||r!==""&&r.charAt(0)==="&"?r:"&"+r;this.showMedia("youtube",y,v,r);break;default:}}};d.subscribe("media.selected",this,m);d.subscribe("image.loaded",function(p,q){if(j.contains(o.element[0],q.element[0])){setTimeout(function(){o.handleImageLoad(q.element)},0)}});d.subscribe("image.errored",function(p,q){if(j.contains(o.element[0],q.element[0])){o.handleImageError(q.element)}})}},showMedia:function(m){var n=arguments,p=this.element,o=this;if(this.current&&this.current.data("video")){this.current.data("video").pauseVideo()}m=m||"image";p.find("."+g).removeClass(g).attr("aria-hidden",true);clearTimeout(o.showMediaLoaderTimeout);o.showMediaLoaderTimeout=setTimeout(function(){p.addClass("loading")},i);clearTimeout(o.showMediaTimeout);switch(m){case"image":o.showImage(n[1],n[2],n[3]);break;case"youtube":o.showVideo(m,n[1],n[2],n[3]);break;default:}},showImage:function(s,w,u){var r=this,o=this.element,p,x,v=u?u.caption:undefined,n=u?u.srcset:undefined,m=n&&d.isResponsive,q=o.find('[data-src="'+s+'"]').eq(0);q.css({"padding-top":0});if(q.length===0){this.showMediaTimeout=setTimeout(function(){var A={isImage:true,mediaType:"image",src:s,alt:w,caption:v,captionClass:"media-caption",classes:"media-wrap image",dataAttributes:'data-unique-id="'+d.createUniqueId()+'"'},z,y;if(u){z=u.path;y=u.downgrade}if(m){A.srcSet=n;A.lazyIsTrue=true;A.lazy=true;if(y){A.downgrade=y}if(z){A.path=z}}p=j(r.mediaTemplate(A));r.current=p;o.prepend(p);if(!m){x=p.find("img");x.one("load",function(){r.handleImageLoad(p)});x.one("error",function(){r.handleImageError(p)});if(x[0].complete||p.hasClass("no-image")){x.width();x.trigger("load")}}else{p.uitk_media("lazyLoad",true)}},10)}else{if((q.find("img").length>0&&q.find("img")[0].complete)||q.hasClass("no-image")){r.current=q;r.handleImageLoad(q);if(m){q.uitk_media("lazyLoad")}}}},handleImageLoad:function(n){var m=this;if(m.current.data("uniqueId")===n.data("uniqueId")){clearTimeout(m.showMediaLoaderTimeout);m.element.removeClass("loading");n.addClass(g).attr("aria-hidden",false)}},handleImageError:function(n){var m=this;clearTimeout(m.showMediaLoaderTimeout);m.element.removeClass("loading");if(!n.data("srcset")){n.addClass("no-image")}m.handleImageLoad(n)},getMCVideoId:function(m,n){this.videoCount++;return"MC"+this.mediaCarouselNum+this.videoCount+"_"+m+n},getVideoIframe:function(m){return j("#"+m)},showVideo:function(z,w,u,o){var v=this,r=v.element,n=v.getMCVideoId(z,w),s,A,p=v.getVideoIframe(n),q,m=!o?"":o;if(!window.location.origin){window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}var x="&origin="+window.location.origin,y=d.getCompiledTemplate("uitk-youtube-video");if(p.length===0){this.showMediaTimeout=setTimeout(function(){var B={classes:"media-wrap"};s=j(v.mediaTemplate(B));q=y({id:n,mediaId:w,videoParameters:m+x});s.prepend(q);r.prepend(s);v.current=s;A=d.embedVideo(z,w,u,n,function(){A.done(function(C){s.data("video",d.createVideoObject(z,C));if(v.current===s){clearTimeout(v.showMediaLoaderTimeout);r.removeClass("loading");s.addClass(g).attr("aria-hidden",false)}})});if(j("html").hasClass("lt-ie9")){s.addClass(g).attr("aria-hidden",false)}},500)}else{s=p.closest(".media-wrap");this.current=s;if(s.data("video")&&s.data("video").videoObj.getPlayerState()!==-1){s.data("video").rewindVideo()}clearTimeout(v.showMediaLoaderTimeout);r.removeClass("loading");s.addClass(g).attr("aria-hidden",false)}},getTopPadding:function(m,n){return Math.floor((m-n)/2)}};h.initPlugin(k,l);j("[data-control=media-viewer]")[k]();d.modules.MediaViewer=l;return l});define("uitk_mediaSlider",["uitk_domReady","jquery","uitk","uitk_plugins"],function(a,g,b,d){var h="uitk_mediaSlider",f=g("body"),c="current",j=b.clickEvent+"."+h;function i(k,l){d.newModule.call(this,k,l)}i.prototype={constructor:i,init:function(){var l=this.element,k=this;l.attr("data-control","image-slider");k.sliderId=k.options.sliderId;k.thumbs=l.find(".image-slider-thumbs");k.mask=l.find(".image-slider-mask");k.current=k.thumbs.find("."+c);k.totalThumbs=k.thumbs.find("li").length;k.selectThumb(k.thumbs.find("li").first(),true);b.subscribe("throttled.resize",function(){k.resize(k)})},testThumbPosition:function(k){var n=this,q=n.thumbs.find("li:last"),m=k.offset().left,r=m+k.outerWidth(),l=n.mask.offset().left,p=l+n.mask.outerWidth(),o=q.offset().left+q.width();return(m<l||r>p||o<p)},getMaxSlide:function(){var k=this,l=k.thumbs.find("li:last");return l.position().left+l.outerWidth()-this.element.outerWidth()},moveThumbs:function(n,k){var p=this,o,m=p.thumbs,l=p.getMaxSlide();if(k){m.addClass("slide")}else{m.removeClass("slide")}o=n.position().left;o=l>o?o:l;o=o>0?o:0;if(Modernizr.csstransforms){m.css({transform:"translateX("+-o+"px)"})}else{n.css({left:-o})}},repositionThumbs:function(l,k){var m=this,n=m.testThumbPosition(l);if(n){m.moveThumbs(l,k)}},liveAnnounceThumb:function(k){var p=this,o,m=k.index()+1,l,n;n=g(k).find("a").data("caption");l=g(k).find("img").attr("alt");o=I18n.t("media_gallery_showing_item",{arg0:m,arg1:p.totalThumbs});o+=(l!==undefined&&l!==""?" "+l:"");o+=(n!==undefined&&n!==""&&l!==n?" "+n:"");b.utils.liveAnnounce(o)},selectThumb:function(l,k){var m=this;if(l&&l.length>0){if(m.current){m.current.removeClass(c)}m.current=l.addClass(c);if(!k){m.repositionThumbs(l,true)}if(b){b.publish("media.selected",l,m.sliderId);m.liveAnnounceThumb(l)}}},prev:function(){var l=this,k=l.current.prev();if(k.length<1){k=l.thumbs.find("li:last")}l.selectThumb(k)},next:function(){var l=this,k=l.current.next();if(k.length<1){k=l.thumbs.find("li:first")}l.selectThumb(k)},resize:function(){var l=this,k=l.thumbs.find("."+c);l.repositionThumbs(k,false)}};d.initPlugin(h,i);f.on(j,'[data-control="image-slider"] .image-slider-control',function(n){var k=g(n.target),m=k.closest(".image-slider-control"),l=k.closest('[data-control="image-slider"]');n.preventDefault();if(m.hasClass("next")){l[h]("next")}else{if(m.hasClass("prev")){l[h]("prev")}}});f.on(j,'[data-control="image-slider"] .image-slider-thumbs a',function(m){var k=g(m.target),n=k.closest("li"),l=k.closest('[data-control="image-slider"]');m.preventDefault();if(!n.hasClass("current")){l[h]("selectThumb",n)}});f.on("focus."+h,'[data-control="image-slider"] .image-slider-thumbs a',function(m){var k=g(m.target),n=k.closest("li"),l=k.closest('[data-control="image-slider"]');m.preventDefault();setTimeout(function(){l[h]("repositionThumbs",n,true)},100)});g("[data-control=image-slider]")[h]();b.modules.MediaSlider=i;return i});define("uitk_contentSlider",["uitk_domReady","jquery","Hammer","handlebars","uitk","uitk_plugins"],function(d,k,r,b,g,i){var n="uitk_contentSlider",j=k("body"),o='[data-control="content-slider"]',a=".content-slider-controls button",h={infinite:false,controlTemplate:"uitk-content-slider-controls-template",scrollTime:"0.5s"},m=Modernizr.touch,q=g.clickEvent,f=g.isTouchDevice,p=Modernizr.csstransitions,l=k("html").hasClass("lt-ie8");function c(s,u){i.newModule.call(this,s,u,h)}c.prototype={constructor:c,init:function(){var w=this,v=w.element,x=k(window);if(l){v.find(".tile").addClass("current-tile");return}if(!v.is(":visible")){return}w.tileGrid=v.find('[class^="tile-grid"]');w.contentMask=v.find(".content-slider-mask");w.numVisibleTiles=w.getNumVisibleTiles();w.uniqueId=w.options.modalId||g.createUniqueId();v.attr("data-unique-id",w.uniqueId);w.moveToPage(1,true);w.updateControls(true);if(Modernizr.mediaqueries){w.isMobile=false;x.on("resize.event"+w.uniqueId,function(){w.handleResize()});x.on("orientationchange.event"+w.uniqueId,function(){w.handleResize()});var s=function(y,z){if(z.key==="cs_isMobile"&&(w.isMobile!==true)){w.isMobile=true;w.updateControls(true)}if(z.key==="cs_isNotMobile"&&(w.isMobile!==false)){w.isMobile=false;w.updateControls(true)}};g.subscribe("mediaquery.matched",s);g.mediaquery.register({cs_isMobile:"(max-width: 600px)",cs_isNotMobile:"(min-width: 601px)"})}if(m||window.navigator.msPointerEnabled){w.swipeCheck=true;var u=new r(w.contentMask[0]);u.on("swipe pan",function(B){var C=null,D=(-1)*B.deltaX,A=D<0?"right":"left",z=B.srcEvent.type,y=z==="pointermove"||z==="touchmove";if(!C){C=k(B.target).closest('[data-control="content-slider"]')}if(B.type==="swipe"){w.swipeCheck=false;C[n]("slideEnd",A,D)}if(B.deltaTime>150&&B.type==="pan"&&y){C[n]("slideMove",D);return}if(B.type==="pan"&&!y){if(!w.swipeCheck){w.swipeCheck=true}else{C[n]("slideEnd",A,D)}}})}if(!f){w.deboucedResize=g.subscribe("debounced.resize",function(){w.positionPage(w.currentPage)})}},addControls:function(s,y){var w=this,u,x=w.getNumOfPages(),v;w.updateCurrentClasses(s);if(x<=1){w.element.find(".content-slider-controls").remove();return}if(!w.controlTemplate){c.prototype.controlTemplate=g.getCompiledTemplate(w.options.controlTemplate);g.getCompiledTemplate("button-tag",true)}u=w.generateModel();v=w.controlTemplate(u);if(y){w.element.find(".content-slider-controls").remove()}w.element.append(v)},generateModel:function(z,C){var A=this,D={},y=A.getCurrentPage(),v=A.getNumOfPages(),u=[],B={},s,w,x;z=z||I18n.t("content_slider_previous_label");s=(this.isMobile?"toggle270":"pageprev");D.prevButton={type:"button",classes:"btn-paging prev",isDisabledButton:false,content:'<span class="icon icon-'+s+'" aria-hidden="true"></span><span class="visuallyhidden">'+z+"</span>"};C=C||I18n.t("content_slider_next_label");w=(this.isMobile?"toggle90":"pagenext");D.nextButton={type:"button",classes:"btn-paging next",isDisabledButton:false,content:'<span class="icon icon-'+w+'" aria-hidden="true"></span><span class="visuallyhidden">'+C+"</span>"};for(x=1;x<=v;x=x+1){B={};if(x===y){B.isCurrent=true;if(x===1&&!A.options.infinite){D.prevButton.isDisabledButton=true}if(x===v&&!A.options.infinite){D.nextButton.isDisabledButton=true}}B.pageNum=x;u.push(B)}D.pages=u;D.isMobile=A.isMobile;return D},updateControls:function(s){this.addControls(s,true)},updateCurrentClasses:function(s){var x=this,v="current-tile",w=x.getCurrentPage(),y=x.getNumVisibleTiles(),u=x.tileGrid.find(".tile"),z;s=s||false;u.removeClass(v).attr("aria-hidden","true");u.find("a").attr("tabindex","-1");z=u.slice(y*(w-1),y*w);z.addClass(v).attr("aria-hidden","false");z.find("a").removeAttr("tabindex");g.publish("contentSlider.pageChange",x.element,w,s)},unregister:function(){var s=this;k(window).off(".event"+s.uniqueId);if(s.deboucedResize){g.unsubscribe("debounced.resize",s.deboucedResize)}},getPagePosition:(function(){var s;if(f){s=function(u){var v=((u-1)*-100)+"%";return v}}else{s=function(v){var w,u;u=this.element.find(".tile").outerWidth();w=(((v-1)*this.getNumVisibleTiles())*-u)+"px";return w}}return s})(),positionPage:function(v,s){var u=this,w=u.getPagePosition(v),x=s?"0s":u.options.scrollTime;u.tileGrid.css({"-webkit-transition-duration":x,"-moz-transition-duration":x,"transition-duration":x});u.tileGrid.css({left:w})},moveToPage:function(v,s){var u=this;if(v>0&&v<=u.getNumOfPages()){u.positionPage(v,s);u.setCurrentPage(v);u.updateControls()}},next:function(){var w=this,u=w.getCurrentPage(),v=w.moveToPage,s=u+1;if(s>w.getNumOfPages()){if(w.options.infinite===true){v(1)}else{v(u)}}else{w.moveToPage(s)}w.setPageFocus()},prev:function(){var w=this,u=w.getCurrentPage(),v=w.moveToPage,s=u-1;if(s<1){if(w.options.infinite===true){v(w.getNumOfPages())}else{v(u)}}else{w.moveToPage(s)}w.setPageFocus()},selectPage:function(v){var u=this,s=u.element.find(".content-slider-nav button").index(v)+1;u.moveToPage(s);u.setPageFocus()},setPageFocus:function(){var s=this,u=s.element.find(".current-tile:first");if(p){s.element.one("transitionEnd oTransitionEnd msTransitionEnd transitionend webkitTransitionEnd",function(){u.attr("tabindex","-1").focus().css("outline","none")})}else{u.attr("tabindex","-1").focus().css("outline","none")}},setCurrentPage:function(u){var s=this;s.currentPage=u;s.element.attr("data-current-page",u)},getCurrentPage:function(){return this.currentPage},getNumVisibleTiles:function(){var s=this.contentMask,u=s.find(".tile"),w=s.width(),x=u.first().outerWidth(),v=Math.round(w/x);return v},getNumOfPages:function(){var v=this,w=v.tileGrid,u=w.find(".tile"),s=u.length,x=Math.ceil(s/v.numVisibleTiles);return x},getNewCurrentPage:function(y,x){var w=this,u,v=w.getCurrentPage(),A=w.getNumOfPages(),z=x*(v-1)+1,s=x*v;if(x<y){u=Math.ceil(s/y)}else{if(x>y){u=Math.ceil(z/y)}else{u=v}}u=u>A?A:u;return u},handleViewChange:function(x){var v=this;if(v.uniqueId!==v.element.attr("data-unique-id")||k('[data-unique-id="'+v.uniqueId+'"]').length===0){v.unregister();return}var u,w=v.numVisibleTiles,s;v.tileGrid.addClass("view-change");v.numVisibleTiles=x;u=v.getCurrentPage();s=v.getNewCurrentPage(x,w);v.updateControls(true);if(u!==s){setTimeout(function(){v.moveToPage(s,true)},10)}setTimeout(function(){v.tileGrid.removeClass("view-change")},50)},handleResize:function(){var s=this,u=s.getNumVisibleTiles();if(s.numVisibleTiles!==u){s.handleViewChange(u)}},slideMove:function(w){var u=this,v=u.contentMask.width(),s;s=(((u.currentPage-1)*v+w)/v)*-100;u.scrollPages(s)},slideEnd:function(v,w){var u=this,s=Math.abs(w/u.contentMask.width());if(s>0.08){if(v==="left"){u.next()}else{u.prev()}}else{u.moveToPage(u.currentPage)}},scrollPages:function(s){var u=this;u.tileGrid.css({"-webkit-transition-duration":"0s",left:s+"%"})}};i.initPlugin(n,c);k("[data-control=content-slider]")[n]();j.on(q+"."+n,o+" "+a,function(v){var s=k(v.target),u=s.closest(a),w=s.closest(o);v.preventDefault();if(u.hasClass("next")){w[n]("next")}else{if(u.hasClass("prev")){w[n]("prev")}else{if(u.closest(".content-slider-nav").length>0){w[n]("selectPage",u)}}}});if(f){j.on("click."+n,o+" "+a,function(s){s.preventDefault()})}g.modules.ContentSlider=c;return c});define("uitk_calendar",["uitk_domReady","jquery","handlebars","uitk_i18n","uitk","uitk_date","uitk_tooltip"],function(c,m,b,i,f,h){var o="uitk_calendar",p="uitk_tooltip",j=m("body"),g={tooltip:true,template:"uitk-calendar-template",minBookingLength:null},l={},d=f.isTouchDevice,q=f.clickEvent+"."+o,n,r=new Date(),k;r.setHours(0,0,0,0);k=(function(){if(typeof f.calendarObj==="undefined"){var u={date_format:i.t("date_format"),date_separator:i.t("date_separator"),start_day_of_the_week:i.t("start_day_of_the_week"),months:i.t("months"),days_of_the_week:i.t("days_of_the_week"),close:i.t("close"),nights_text:i.t("nights_text"),stringToArray:function(){var v=this,w,x;for(x in v){w=v[x];if(typeof w==="string"&&w[0]==="["){w=w.substr(1,w.length-2).split(", ");v[x]=w}if(x==="start_day_of_the_week"){v[x]=parseInt(v[x])}}return v}};u.stringToArray();var s=h.core.date.CalendarControl.Config;s.setFormatConfig(u.date_format,u.date_separator);s.setUnitConfig(u.start_day_of_the_week,u.months,u.days_of_the_week);s.setTextConfig(u.close);s.setNightTextConfig(u.nights_text);f.calendarObj=h.core.date.Calendar(s);f.dateUpdater=h.core.date.DateUpdater(f.calendarObj,s)}return function(){}})();f.initCalendarInputs=k;function a(u,v){var x,w,s;this.element=m(u);v=v||{};if(this.element.data("control")==="calendar-button"){this.calInput=this.element.closest(".input-with-button").find('[data-control="calendar"]');this.calButton=true}else{this.calInput=this.element}x=this.calInput.data()||{};if(v.jsTheme){w=v.jsTheme}else{if(this.calInput.data("jsTheme")){w=this.calInput.data("jsTheme")}else{w=v.trigger||x.trigger||g.trigger;x.jsTheme=w}}s=l[w]||{};this.options=m.extend(true,{},g,s,x,v);this.init()}a.prototype={constructor:a,monthCache:{},dateUpdaters:{},calendarObj:false,calendarConfig:false,daysHeader:false,allowPastDates:false,init:function(){var w=this,v=f.calendarObj,s=w.options;w.dateError={};if(!f.calendarObj){throw new Error("Calendar needs to be configured before it can be initialised. Hint: Run uitk.initCalendarInputs function or confiugre it via exp object.")}w.startDay=v.getStartOfWeek();if(!w.calTemplate){f.getCompiledTemplate("button-tag",true);a.prototype.calTemplate=f.getCompiledTemplate(this.options.template)}if(!w.daysHeader){a.prototype.daysHeader=w.getDaysHtml()}if(s.firstValidDate){s.firstValidDate=v.getDateFromString(this.options.firstValidDate,true)}else{s.firstValidDate=r}if(s.firstValidDate.getFullYear()<r.getFullYear()){w.allowPastDates=true}if(s.startDate||s.endDate){if(s.startDate){w.startDateSelector=s.startDate;w.startDateField=w.calendarPair=m(w.startDateSelector)}else{w.startDateSelector="#"+w.calInput.attr("id");w.startDateField=w.calInput;w.dateType="start"}if(s.endDate){w.endDateSelector=s.endDate;w.endDateField=w.calendarPair=m(this.endDateSelector)}else{w.endDateSelector="#"+w.calInput.attr("id");w.endDateField=w.calInput;w.dateType="end"}s.defaultBookingLength=w.startDateField.data("default-booking-length");s.maxBookingLength=w.startDateField.data("max-booking-length");if(!s.lastValidDate){s.lastValidDate=w.startDateField.data("last-valid-date")}if(s.lastValidDate&&v.getDateFromString(s.lastValidDate,true).getFullYear()<r.getFullYear()){w.allowPastDates=true}w.registerFields()}else{w.calendarPair=false;w.startDateField=this.calInput;w.dateType="start"}s.lastValidDate=v.getDateFromString(this.options.lastValidDate,true);if(s.lastValidDate&&s.lastValidDate.getFullYear()<r.getFullYear()){w.allowPastDates=true}if(s.tooltip){var u;u=f.subscribe("tooltip.hidden",function(x,y){w.tooltipClosed(y)})}},registerFields:function(){var s=this;if(s.startDateSelector&&s.endDateSelector){var u=s.startDateSelector+"_"+s.endDateSelector;if(!(u in s.dateUpdaters)){s.dateUpdaters[u]=f.dateUpdater.register(s.startDateField[0],s.endDateField[0],s.options.minBookingLength,null,null,s.options.defaultBookingLength,s.allowPastDates)}}},getDaysHtml:function(A,z){var y=this,s=f.calendarObj.config,x="",w,u,v;A=A||s.getDayAbbrs();z=z||y.startDay;w=A.length;for(v=0;v<w;v=v+1){u=v+z;if(u>=w){u=u-w}x+="<li>"+A[u]+"</li>"}return x},getNextMonth:function(w,v){var s=f.calendarObj.config,u,x;if(w===s.getMonths().length-1){u=0;x=v+1}else{u=w+1;x=v}return{month:u,year:x}},getPrevMonth:function(x,w){var u=f.calendarObj.config,v,s;if(x===0){v=u.getMonths().length-1;s=w-1}else{v=x-1;s=w}return{month:v,year:s}},getFirstDayOffset:function(u,v){var s;v=v||this.startDay;s=u-v;if(s<0){s=7+s}return s},getMonthHtml:function(x,z){var u=f.calendarObj,w="",v,B,y,s,A;y=x+"-"+z;if(y in this.monthCache){return this.monthCache[y]}B=u.getMonthCount(x,z);s=new Date(z,x,1).getDay();A=this.getFirstDayOffset(s);for(v=1;v<=B;v=v+1){if(v===1&&A>0){w+='<li class="date-offset-'+A+'"><a href="#" class="cal-date" data-year="'+z+'" data-month="'+x+'" data-day="'+v+'">'+v+"</a></li>"}else{w+='<li><a href="#" class="cal-date" data-year="'+z+'" data-month="'+x+'" data-day="'+v+'">'+v+"</a></li>"}}this.monthCache[y]=w;return w},getCalHtml:function(z,B){var x=this,v=f.calendarObj,A=v.config,u=x.options,y,w,H,D,G,F="btn-paging btn-secondary prev",E="btn-paging btn-secondary next",s,C=i.t("calendar_prev_month"),I=i.t("calendar_next_month");x.firstMonth=z;x.firstYear=B;w=x.getNextMonth(z,B);H=w.month;D=w.year;if(z===u.firstValidDate.getMonth()&&B===u.firstValidDate.getFullYear()){F=F+" first-month"}if(u.lastValidDate){if(H===u.lastValidDate.getMonth()&&D===u.lastValidDate.getFullYear()){E=E+" last-month"}}G={prevButton:{type:"button",cssClass:F,content:'<span class="icon icon-pageprev" aria-hidden="true"></span><span class="visuallyhidden">'+C+"</span>"},nextButton:{type:"button",cssClass:E,content:'<span class="icon icon-pagenext" aria-hidden="true"></span><span class="visuallyhidden">'+I+"</span>"},calDays:x.daysHeader,month1:A.getMonths()[z],year1:B,calDates1:x.getMonthHtml(z,B),month2:A.getMonths()[H],year2:D,calDates2:this.getMonthHtml(H,D)};y=x.calTemplate(G);x.currentCal=m(y).data("calendar",x.element);x.currentMonth=z;x.currentYear=B;x.highlight(x.currentCal);if(!x.startDate||x.dateType==="start"){x.disableDatesBefore(x.currentCal,x.options.firstValidDate)}else{if(x.dateType==="end"){x.disableDatesBefore(x.currentCal,x.startDate);if(u.maxBookingLength){s=new Date(x.startDate.getTime()+(24*60*60*1000*parseInt(u.maxBookingLength,10)));x.disableDatesAfter(x.currentCal,s)}}}if(u.lastValidDate){x.disableDatesAfter(x.currentCal,u.lastValidDate)}if("undefined"!==typeof u.blackoutDates){x.disableDatesDuring(x.currentCal)}return x.currentCal},nextMonth:function(s){var x=this,w=x.calContainer,v,u,y;if(s.hasClass("last-month")){w.addClass("show-second-month")}else{v=x.getNextMonth(x.currentMonth,x.currentYear);u=v.month;y=v.year;w.html(x.getCalHtml(u,y).html())}},prevMonth:function(){var w=this,v=w.calContainer,x,u,s;if(!v.hasClass("show-second-month")||v.find(".cal-month:visible").length===2){x=w.getPrevMonth(w.currentMonth,w.currentYear);u=x.month;s=x.year;v.html(w.getCalHtml(u,s).html())}v.removeClass("show-second-month")},getDateFromField:function(w,u){var v=f.calendarObj,x,s;s=w[o]("getDateError");if(s&&s.flagged){if(s.replacementDate&&(s.highlight||u)){x=v.getDateFromString(s.replacementDate,this.allowPastDates)}else{x=false}}else{x=v.getDateFromString(w.val(),this.allowPastDates)}return x},getStartDate:function(s){var u=this;s=s||u.getDateFromField(u.startDateField);if(!s||s.valueOf()<u.options.firstValidDate.valueOf()){u.startDate=null;s=u.options.firstValidDate}else{if(u.options.lastValidDate&&s.valueOf()>u.options.lastValidDate.valueOf()){u.startDate=null;s=u.options.lastValidDate}else{u.startDate=s}}return s},getInitialCal:function(){if(this.state!=="open"){var E=this,G=f.calendarObj,u,Q,K,H,s,w,L,C;this.state="open";if(r.valueOf()>E.options.firstValidDate.valueOf()){Q=r}else{Q=E.options.firstValidDate}if(E.options.lastValidDate){if(Q.valueOf()>E.options.lastValidDate.valueOf()){Q=E.options.lastValidDate}}if(E.options.lastValidDate&&E.options.lastValidDate.valueOf()<r.valueOf()){if(Q.getMonth()===0){K=11;H=Q.getFullYear()-1}else{K=Q.getMonth()-1;H=Q.getFullYear()}}else{K=Q.getMonth();H=Q.getFullYear()}w=E.getStartDate();if(E.endDateField){L=E.getDateFromField(this.endDateField);E.setThisEndDate(w,L)}if(E.startDate||E.endDate){if(E.dateType==="end"){C=E.getDateFromField(E.endDateField,true)||L}else{C=E.getDateFromField(E.startDateField,true)||w}if((E.lastDisplayedMonth||this.lastDisplayedMonth===0)&&E.lastDisplayedYear){K=E.lastDisplayedMonth;H=E.lastDisplayedYear}if(C&&(!E.dateError.flagged||(E.dateError.flagged&&E.dateError.replacementDate))){var A=E.dateType,y=C.getMonth(),P=y.toString().length===1?"0"+y:y,O=C.getFullYear(),z=O+""+P,D=E.getNextMonth(K,H),v=K.toString().length===1?"0"+K:K,J=H+""+v,I=D.month,F=I.toString().length===1?"0"+I:I,B=D.year,x=B+""+F,M;if(!(z>=J&&z<=x)){if(A==="start"){K=y;H=O}else{if(A==="end"){M=E.getPrevMonth(y,O);K=M.month;H=M.year}}}}}if(this.dateType==="end"&&L&&K!==L.getMonth()&&G.getMonthCount(w.getMonth(),w.getFullYear())-w.getDate()<7){s=E.getNextMonth(K,H);E.setLastDisplayed({month:s.month,year:s.year});E.getCalHtml(s.month,s.year)}else{E.setLastDisplayed({month:K,year:H});E.getCalHtml(K,H)}u=E.currentCal;var N=u.find(".cal-month").eq(1);if((E.options.lastValidDate&&E.options.lastValidDate.valueOf()<r.valueOf()&&u.find(".start, .end").length===0)||N.find(".start").length>0||(E.dateType==="end"&&N.find(".end").length>0)){u.addClass("show-second-month")}return u}},getDateLink:function(u,s){if(u&&s){return u.find("a[data-day="+s.getDate()+"][data-month="+s.getMonth()+"][data-year="+s.getFullYear()+"]")}},highlight:function(v){var u=this,w=u.highlightStart(v),s=u.highlightEnd(v);this.highlightRange(v,w,s)},highlightStart:function(v){var u=this,s=u.getDateFromField(u.startDateField);if(s){return u.getDateLink(v,s).addClass("start")}},highlightEnd:function(v){var s=this;if(s.endDateField){var u=s.getDateFromField(s.endDateField);if(u){return s.getDateLink(v,u).addClass("end")}}},highlightRange:function(s,w,y){var E=this,u=s.find(".cal-dates a"),H=u.index(w)+1,B=u.index(y),x=E.startDate,A,C=E.endDate,z,G=E.currentMonth,D=E.currentYear,F,v;u.removeClass("highlight");if(H>B){u.filter(".end").removeClass("end")}if(w&&H>0){F=0}else{if(x){A=x.getFullYear();if((x.getMonth()<G&&A===D)||A<D){F=-1}else{F=1}}else{return}}if(y&&B>=0){v=0}else{if(C){z=C.getFullYear();if((C.getMonth()<G&&z===D)||z<D){v=-1}else{v=1}}else{return}}if((F<0&&v<0)||(F>0&&v>0)){return}if(F<0){H=0}else{if(F>0){return}}if(v>0){B=u.length}else{if(v<0){return}}u.slice(H,B).addClass("highlight")},tooltipClosed:function(u){var s=this;if(u[0]===s.element[0]){if(s.element.data("control")==="calendar"){u.closest("label").removeClass("focused")}else{u.removeClass("focused")}s.state="closed"}},disableDates:function(s){s.each(function(){var u=m(this);u.replaceWith('<span class="cal-date disabled">'+u.text()+"</span>")})},disableDatesBefore:function(y,v){var x=this,u=y.find(".cal-date"),w=x.getDateLink(y,v),s;if(w.length>0){s=u.index(w);if(s>0){x.disableDates(u.slice(0,s));y.find("button.prev").addClass("first-month")}}},disableDatesAfter:function(u,w){var A=this,v=u.find(".cal-date"),x=v.length,z=A.getDateLink(u,w),D,s,C,B,y;if(z.length>0){D=v.index(z);if(D+1<x){A.disableDates(v.slice(D+1));u.find("button.next").addClass("last-month")}}else{s=v.first();C=s.data("year");B=s.data("month");y=w.getFullYear();if(C>y||((B>w.getMonth())&&(C===y))){A.disableDates(v);u.find("button.next").addClass("last-month")}}},disableDatesDuring:function(H){var C=this,D=f.calendarObj,R=D.getDateFormat(),L=D.getDateSeparator(),v=H.find(".cal-date"),J=C.options.blackoutDates,w=J.dates.length,s=J.blackoutDatesFlag,N=[],I,B=[],P,U,G=[],u,A,O,T,M,E,Q,K,F;if(R!=="mmddyy"&&typeof J.formatted==="undefined"){for(O=0;O<w;O++){var z=[];J.dates[O]=J.dates[O].split("/");M=R.indexOf("mm")/2;T=R.indexOf("dd")/2;E=R.indexOf("yy")/2;z[E]=J.dates[O][2];z[T]=J.dates[O][1];z[M]=J.dates[O][0];z=z.join(L);J.dates[O]=z}J.formatted=true}for(Q=0;Q<w;Q++){N.push(D.getDateFromString(J.dates[Q],C.allowPastDates))}I=N.length;for(K=0;K<I;K++){var S=C.getDateLink(H,N[K])||{};if(S.length>0){B.push(S);if(s===false){A=m.inArray(S.get(0),v);G.push(A)}}}P=B.length;if(s===true||"undefined"===typeof(s)){if(P>0){U=B[0];for(F=1;F<P;F++){U=U.add(B[F])}C.disableDates(U)}}else{u=G.length;for(F=u-1;F>=0;F--){v.splice(G[F],1)}C.disableDates(v)}},selectDate:function(s){var u=new Date(s.data("year"),s.data("month"),s.data("day")),v=this;setTimeout(function(){f.updatePlaceholderClass(v.startDateField);if(v.endDateField){f.updatePlaceholderClass(v.endDateField)}},50);v.setLastDisplayed();v.clearDateError();v.element.data("showCal",false);v.calInput.val(f.calendarObj.toStringFromComp(u.getDate(),u.getMonth()+1,u.getFullYear()));f.publish("calendar.selectDate",{element:v.calInput,date:u});if(v.calButton){v.calInput.blur()}v.element.focus()},mouseenterDate:function(s){var u=this;if(u.dateType==="start"){u.calContainer.find("a.start").removeClass("start");u.highlightRange(this.calContainer,s,u.highlightEnd(u.calContainer))}else{if(u.dateType==="end"){u.calContainer.find("a.end").removeClass("end");u.highlightRange(this.calContainer,u.highlightStart(u.calContainer),s)}}},mouseleaveDate:function(){var s=this;s.highlightRange(s.calContainer,s.highlightStart(s.calContainer),s.highlightEnd(s.calContainer))},setContainer:function(s){this.calContainer=s},setLastDisplayed:function(s,v){var w=this,x=s&&(s.month||s.month===0)?s.month:w.firstMonth,u=s&&s.year?s.year:w.firstYear;if(!v&&v!==false&&this.calendarPair){v=true}else{v=false}if(v){w.calendarPair[o]("setLastDisplayed",{month:x,year:u},false)}w.lastDisplayedMonth=x;w.lastDisplayedYear=u},setThisEndDate:function(s,v){var u=this;if(!v||v.valueOf()<s.valueOf()){u.endDate=null}else{u.endDate=v}},updateOptions:function(z,u){var w=this,v=f.calendarObj,s,x={},y=false;if(!u&&u!==false&&w.calendarPair){u=true}else{u=false}for(s in z){if(z.hasOwnProperty(s)){switch(s){case"firstValidDate":case"lastValidDate":w.options[s]=v.getDateFromString(z[s],w.allowPastDates);break;case"maxBookingLength":w.options[s]=z[s];x[s]=z[s];break;default:w.options[s]=z[s]}}}if(u===true){for(s in x){if(x.hasOwnProperty(s)){y=true;break}}if(y){if(w.options.startDate){w.startDateField[o]("updateOptions",x,false)}else{if(this.options.endDate){w.endDateField[o]("updateOptions",x,false)}}}}},flagDateError:function(u,s){if(!s&&s!==false){s=true}else{s=false}this.dateError={flagged:true,replacementDate:u||false,highlight:s}},clearDateError:function(){this.dateError={flagged:false,replacementDate:false,highlight:false}},getDateError:function(){return this.dateError}};m.fn[o]=function(){var v,x,s,u,w;if(typeof arguments[0]==="object"){v=arguments[0];x=arguments[1];s=arguments[2];u=arguments[3]}else{v={};x=arguments[0];s=arguments[1];u=arguments[2]}this.each(function(){if(!m.data(this,o)){m.data(this,o,new a(this,v))}if(typeof x==="string"){w=m.data(this,o)[x](s,u)}});return w};n=function(s){var w,v=s.data("control"),u="focused";w=s[o]("getInitialCal");if(w!==undefined){s[p]({jsTheme:v});s[p]("updateContent",w);s[p]("show");s[p]("checkPos",true,true);s[o]("setContainer",s.data(p).tooltip.find(".cal"));if(v==="calendar"){s.closest("label").addClass(u)}else{s.addClass(u)}}setTimeout(function(){s.data("showCal",true)},100)};j.on("focus."+o+" "+q,'[data-control="calendar"]',function(u){var s=m(u.target).closest('[data-control="calendar"]');if((s.data("cal-version")==="button"&&d)||s.data("cal-version")==="button-all"){f.tooltips.hideAll();return}if(s.data("cal-version")==="native"&&Modernizr.inputtypes.date){return}if(s.data("showCal")!==false){s.data("showCal",false);n(s)}else{s.data("showCal",true)}});j.on(q,'[data-control="calendar-button"]',function(u){var s=m(u.target).closest('[data-control="calendar-button"]');n(s)});j.on(q,".cal .next",{stopPropagation:true},function(v){var s=m(v.target),u=s.closest(".cal").data("calendar");v.preventDefault();v.stopPropagation();u[o]("nextMonth",s)});j.on(q,".cal .prev",{stopPropagation:true},function(v){var s=m(v.target),u=s.closest(".cal").data("calendar");v.preventDefault();v.stopPropagation();u[o]("prevMonth")});j.on(q,".cal-date",function(v){var s=m(v.target),u=s.closest(".cal").data("calendar");v.preventDefault();if(!s.hasClass("disabled")){u[o]("selectDate",s);u[p]("hide")}});j.on("mouseenter."+o,".cal-date",function(v){var s=m(v.target),u=s.closest(".cal").data("calendar");v.preventDefault();if(!s.hasClass("disabled")){u[o]("mouseenterDate",s)}});j.on("mouseleave."+o,".cal-date",function(v){var s=m(v.target),u=s.closest(".cal").data("calendar");v.preventDefault();if(!s.hasClass("disabled")){u[o]("mouseleaveDate",s)}});if(typeof $LAB!=="undefined"){$LAB.queueWait(function(){k()})}else{k()}f.modules.Calendar=a;return a});define("uitk_modal",["uitk_domReady","jquery","handlebars","uitk","uitk_focus","uitk_plugins","uitk-modal-bg-template.hbs","uitk-modal-inner-template.hbs","uitk-modal-template.hbs","uitk-modal-title-template.hbs"],function(o,h,i,z,B,v){var a="uitk_modal",x=h("body"),y=h("html"),D=h(document),s=h(window),q={title:false,background:true,optOut:false,ajax:false,footer:false,dismiss:true,closeBtn:true,template:"uitk-modal-template",takeover:true,showLoader:false,roleDialog:false,focusOpen:".modal-body :first-child",focusClose:""},C={},F="active",j="active-modal",w="active-modal-no-bg",l="modal-wrap",r="modal-inner",p="modal-body",b="modal-background",c="modal-close",E=Modernizr.sessionstorage,f=z.clickEvent+"."+a,A=Modernizr.positionfixed,n="modal-takeover",k="transitionEnd oTransitionEnd msTransitionEnd transitionend webkitTransitionEnd",u=z.createFocus(),g=u.focusEvent();var m=function(G,J,I){var H=h("."+l);H.each(function(){h(this).data("modal").close(G,J,I)})};function d(I,K,H){var J=this,M,L,G;J.element=h(I);if(!!H){J.focusMeOnClose=H}K=K||{};M=J.element.data()||{};if(K.jsTheme){L=K.jsTheme}else{if(J.element.data("jsTheme")){L=J.element.data("jsTheme")}}G=C[L]||{};J.options=h.extend(true,{},q,G,M,K);J.options.optOutStorage=J.options.optOut&&E;J.options.takeover=J.options.takeover&&z.isTouchDevice;J.options.removalTime=J.options.takeover?750:500;J.init()}d.prototype={constructor:d,init:function(){var H=this,G=H.options;if(G.optOutStorage){H.storageKey="modal-opt-out-"+G.modalId;if(sessionStorage.getItem(H.storageKey)==="true"){return false}}G.resetNoFocus={closeBtn:true,lastFocusable:null,modal:null};i.registerPartial("uitk-modal-inner-template",z.getCompiledTemplate("uitk-modal-inner-template"));i.registerPartial("uitk-modal-bg-template",z.getCompiledTemplate("uitk-modal-bg-template"));H.getContent();if(!H.modalTemplate){d.prototype.modalTemplate=z.getCompiledTemplate(G.template,true);d.prototype.modalTitleTemplate=z.getCompiledTemplate("uitk-modal-title-template",true);z.getCompiledTemplate("button-tag",true)}H.getHtml()},isHtml:function(G){return G.indexOf(">")!==-1},getContentFromJquery:function(G){return h("<div></div>").append(G).html()},getContent:function(){var I=this,H=I.options.content,J=false,G=false;if(!H){H=I.element.attr("href");J=true}if(I.options.ajax){I.contentRequest=h.get(H,function(K){I.updateContent(K)})}else{if(typeof H==="string"){G=I.isHtml(H);if(G){I.content=H}else{if(!J){H="#"+H}if(h(H).data("modal-content")){I.content=h(H).data("modal-content")}else{I.content=h(H).html();h(H).data("modal-content",I.content);h(H).children().remove()}}}else{if(H instanceof jQuery){I.content=I.getContentFromJquery(H)}else{I.content=""}}}},updateTitle:function(J){var I=this,G=I.options,H=I.modalWrap.find(".modal-title");if(!J){I.modalWrap.find(".modal-header").remove();G.title=false}else{if(H.length>0){H.html(J)}else{I.modalWrap.find(".modal-inner").prepend(h(I.modalTitleTemplate({title:J,id:G.id})))}G.title=J}return I},updateContent:function(H,I){var G=this;if(typeof H==="string"&&G.isHtml(H)){G.content=H;if(G.options.showLoader){G.modalBodyHtml.addClass("loading").attr("aria-busy","true")}else{G.modalBodyHtml.removeClass("loading").attr("aria-busy","false")}}else{if(H instanceof jQuery){G.content=G.getContentFromJquery(H)}else{G.content="";G.modalInnerHtml.addClass("loading").attr("aria-busy","true")}}if(G.modalWrap){G.modalWrap.find(".modal-body").html(G.content);z.initCalendarInputs(G.modalWrap);if(I!==undefined){G.updateTitle(I)}if(z&&z.publish){z.publish("modal.appended",G)}if(G.content!==""){G.modalInnerHtml.removeClass("loading").attr("aria-busy","false")}}return G},getModalData:function(){var H=this,I={},G=H.options;I.title=G.title;I.id=G.modalId;I.roleDialog=G.roleDialog;I.optOut=G.optOutStorage;I.optOutText=G.optOutText||false;I.theme=G.jsTheme;I.dismiss=G.dismiss&&G.background;I.closeBtn=G.closeBtn;I.closeText=G.closeText;I.background=G.background;I.isOpi=G.jsTheme==="onpage-interstitial";I.content=H.content||"";I.classes=G.classes;I.showLoader=G.showLoader;I.footer=G.footer||G.optOut;I.footerCloseButton={type:"button",id:"footerModalCloseButton",cssClass:"btn-utility btn-secondary modal-close",content:I.closeText||I18n.t("close")};I.closeButton={type:"button",id:"modalCloseButton",cssClass:"btn-close modal-close btn-primary",content:'<span class="icon icon-close" aria-hidden="true"></span><span class="alt">'+I18n.t("close")+"</span>"};return I},getHtml:function(){var H=this,I=H.getModalData(),G=h(H.modalTemplate(I));H.modalHtml=G;H.modalWrap=G.filter("."+l);H.modalBg=G.filter("."+b);H.modalInnerHtml=H.modalWrap.find("."+r);H.modalBodyHtml=H.modalWrap.find("."+p)},setModalFocus:function(){var K=this,Q=K.options,L=Q.focusOpen,N=Q.resetNoFocus,O=K.modalBodyHtml.children().length===0,I=L===".modal-body :first-child",M=!I?h("#"+L):h(L),G,H,J=0;if(M.length===0&&O){M=h(".modal-loader :first-child")}setTimeout(function(){u.setFocusContextSelector("."+l+"."+F);u.enable();if(I&&Q.title&&!O){u.firstFocus()}else{u.blur(M.eq(0))}K.token=z.subscribe(g,K,K.onFocusCapture);if(!window.isIE8){G=document.querySelectorAll('body > :not(#uitk-live-announce):not([class^="modal-"]):not(script):not([aria-hidden="true"])')}else{G=[]}H=G.length;setTimeout(function(){for(J=0;J<H;J++){if(G[J].className.indexOf("uitk-aria-hidden")===-1){G[J].className+=" uitk-aria-hidden";G[J].setAttribute("aria-hidden",true)}}},50)},50);if(!Q.closeBtn){var P=z.utils.focusableElements(K.modalInnerHtml);if(!P||P.length<1){N.closeBtn=false;N.defaultElement=M;document.addEventListener("keydown",K.disableTabKey)}}},removeModalFocus:function(){var M=this,I=M.options,H=M.lastFocused,L=I.focusClose,G=L.length>0?h("#"+L):M.focusMeOnClose;z.unsubscribe(g,M.token);setTimeout(function(){if(!!G){u.blur(G)}else{u.blur(H)}u.disable()},50);var K=document.getElementsByClassName("uitk-aria-hidden"),J=K.length;for(J;J>0;J--){K[J-1].setAttribute("aria-hidden",false);K[J-1].className=K[J-1].className.replace(" uitk-aria-hidden","")}},onFocusCapture:function(J,H){var K=this,P=K.options,M=P.resetNoFocus,I,O=z.utils.focusableElements(h(H.container)),G,L,N;if(typeof O==="undefined"){return}G=O.index(H.focused);L=O.length;N=L>1;h(".uitk-tooltip.active-tooltip").each(function(Q,R){if(H.focused&&h.contains(R,H.focused)){I=true;return false}});if(N){if(L===G+1&&H.container){H.focused.addEventListener("keydown",function(Q){M.lastFocusable=H.focused;if(Q.which===9&&!Q.shiftKey){Q.preventDefault();O[0].focus()}else{if(Q.which===9&&Q.shiftKey){Q.preventDefault();O[G-1].focus()}}})}else{if(G===0){H.focused.addEventListener("keydown",function(Q){if(Q.which===9&&Q.shiftKey){Q.preventDefault();O[L-1].focus()}})}else{if(M.lastFocusable){M.lastFocusable.removeEventListener("keydown");return}}}}else{if(L===1){H.focused.addEventListener("keydown",function(R){var Q=h(R.currentTarget);if(R.which===9&&(Q.hasClass("button-close")||Q.hasClass("modal-close"))){R.preventDefault()}})}}if(!H.isContainedInContext&&!I){if(M&&!M.closeBtn){K.setModalFocus()}else{u.focus()}}},appendHtml:function(){var J=this,H=J.options,G=J.modalInnerHtml,K=J.modalWrap,I=J.modalBg;K.data("modal",J);J.modalHtml.appendTo(x);z.refreshPlaceholders();if(J.content&&z&&z.publish){z.publish("modal.appended",J)}setTimeout(function(){if(H.takeover&&H.background){J.scrollPosition=D.scrollTop();y.addClass(n);I.addClass(F);setTimeout(function(){y.addClass(j);D.scrollTop(0);K.addClass(F);J.setModalFocus()},300)}else{y.removeClass(n);J.scrollPosition=null;if(!H.background){y.addClass(w)}y.addClass(j);setTimeout(function(){K.addClass(F);I.addClass(F)},25);G.on(k,function(){G.off(k);J.setModalFocus()});if(!Modernizr.csstransitions){G.trigger("transitionEnd")}}var L=G[0].getElementsByClassName("modal-loader p");if(J.content&&L&&L.length>0){L[0].setAttribute("aria-hidden",true)}},100)},disableTabKey:function(G){if(G.which===9){G.preventDefault()}},open:function(L,K){var J=this,G=J.options,I=J.modalHtml,M="input:not([readonly]), textarea";function H(){if(!h(document.activeElement).is(M)){var N=((s.scrollTop())/17)+"em";I.css({top:N})}}if((G.manual==="open"||G.manual==="both")&&L){z.publish("modal.beforeOpen",J,K);return false}J.lastFocused=J.element;if(G.optOutStorage){if(sessionStorage.getItem(J.storageKey)==="true"){return false}}J.appendHtml();if(!A&&!G.background){setTimeout(function(){H();z.subscribe("debounced.scroll",function(){H()});I.on("blur",M,function(){setTimeout(function(){H()},0)})},10)}return J},close:function(Q,L,H){var O=this,I,N,T=O.options,S=O.modalHtml,M=O.modalWrap,K=O.modalBg,P=k,R=false,J,G;if((Q==="background"&&!T.background)||(Q==="background"&&!T.dismiss)||(Q==="esc"&&!T.dismiss)){return false}if((T.manual==="close"||T.manual==="both")&&L){z.publish("modal.beforeClose",O,H);return false}O.removeModalFocus();document.removeEventListener("keydown",O.disableTabKey);if(T.background){G=h("."+b);O.backgroundOpacity=G.css("opacity")}J=function(U){U.on(P,function(){U.off(P).remove();if(R&&h(".modal-wrap").length===0){y.removeClass(j+" "+w)}else{if(R&&h(".modal-background").length>0){y.removeClass(w)}else{R=true}}if(!U.hasClass(b)&&T.background){if(parseFloat(O.backgroundOpacity)===0){G.trigger("transitionEnd")}}})};if(Modernizr.csstransitions){J(M);if(T.background){J(K)}else{R=true}setTimeout(function(){M.trigger("transitionEnd");K.trigger("transitionEnd")},T.removalTime)}if(T.optOutStorage){I=M.find("input[name="+T.modalId+"-opt-out]");if(I&&I.attr("checked")){N="true"}else{N="false"}sessionStorage.setItem(O.storageKey,N)}if(T.takeover&&T.background){M.removeClass(F);setTimeout(function(){y.removeClass(j);K.removeClass(F);z.publish("modal.close",O)},250);setTimeout(function(){D.scrollTop(O.scrollPosition)},350)}else{M.removeClass(F);K.removeClass(F);z.publish("modal.close",O)}if(!Modernizr.csstransitions){S.remove();if(h(".modal-wrap").length===0){y.removeClass(j+" "+w)}else{if(h(".modal-background").length>0){y.removeClass(w)}}}if(!A&&!T.background){z.unsubscribe("debounced.scroll")}return O}};v.initPlugin(a,d);x.on(f,'[data-control="modal"]',function(H){var G=h(H.target).closest('[data-control="modal"]');H.preventDefault();G[a]("open",true,H)});x.on(f,"."+l,function(G){if(h(G.target).hasClass(l)){G.preventDefault();m("background",true,G)}});x.on(f,"."+b,function(G){G.preventDefault();if(y.hasClass(n)){m("background",true,G)}});x.on(f,"."+c,function(G){G.preventDefault();m("close-button",true,G)});D.on("keydown",function(G){if(G.keyCode===27){m("esc",true,G)}});h(window).on("orientationchange",function(){var G=document.activeElement,H=h(G),I=G.tagName;if((I==="INPUT"||I==="TEXTAREA")&&!G.hasAttribute("readonly")&&H.closest(".modal-inner").length>0){H.blur().focus()}});x.on("blur",".modal-inner input",function(G){if(h(G.target).data("control")!=="calendar"){x.css("height","+=10000").css("height","-=10000");setTimeout(function(){x.css("height","")},0)}});z.modal={create:function(H,G){var J,I=null;if(typeof H!=="undefined"&&H.focusClose&&H.focusClose.length>0){G=h("#"+H.focusClose)}else{if(!!G){G=G.eq(0)}else{I=document.activeElement;I=h(I);if(I.length>0){G=I}}}J=new d(null,H,G);J.open(true);return J},close:m};z.modules.Modal=d;return d});define("uitk_dropdown",["jquery","uitk","uitk_plugins"],function(g,r,p){var b="uitk_dropDown",k={gutter:6},u="[data-control=menu]",n=g(window),v,i=parseFloat(g("body").css("min-width")),h=i>950||Modernizr.mediaqueries==="false"||Modernizr.mediaqueries===false,l=window.isIE8,s="ie8-menu-arrow",q="menu-arrow",f="open",m="pin-center",o,d,a,j;function c(w,y){var x=this;p.newModule.call(x,w,y,k)}c.prototype={constructor:c,init:function(){var x=this,y=x.element,w=y.attr("data-target");if(!w){w=y.attr("href")}x.$parent=g(w);x.$parent=x.$parent.length?x.$parent:y.parent()},open:function(){var w=this;w.$parent.addClass(f);w.element.attr("aria-expanded","true");w.storeOpen(w.element);r.publish("menu.opened",{$menu:w.element})},close:function(){var w=this;w.$parent.removeClass(f);w.element.attr("aria-expanded","false");r.publish("menu.closed",{$menu:w.element})},closeAll:function(){var w=g(u).parent().hasClass(f)?true:false;g(u).parent().removeClass(f);g(u).attr("aria-expanded","false");if(w){r.publish("menu.closed",g("body").data("menuStored"))}},storeOpen:function(w){g("body").data("menuStored",{$menu:w})},getWindowWidth:function(){return n.width()},centerMenu:function(){var y=this,w=y.element,x=w.next(".menu");d=x.outerWidth();a=w.outerWidth();j=(a-d)/2;x.css("right",j+"px")},setPos:function(){var C=this,G=C.element,B=G.nextAll(".menu").first(),K=G.hasClass("nav-tab"),L=G.hasClass("pin-left"),w=B.parent().hasClass("btn-group"),F=G.hasClass("pin-right"),y=C.options.gutter;v=C.getWindowWidth();d=B.outerWidth();a=G.outerWidth();j=(a-d)/2;o=G.hasClass(m);if(K||L){B.css({right:"auto",left:0})}else{if(w||F){B.css("right",0)}else{if(o){B.css("right",j+"px")}}}var A=B.offset(),J=A.left,H=v-(J+d),z=parseInt(J-y),x=parseInt(H-y),I=parseFloat(B.css("right")),D=I+z,E=I-x,N,M;if(J<y){if(o){B.css("right",D+"px")}else{B.css("right",z+"px")}if(B.css("right")==="0px"&&B.css("left")==="0px"){B.css("right","auto")}}else{if(H<y){if(o){B.css("right",E+"px")}else{B.css("left",x+"px");N=B.position().left;M=d-a+N;if(M<=0){B.css({right:0,left:"auto"})}}}}},toggle:function(){var C=this,A,w=C.options.autoPos,y=C.element,z=y.hasClass(q),B=y.children().last(),x=B.hasClass(s);o=y.hasClass(m);if(y.is(".disabled, :disabled")){return}A=C.$parent.hasClass(f);C.closeAll();if(!A){C.$parent.toggleClass(f);C.storeOpen(C.element);r.publish("menu.opened",{$menu:C.element});C.element.attr("aria-expanded","true");if(l&&z){if(!x){y.append('<span class="ie8-menu-arrow"></span>')}}if(w!==false&&!h){C.setPos()}else{if(o){C.centerMenu()}}}return false},handleResize:function(x){var z=this,y,w=x.data("autoPos");v=z.getWindowWidth();if(!i){i=255}if(w!==false&&v>i){for(y=0;y<x.length;y++){x[b]("setPos")}}else{return false}}};p.initPlugin(b,c);g(window).on("resize."+b,function(){var w=g(u+'[aria-expanded="true"]');if(!h&&w.length>0){c.prototype.handleResize(w)}});g("html").on(r.clickEvent+".dropdown.data-api",{preventDefault:false},function(y){var x=g(y.target).closest(".menu"),w=g(y.target).closest(u);if(x&&x.length>0&&x.hasClass("sticky")){return}if(x&&x.length>0){if(x.hasClass("sticky")){return}else{setTimeout(function(){c.prototype.closeAll()},500)}}else{if(w.length===0){c.prototype.closeAll()}}});g("body").on(r.clickEvent+".dropdown",".dropdown form",function(w){w.stopPropagation()}).on(r.clickEvent+".dropdown.data-api",u,function(x){x.preventDefault();var w=g(x.target).closest(u);w[b]("toggle")}).on(r.clickEvent,".menu .close",function(x){x.preventDefault();var w=g(x.target).closest(".menu").prev(u);w[b]("close");r.utils.focusElement(w)});return c});define("uitk_share",["uitk_domReady","jquery","uitk"],function(b,c,a){a.initSocial=function(){var f=c(".socialize.medium"),g;if(f.length>0){window.twttr=(t={_e:[],ready:function(h){t._e.push(h)}});c.when(c.getScript("//platform.twitter.com/widgets.js"),c.getScript("//apis.google.com/js/plusone.js"),c.getScript("//assets.pinterest.com/js/pinit.js"),c.getScript("//connect.facebook.net/"+(a.locale||"en_US")+"/sdk.js#version=v2.0&xfbml=1&appId=131538103586818")).done(function(){f.css("visibility","visible")});if(window.dctk&&dctk.onReady){var d=function(j,l,i,m,k,h){dctk.onReady(function(){dctk.omtr.trackExternalLinks=false;dctk.omtr.linkTrackVars=j;dctk.omtr.linkTrackEvents=l;dctk.omtr.prop16=i;dctk.omtr.eVar28=m;dctk.omtr.events=k;dctk.omtr.tl(true,h,"Social:Share Success")})};window.fbAsyncInit=function(){FB.Event.subscribe("edge.create",function(h,i){d("products,prop11,prop12,prop16,eVar18,eVar28,eVar37,eVar55,eVar56,events","event48","Social.Facebook.Like","Social.Facebook.Like","event48","o")});FB.Event.subscribe("message.send",function(h){d("products,prop11,prop12,prop16,eVar18,eVar28,eVar37,eVar55,eVar56,events","event48","Social.Facebook.Send","Social.Facebook.Send","event48","o")})};window.gplusCallback=function(){d("products,prop11,prop12,prop16,eVar18,eVar28,eVar37,eVar55,eVar56,events","event48","Social.GPlus.Share","Social.GPlus.Share","event48","o")};twttr.ready(function(h){h.events.bind("tweet",function(i){d("products,prop11,prop12,prop16,eVar18,eVar28,eVar37,eVar55,eVar56,events","event48","Social.Twitter.Share","Social.Twitter.Share","event48","o")})});c(".share-pinterest").on("click",function(){d("products,prop11,prop12,prop16,eVar18,eVar28,eVar37,eVar55,eVar56,events","event48","Social.Pinterest.Share","Social.Pinterest.Share","event48","e");return false});c(".share-email").on("click",function(){d("products,prop11,prop12,prop16,eVar18,eVar28,eVar37,eVar55,eVar56,events","event48","Social.Email.Share","Social.Email.Share","event48","e")})}}c("a.share-tab.share-facebook").on("click",function(){window.open("https://www.facebook.com/dialog/share?app_id=131538103586818&href="+c(this).attr("data-url")+"&redirect_uri="+c(this).attr("data-url")+"&display=popup","","width=626,height=436");return false});c("a.share-tab.share-twitter").on("click",function(){window.open("https://twitter.com/intent/tweet?url="+c(this).attr("data-url")+"&text="+c(this).attr("data-description"),"","width=626,height=436");return false});c("a.share-tab.share-googleplus").on("click",function(){window.open("https://plus.google.com/share?url="+c(this).attr("data-url"),"","width=600,height=600");return false});c("a.share-tab.share-pinterest").on("click",function(){window.open("https://pinterest.com/pin/create/button/?url="+c(this).attr("data-url")+"&media="+c(this).attr("data-image-url")+"&description="+c(this).attr("data-description"),"","width=600,height=300");return false})}();return a});define("uitk_map",["uitk_domReady","jquery","handlebars","uitk","uitk_focus","uitk-map-template.hbs","button-tag.hbs","map-infowindow.hbs"],function(b,g,i,a,f){a.map={};var h,d,c;a.map.loadApi=function(){c=a.map.config||{};c.mapApiUrl=c.mapApiUrl||"//maps.googleapis.com/maps/api/js?v=3&callback=uitk.map.initPlugin";h=c.mapApiUrl;c.client=c.client||"gme-expedia";h=h+"&client="+c.client;if(c.language){h=h+"&language="+c.language}c.sensor=c.sensor||false;h=h+"&sensor="+c.sensor;if(c.channel){h=h+"&channel="+c.channel}var j=document.createElement("script");j.type="text/javascript";j.src=h;document.body.appendChild(j)};a.map.initPlugin=function(){d()};d=function(){var r="uitk_map",p=g("body"),m=g(document),n={title:false,subtitle:false,center:"0,0",zoom:2,zoomToFit:false,template:"uitk-map-template",legend:false,legendContent:"",mapType:"ROADMAP",maxZIndex:5000,fullscreen:true,lastFocusable:null},q="map-overlay",u="active",y="map-active",j="map-close",x=a.clickEvent+"."+r,w="",l,z=f(),v=z.focusEvent(),s=function(){var A=g("."+q+"."+u);A.each(function(){g(this).data("map").close()})},o=function(){if(!!w){z.blur(w);z.disable()}};function k(A,B){var C;this.element=g(A);B=B||{};C=this.element.data()||{};this.options=g.extend(true,{},n,C,B);this.getCustomParams();this.init()}k.prototype={constructor:k,init:function(){var B=this,A=B.element;A.attr("data-control","map");if(!B.mapTemplate){B.mapTemplate=a.getCompiledTemplate(B.options.template,true);a.getCompiledTemplate("button-tag",true)}B.canvasId=a.createUniqueId()+"-canvas";B.getHtml();if(!B.options.fullscreen){B.open()}},appendHtml:function(){var B=this,A=B.mapHtml;A.data("map",B);if(B.options.fullscreen){A.appendTo(p)}else{B.element.prepend(A)}setTimeout(function(){A.addClass(u);if(B.options.fullscreen){p.addClass(y)}B.loadMap()},100)},onMapAppended:function(){var A=this;if(!!w){A.token=a.subscribe(v,A,A.onFocusCapture);z.setFocusContextSelector("."+q+"."+u);z.enable();z.firstFocus()}},onFocusCapture:function(E,C){var F=this,A=F.options.lastFocusable,D,I=a.utils.focusableElements(g(C.container)),B,G,H;if(typeof I==="undefined"){return}B=I.index(C.focused);G=I.length;H=G>1;g(".uitk-tooltip.active-tooltip").each(function(J,K){if(C.focused&&g.contains(K,C.focused)){D=true;return false}});if(H){if(G===B+1&&C.container){C.focused.addEventListener("keydown",function(J){A=C.focused;if(J.which===9&&!J.shiftKey){J.preventDefault();I[0].focus()}else{if(J.which===9&&J.shiftKey){J.preventDefault();I[B-1].focus()}}})}else{if(B===0){C.focused.addEventListener("keydown",function(J){if(J.which===9&&J.shiftKey){J.preventDefault();I[G-1].focus()}})}else{if(A){A.removeEventListener("keydown");return}}}}else{if(G===1){C.focused.addEventListener("keydown",function(K){var J=g(K.currentTarget);if(K.which===9&&J.hasClass("map-close")){K.preventDefault()}})}}if(!C.isContainedInContext&&!D){z.focus()}},getCustomParams:function(){var D=a.map.data,C,B,A=this.options;if(D){C=D[A.configId];if(typeof C==="object"){B=C.customParams;if(B){A=g.extend(true,A,B)}}else{}}},getHtml:function(){var A=this,B=A.getMapData();if(A.options.fullscreen){B.closeButton={type:"button",classes:"btn-sub-action btn-secondary map-close",content:I18n.t("map_close")};A.mapHtml=g(A.mapTemplate(B))}else{A.mapHtml=g('<div id="'+A.canvasId+'" class="map-canvas"></div>')}},getMapData:function(){var B=this,C={},A=B.options;C.title=A.title;C.subtitle=A.subtitle;C.id=A.configId;C.legend=A.legend;C.legendcontent=A.legendContent;C.canvasid=B.canvasId;return C},getData:function(B){var D=a.map.data,C,A;if(D){C=D[this.options.configId];if(C){A=C[B]}}return A},getMarkerData:function(){return this.getData("markerData")},loadToggleGroups:function(){var D=this,B=D.getData("toggleGroups"),A=g('<fieldset class="toggleGroups"></fieldset>');if(B&&B.length){for(var C=0;C<B.length;C++){var I=B[C];I.toggled=I.defaultToggled;if(!D.toggleGroups){D.toggleGroups={}}I.toggles=[];D.toggleGroups[I.key]=I;var G=!!I.defaultToggled,H=g('<span class="inline-label"></span>').text(I.localizedName),F=g('<input type="checkbox" name="toggleGroup" />').attr("id",I.key).attr("value",I.key).prop("checked",G),E=g('<label class="check toggleGroup"></label>').attr("for",I.key).append(F).append(H);A.append(E)}D.map.controls[google.maps.ControlPosition.RIGHT_TOP].push(A[0]);g("#"+D.canvasId).on("change",".toggleGroup input",function(){var J=g(this),K=J.is(":checked"),L=J.val();D.updateToggleItems(L,K)})}},queueToggle:function(C,B){var A=this;if(C&&A.toggleGroups[C]&&B&&B.setMap){A.toggleGroups[C].toggles.push(B)}},setInitialToggleStates:function(){var B=this;for(var C in B.toggleGroups){if(B.toggleGroups.hasOwnProperty(C)){var A=B.toggleGroups[C];B.updateToggleItems(C,A.toggled)}}},updateToggleItems:function(E,G){var D=this,C=D.toggleGroups[E],F=C.toggles,A=(G)?D.map:null;C.toggled=G;for(var B=0;B<F.length;B++){F[B].setMap(A)}},loadMarkers:function(){var D=this,B=D.getMarkerData(),E=[];D.markers=[];D.currMarkerData=null;if(B){g.each(B.markers,function(G,H){D.loadMarker(H);var F=D.stringToLatLng(H.latlong);if(typeof F!=="undefined"){E.push(F)}})}if(D.options.zoomToFit){D.bounds=new google.maps.LatLngBounds();for(var C=0,A=E.length;C<A;C++){D.bounds.extend(E[C])}D.map.fitBounds(D.bounds)}google.maps.event.addListener(D.infowindow,"closeclick",function(){D.closeMarkerInfo()})},loadMarker:function(E){var F=this,D=F.stringToLatLng(E.latlong),C;if(typeof D!=="undefined"){var A=F.customMarker(E.type,E.letter),B;if(E.hoverType){B=F.customMarker(E.hoverType)}var H;if(typeof E.name!=="undefined"){H=E.name.replace(/(<([^>]+)>)/ig,"").replace(/(\r\n|\n|\r)/gm,"")}C=new google.maps.Marker({map:F.map,title:H,content:E.content,position:D,icon:A.icon,hoverIcon:(B)?B.icon:undefined,noHoverIcon:A.icon,zIndex:(E.zIndex)?E.zIndex:F.options.maxZIndex,animation:(E.createAnimation)?google.maps.Animation.BOUNCE:undefined});if(E.createAnimation){setTimeout(function(){C.setAnimation(null)},740)}if(E.showContent){F.showMarkerInfo(C,E)}google.maps.event.addListener(C,"click",function(){F.showMarkerInfo(C,E)});if(C.hoverIcon){google.maps.event.addListener(C,"mouseover",function(){F.setIcon(F.hoverIcon)});google.maps.event.addListener(C,"mouseout",function(){F.setIcon(F.noHoverIcon)})}var G=E.toggleGroup;if(G){F.queueToggle(G,C)}F.options.maxZIndex--}if(F.markers){F.markers.push(C)}return C},customMarker:function(G,C){var F={},I=a.corePath(),B,H,D;F.icon={};F.letter=C;switch(G){case"blue-pin":B=I+"images/blu-marker.png";break;case"red-dot":B=I+"images/reddot.png";H=new google.maps.Size(10,10);D=new google.maps.Point(5,5);break;case"red-pin":B=I+"images/red-marker.png";if(typeof F.letter==="string"&&F.letter.length){B="http://mt.google.com/vt/icon?psize=16&font=fonts/Roboto-Regular.ttf&color=ff330000&name=icons/spotlight/spotlight-waypoint-b.png&ax=44&ay=48&scale=1&text="+F.letter}break;case"grey-pin":B=I+"images/grey-marker.png";break;case"":case undefined:B=I+"images/red-marker.png";break;default:var J=G.size,E=G.anchor,A=G.url;if(A){if(J){H=new google.maps.Size(J.x,J.y)}if(E){D=new google.maps.Point(E.x,E.y)}B=A}else{B=I+"images/red-marker.png"}}F.icon.url=B;F.icon.size=H;F.icon.anchor=D;return F},showMarkerInfo:function(D,C){var F=this,E="",I,H,B,A;if(D&&C){I=C.name;H=C.content;A=C.width;if(typeof H!=="undefined"){if(!l){l=a.getCompiledTemplate("map-infowindow",true)}try{B={title:I,secondaryContent:H};if(!!A){B.markerWidth=A}E=l(B)}catch(G){E=""}F.infowindow.setContent(E);if(!D.autoPan&&typeof D.autoPan!=="undefined"){F.infowindow.setOptions({disableAutoPan:true})}F.infowindow.open(F.map,D);F.currMarkerData=C;F.currMarkerData=C;if(a.publish){a.publish("map.marker.opened",C)}}}},closeMarkerInfo:function(){var A=this;A.infowindow.close();if(a.publish&&(A.currMarkerData!==null)){a.publish("map.marker.closed",A.currMarkerData)}A.currMarkerData=null},loadPolygons:function(){var F=this,C=F.getData("polygonData"),B=[];if(C){var A=C.polygons;if(A&&g.isArray(A)){for(var E=0;E<A.length;E++){var D=A[E],G=F.loadPolygon(D);B.push(G)}}}F.polygonList=B},loadPolygon:function(D){var C=this,A=D.latLongs,B=C.convertPolygonLatLngsToGoogle(A),F=C.buildGooglePolygon(D,B);var E=D.toggleGroup;if(E){C.queueToggle(E,F)}google.maps.event.addListener(F,"mouseover",function(){if(!this.active){this.setOptions(this.hoverStyle)}});google.maps.event.addListener(F,"mouseout",function(){if(!this.active){this.setOptions(this.defaultStyle)}});google.maps.event.addListener(F,"click",function(){var G=!C.active;C.clearPolygonActiveState();C.active=G;C.togglePolygonActiveState(this);C.openPolygonInfo(this)});return F},convertPolygonLatLngsToGoogle:function(A){var F=this,B;if(A&&g.isArray(A)){B=[];for(var C=0;C<A.length;C++){var E=A[C],D=F.stringToLatLng(E);if(D){B.push(D)}}}return B},buildGooglePolygon:function(D,B){var C=this,H,F,A,E,G;if(D&&B&&g.isArray(B)&&B.length>0){H=C.buildPolygonStyleObj(D);F=C.buildPolygonStyleObj(D.hoverStyle,H);A=C.buildPolygonStyleObj(D.activeStyle,H);E=g.extend({map:C.map,paths:B},H);G=new google.maps.Polygon(E);G.defaultStyle=H;G.hoverStyle=F;G.activeStyle=A;G.content=D.content}return G},buildPolygonStyleObj:function(F,C){var B={strokeColor:"#FFF",strokeOpacity:1,strokeWeight:1,fillColor:"#FFF",fillOpacity:0.5},E=(C)?{strokeColor:C.strokeColor,strokeOpacity:C.strokeOpacity,strokeWeight:C.strokeWeight,fillColor:C.fillColor,fillOpacity:C.fillOpacity}:{},D=(F)?{strokeColor:F.strokeColor,strokeOpacity:F.strokeOpacity,strokeWeight:F.strokeWeight,fillColor:F.fillColor,fillOpacity:F.fillOpacity}:{},A=g.extend(B,E,D);return A},openPolygonInfo:function(B){var C="removeClass",A;if(B.content){if(B.active){A=B.content;C="addClass"}g("#polygonLegend").html(A);g(".map-overlay")[C]("polygon-legend");google.maps.event.trigger(this.map,"resize")}},togglePolygonActiveState:function(A){var B=(A.active)?A.activeStyle:A.hoverStyle;A.setOptions(B)},clearPolygonActiveState:function(){var C=this;if(C.polygonList){for(var B=0;B<C.polygonList.length;B++){var A=C.polygonList[B];A.active=false;A.setOptions(A.defaultStyle)}}},loadMap:function(){var G=this,A=G.stringToLatLng(G.options.center),C=G.options,B,H,F=google.maps,E;G.center=A;B={scaleControl:true,center:G.center,zoom:C.zoom,mapTypeId:F.MapTypeId[C.mapType]};if(!C.fullscreen&&C.title){B.panControlOptions={position:F.ControlPosition.LEFT_CENTER};B.zoomControlOptions={position:F.ControlPosition.LEFT_CENTER}}if(a.isTouchDevice&&C.fullscreen){var D=document.documentElement.clientWidth/window.innerWidth;if(D>1.01){B.draggable=false;B.scrollwheel=false}}H=a.map.data[C.configId];if(typeof H.mapOptions==="object"){g.extend(B,H.mapOptions)}G.map=new F.Map(document.getElementById(G.canvasId),B);a.map.data[C.configId].module=G;G.infowindow=new F.InfoWindow({maxWidth:400});G.loadToggleGroups();G.loadMarkers();G.loadPolygons();G.setInitialToggleStates();a.mapObj=G.map;if(a.publish){a.publish("map.appended",G)}a.subscribe("debounced.resize",function(){if(C.zoomToFit){G.map.fitBounds(G.bounds)}else{E=G.map.getCenter();G.center=E;G.map.setCenter(G.center)}});F.event.addListener(G.map,"click",function(){G.closeMarkerInfo()})},open:function(B){var A=this;if(!!B){w=(B instanceof jQuery)?B:g(B)}a.subscribe("map.appended",A,A.onMapAppended);if(a.isTouchDevice){A.scrollPosition=m.scrollTop()}A.appendHtml();if(A.options.fullscreen){setTimeout(function(){var E,C,D=0;if(!window.isIE8){E=document.querySelectorAll('body > :not(#uitk-live-announce):not(script):not([aria-hidden="true"]):not(.'+q+")")}else{E=[]}C=E.length;setTimeout(function(){for(D=0;D<C;D++){if(E[D].className.indexOf("uitk-aria-hidden")===-1){E[D].className+=" uitk-aria-hidden";E[D].setAttribute("aria-hidden",true)}}},50)},100)}},close:function(){var C=this;if(a.publish){a.publish("map.close",C)}if(C.options.fullscreen){p.removeClass(y);if(a.isTouchDevice){m.scrollTop(C.scrollPosition)}var B=document.getElementsByClassName("uitk-aria-hidden"),A=B.length;for(A;A>0;A--){B[A-1].setAttribute("aria-hidden",false);B[A-1].className=B[A-1].className.replace(" uitk-aria-hidden","")}}C.mapHtml.removeClass(u);setTimeout(function(){C.mapHtml.remove();a.mapObj=null;delete a.mapObj;o()},600)},stringToLatLng:function(F){var C,E=",";if(typeof F==="string"&&F.indexOf(E)>0){var B=F.split(E),D=parseFloat(B[0]),A=parseFloat(B[1]);if(typeof D==="number"&&!isNaN(D)&&typeof A==="number"&&!isNaN(A)){C=new google.maps.LatLng(D,A)}}return C}};g.fn[r]=function(){var B,C,A;if(typeof arguments[0]==="object"){B=arguments[0];C=arguments[1];A=arguments[2]}else{B={};C=arguments[0];A=arguments[1]}return this.each(function(){if(!g.data(this,r)){g.data(this,r,new k(this,B))}if(typeof C==="string"){g.data(this,r)[C](A)}})};g('[data-control="map"][data-fullscreen="false"]')[r]();p.on(x,'[data-control="map"][data-fullscreen="true"]',function(B){var A=(w=g(B.target).closest('[data-control="map"]'));B.preventDefault();A[r]("open")});p.on(x,"."+j,function(A){A.preventDefault();s()});m.on("keydown",function(A){if(A.keyCode===27){s()}});a.map.create=function(B,C){var A=new k(null,B);A.open(C);return A};a.map.close=s;if(a.publish){a.publish("mapLoaded")}a.modules.Map=k};return a.map});define("uitk_pagination",["uitk_domReady","jquery","uitk","uitk_plugins","handlebars","uitk_i18n"],function(b,h,c,f,a,d){var i="uitk_pagination",j=c.clickEvent,g=h("body");function k(m,n){this.DEFAULT_RESULTS_PER_PAGE=10;this.DEFAULT_TOTAL_PAGES_TO_DISPLAY=7;this.$element=h(m);this.isPrototype=this.$element.hasClass("prototype");this.topLink=this.$element.data("top-link")||false;if(typeof this.topLink!="boolean"){throw new TypeError("UITK Pagination: The 'data-top-link' attribute must be true or false.")}this.totalNumberOfResults=this.$element.data("total-results");if(!this.totalNumberOfResults){throw new ReferenceError("UITK Pagination: The pagination control requires a 'data-total-results' attribute.")}else{if(typeof this.totalNumberOfResults!="number"){throw new TypeError("UITK Pagination: The 'data-total-results' attribute must be a number.")}}this.currentFirstResult=this.$element.data("first-result");if(!this.currentFirstResult){throw new ReferenceError("UITK Pagination: The pagination control requires a 'data-first-result' attribute.")}else{if(typeof this.currentFirstResult!="number"){throw new TypeError("UITK Pagination: The 'data-first-result' attribute must be a number.")}}this.resultsPerPage=this.$element.data("per-page");if(!this.resultsPerPage||this.resultsPerPage===0){this.resultsPerPage=this.DEFAULT_RESULTS_PER_PAGE}else{if(typeof this.resultsPerPage!="number"){throw new TypeError("UITK Pagination: The 'data-per-page' attribute must be a number.")}}this.totalPagesToDisplay=this.$element.data("pages-to-display");if(!this.totalPagesToDisplay||this.totalPagesToDisplay===0){this.totalPagesToDisplay=this.DEFAULT_TOTAL_PAGES_TO_DISPLAY}else{if(typeof this.totalPagesToDisplay!="number"){throw new TypeError("UITK Pagination: The 'data-pages-to-display' attribute must be a number.")}}this.showResultsInPageUnit=this.$element.data("results-page-unit")||false;if(typeof this.showResultsInPageUnit!="boolean"){throw new TypeError("UITK Pagination: The 'data-results-page-unit' attribute must be true or false.")}this.showAlwaysFirstAndLastPage=this.$element.data("show-always-first-last")||false;if(typeof this.showAlwaysFirstAndLastPage!="boolean"){throw new TypeError('UITK Pagination: The "data-show-always-first-last" attribute must be true or false.')}this.totalPages=Math.ceil(this.totalNumberOfResults/this.resultsPerPage);this.displayPagination=this.totalPages>1;this.currentPageNum=Math.ceil(this.currentFirstResult/this.resultsPerPage);this.showEllipses=false;this.firstPage={number:1,isCurrentPage:false};this.lastPage={number:this.totalPages,isCurrentPage:false};this.showResults=true;this.isSinglePage=this.totalPages===1;this.showFirstEllipses=false;this.showLastEllipses=false;this.init()}k.prototype={constructor:k,init:function(){var n=this.isPrototype?"uitk-pagination-prototype-page-template":"uitk-pagination-page-template",o=this;a.registerPartial(n,c.getCompiledTemplate(n));this.calculateValues();o.showPages=true;if(Modernizr.mediaqueries){var m=function(p,q){if(q.key==="pag_isMobile"&&(o.showPages!==false)){o.showPages=false;o.render()}if(q.key==="pag_isNotMobile"&&(o.showPages!==true)){o.showPages=true;o.render()}};c.subscribe("mediaquery.matched",m);c.mediaquery.register({pag_isMobile:"(max-width: 600px)",pag_isNotMobile:"(min-width: 601px)"})}this.render()},calculateValues:function(){var n=this.calcStartPage(this.totalPages,this.totalPagesToDisplay,this.currentPageNum),m=Math.min(this.totalPagesToDisplay,this.totalPages);this.calcPageVars(this.currentPageNum,this.totalPages);this.currentLastResult=Math.min(this.currentFirstResult+this.resultsPerPage-1,this.totalNumberOfResults);this.showEllipses=this.calcShowEllipses(n,m,this.totalPages)||this.showAlwaysFirstAndLastPage;if(this.showEllipses){m-=2;n=Math.ceil(this.currentPageNum-(m/2));this.showFirstEllipses=true;this.showLastEllipses=true}if(this.showAlwaysFirstAndLastPage){if(n<=1){n=2;this.showFirstEllipses=false}if(n+m>=this.totalPages){n-=n+m-this.totalPages;this.showLastEllipses=false}}this.pages=this.generatePages(m,n,this.currentPageNum)},calcStartPage:function(o,m,n){if(o<m||n<=(m/2)){return 1}if(n===o||n+m/2>=o){return o-m+1}return Math.ceil(n-(m/2))},calcPageVars:function(n,m){this.onFirstPage=(n===1);this.onLastPage=(n===m);this.prevPageNum=n-1;this.nextPageNum=n+1;this.updateFirstAndLastPage()},updateFirstAndLastPage:function(){this.firstPage.isCurrentPage=this.onFirstPage;this.lastPage.isCurrentPage=this.onLastPage},calcShowEllipses:function(o,m,n){return(o>1&&(o+m)<=n)},generatePages:function(n,q,p){var m=[];for(var o=0;o<n;o++){m[o]={number:q+o};if(p===q+o){m[o].isCurrentPage=true}}return m},goToPage:function(m){this.currentPageNum=m;this.currentFirstResult=(this.currentPageNum-1)*this.resultsPerPage+1;this.calculateValues();this.render();var n={pageNumber:m};c.publish("pagination.pageChanged",n)},prevPage:function(){this.goToPage(this.currentPageNum-1)},nextPage:function(){this.goToPage(this.currentPageNum+1)},render:function(){var n=this.isPrototype?c.getCompiledTemplate("uitk-pagination-prototype-content-template"):c.getCompiledTemplate("uitk-pagination-content-template"),m=n(this);this.$element.html(m)}};f.initPlugin(i,k);h(".pagination[data-single-page]")[i]();var l=h(".pagination-update");if(c.iosVersion()[0]<=5){j="touchend"}g.on(j,".pagination-label",function(q){var p=q.currentTarget,n=h(p),m=n.closest(".pagination[data-single-page]"),r=p.nodeName.toUpperCase()==="BUTTON"?n:n.prev("input"),o=parseInt(r.val(),10);q.preventDefault();m[i]("goToPage",o);c.utils.focusElement(l)});g.on(j,".pagination-prev, .pagination-next",function(o){var n=h(o.currentTarget),m=n.closest(".pagination[data-single-page]");o.preventDefault();if(n.hasClass("pagination-prev")){m[i]("prevPage")}else{m[i]("nextPage")}c.utils.focusElement(l)});g.on("keyup",".pagination input, button.pagination-label",function(p){var n=h(p.currentTarget),m=n.closest(".pagination");if(p.keyCode===32){var o=parseInt(n.val(),10);m[i]("goToPage",o);c.utils.focusElement(l)}});g.on("click",".backToTop",function(){window.scrollTo(0,0)});return k});define("uitk_sortbar",["uitk_domReady","jquery","uitk"],function(c,g,b){var d=".sort-filter-bar",i;function h(j){return j.val()}function f(m){var n=[],j=m.closest(d).find('input[type="checkbox"]'),l=j.length;for(var k=0;k<l;k++){if(j[k].checked===true){n.push(j[k].value)}}return n}function a(l,j){var k={};k.sortBy=l;k.filterBy=j;b.publish("sortBar.changed",k)}i=function(l,k){var j=l.closest(k).find("input");j.removeClass("checked");j.filter(":checked").addClass("checked")};g("body").on(b.clickEvent,d+" input",function(l){var k=g(l.currentTarget),j=k.closest("input");if(!b.supportsChecked){i(k,d)}a(h(j),f(j))});b.modules.sortbar={publishSortBarChange:a};return b.modules.sortbar});define("uitk_respSortbar",["uitk_domReady","jquery","handlebars","uitk","uitk_plugins","uitk-responsive-sortbar-template.hbs","uitk-responsive-sortbar-contents-template.hbs","uitk-responsive-sortbar-options-template.hbs","uitk-responsive-sortbar-more-template.hbs","icon-tag.hbs"],function(b,i,a,c,f){var j="uitk_responsive_sortbar",g=i("body"),d={barTemplateId:"uitk-responsive-sortbar-template",contentsTemplateId:"uitk-responsive-sortbar-contents-template",optionsTemplateId:"uitk-responsive-sortbar-options-template",moreTemplateId:"uitk-responsive-sortbar-more-template",minVisibleWithLabel:2,selectView:true,selectViewForce:false,viewFlip:"mobile"},k=c.clickEvent+"."+j;function h(l,m){f.newModule.call(this,l,m,d)}h.prototype={constructor:h,init:function(){var o=this,n,m=o.options.viewFlip,l="uitk_rsb_"+m;if(Modernizr.mq("only all")&&o.options.selectView===true&&o.options.selectViewForce===false){n=c.subscribe("mediaquery.matched",function(p,q){if(q.key===l){c.unsubscribe("mediaquery.matched",n);o.addSortBar()}});c.mediaquery.publishAgain()}else{o.addSortBar()}o.currentSelection=o.element.find("select").val()},addSortBar:function(){var l=this;l.handleEvent=true;l.storeTemplates();l.parseSelect();if(l.options.selectViewForce===false){l.appendBarHtml()}l.storeOptionWidths();l.updateVisibility();if(l.optionsJson.more){l.updateSortbar(true)}c.subscribe("throttled.resize",function(){l.handleResize()})},storeTemplates:function(){var m=this,l=c.getCompiledTemplate("icon-tag");a.registerPartial("button-tag",c.getCompiledTemplate("button-tag"));m.barTemplate=c.getCompiledTemplate(m.options.barTemplateId,true);m.contentsTemplate=c.getCompiledTemplate(m.options.contentsTemplateId,true);m.optionsTemplate=c.getCompiledTemplate(m.options.optionsTemplateId,true);m.moreTemplate=c.getCompiledTemplate(m.options.moreTemplateId,true);a.registerPartial("icon-tag",l)},parseSelect:function(){var p=this,y={},u=p.element.find(".sort-bar-select-wrap"),m=u.find("select"),r=u.find(".btn-label > .visuallyhidden").text(),s=u.find(".inline-label").text(),l=m.children("option"),x=l.length,n;p.optionsJson={};p.optionsJson.order=[];p.optionsJson.filterLabel=r;p.optionsJson.sortLabel=s;p.optionsJson.showSortLabel=true;p.optionsJson.toggleLeft=u.hasClass("toggle-left");p.optionsJson.toggleRight=u.hasClass("toggle-right");p.optionsJson.moreLabel=p.options.moreLabel;for(n=0;n<x;n=n+1){var v=l.eq(n),w=v.data("optGroup"),o=p.parseOptions(v),q={};if(y[w]){q.states={};q.states["0"]=y[w];q.states["1"]=o;q.icon={name:"updown"};q.group=w;q.dataAttributes=y[w].dataAttributes;if(q.states["0"].selected){q.selected=true}else{if(q.states["1"].selected){q.selected=true}}}else{p.optionsJson.order.push(w);q=o}q.visible=true;y[w]=q}p.optionsJson.options=y},parseOptions:function(r){var n={},q=r.data(),p,o="",m,l;n.label=r.text();n.id=q.optId;n.group=q.optGroup;n.value=r.attr("value");for(p in q){if(q.hasOwnProperty(p)&&p!=="optId"){m=q[p];l=p.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();o+=" data-"+l+'="'+m+'"'}}n.dataAttributes=o;if(r.attr("selected")==="selected"){n.selected=true}return n},appendBarHtml:function(){var m=this,l=m.optionsJson,n={filterLabel:l.filterLabel,sortLabel:l.sortLabel,toggleLeft:l.toggleLeft,toggleRight:l.toggleRight,moreLabel:l.moreLabel,showSortLabel:true,options:m.getOptionsArray(),toggleButton:{type:"button",cssClass:"btn-sub-action btn-primary off-canvas-btn",dataAttributes:"data-control='off-canvas-toggle' data-target='[role=complementary]'",content:"<span class='icon icon-offcanvas' aria-hidden='true'></span><span class='alt'>toggle column</span> "+l.filterLabel}};m.element.append(m.barTemplate(n))},getOptionsArray:function(){var l=this.optionsJson;return i.map(l.order,function(m){return[l.options[m]]})},storeOptionWidths:function(){var r=this,q=r.element.find(".sort-options"),l=q.find(".tab"),m=l.length,n,p=0;for(n=0;n<m;n=n+1){var s=l.eq(n),o=s.outerWidth();p+=o;r.optionsJson.options[s.data("optGroup")].width=o}r.optionsJson.totalWidth=p;r.optionsJson.sortLabelWidth=q.find(".sort-bar-label").outerWidth()},publishChanged:function(){var m=this.element.find("select").val(),l=(m!==this.currentSelection);this.currentSelection=m;c.publish("sortBar.changed",{sortBy:m,hasChanged:l})},handleResize:function(){var l=this,m=l.updateVisibility();l.updateSortbar(m,false)},handleSelect:function(l){var m=this;if(m.handleEvent){var n=l.find(":selected").data(),o,p;p=m.updateSelection(n.optGroup,n.optId);o=m.updateVisibility();m.updateSortbar(o,p)}m.publishChanged()},handleSortBar:function(l,m){var n=this,o=l.data(),p,q;n.element.find(".more.open .tab").uitk_dropDown("close");if(m==="bar"){q=n.updateSelection(o.optGroup)}else{if(m==="menu"){q=n.updateSelection(o.optGroup,o.optId)}}p=n.updateVisibility();n.updateSortbar(p,q);n.updateSelect();n.publishChanged()},updateSelection:function(r,m){var o=this,v=o.optionsJson.options,p=v[r],u=p.states,n=false,s,q;if(!p.selected){for(var l in v){if(v.hasOwnProperty(l)){v[l].selected=false}}p.selected=true}else{n=true}if(u){s=u["0"];q=u["1"];if(m){if(q.id===m){q.selected=true;s.selected=false}else{q.selected=false;s.selected=true}}else{if(n){if(q.selected){q.selected=false;s.selected=true}else{q.selected=true;s.selected=false}}}}return !n},updateVisibility:function(){var v=this,x=v.element.find(".sort-options"),y=v.optionsJson.sortLabelWidth,u=x.width()-y-16,B=v.optionsJson,p=B.options,w=B.order,A=w.length,o=B.totalWidth,z=false,l=0,r=A-v.options.minVisibleWithLabel,s=true,C,m;if(o<u){for(m in p){if(p.hasOwnProperty(m)){if(p[m].visible!==true){z=true}p[m].visible=true}}if(!v.optionsJson.showSortLabel){v.optionsJson.showSortLabel=true;z=true}this.optionsJson.more=false}else{var D=false,q=o;for(C=A-1;C>=0;C=C-1){var n=p[w[C]];if(n.selected){if(n.visible!==true){z=true}n.visible=true}else{if(q<u){D=true}else{if(l===r){s=false;u=u+y;if(q<u){D=true}}}if(!D){q=q-n.width;l=l+1}if(s!==v.optionsJson.showSortLabel){v.optionsJson.showSortLabel=s;z=true}if(n.visible!==D){z=true;n.visible=D}}}this.optionsJson.more=true}return z},updateSortbar:function(l,n){var m=this;if(l){m.updateHtml(".sort-bar-container","contentsTemplate")}else{if(n){m.updateOptions()}}},updateOptions:function(){this.updateHtml(".sort-options","optionsTemplate")},updateHtml:function(p,l){var n=this,m=n.optionsJson,o=n.element.find(".more.open").length>0||false,q={options:n.getOptionsArray(),more:m.more,moreOpen:o,sortLabel:m.sortLabel,moreLabel:m.moreLabel,moreIcon:{name:"toggle180"},showSortLabel:m.showSortLabel};n.element.find(p).html(n[l](q))},updateSelect:function(){var m=this,l=m.getSelected();m.element.find("select").children('option[data-opt-id="'+l.id+'"]').attr("selected","selected").addBack().siblings().removeAttr("selected")},getSelected:function(){var o={},l=this.optionsJson.options,n;for(var m in l){if(l.hasOwnProperty(m)){n=l[m];if(n.selected){o.group=n.group;if(n.states){o.id=n.states["1"].selected?n.states["1"].id:n.states["0"].id}else{o.id=n.id}}}}return o}};f.initPlugin(j,h);g.on(k,".responsive-sortbar .btn-sort",function(n){var l=i(n.target).closest(".btn-sort"),m=l.closest('[data-control="responsive-sortbar"]');m[j]("handleSortBar",l,"bar")});g.on(k,".responsive-sortbar .menu a",function(n){n.preventDefault();var l=i(n.target).closest("a"),m=l.closest('[data-control="responsive-sortbar"]');m[j]("handleSortBar",l,"menu")});g.on("change",'[data-control="responsive-sortbar"] select',function(n){var l=i(n.target),m=l.closest('[data-control="responsive-sortbar"]');m[j]("handleSelect",l)});c.mediaquery.register("(min-width:"+(492/16)+"em)","uitk_rsb_mobile");c.mediaquery.register("(min-width:"+(726/16)+"em)","uitk_rsb_smallTablet");c.mediaquery.register("(min-width:"+(960/16)+"em)","uitk_rsb_tablet");i("[data-control=responsive-sortbar]")[j]();c.modules.RespSortbar=h;return h});define("uitk_countryCode",["uitk_domReady","jquery","handlebars","uitk","uitk_plugins"],function(h,f,g,n,k){var b="uitk_country_code",l=f("body"),m=f("html"),q=false,p,a,d,j,s,i={triggerTemplateId:"uitk-country-code-trigger-template",contentTemplateId:"uitk-country-code-content-template"},c=n.clickEvent+"."+b,r=f("html").hasClass("lt-ie8");function o(v,w){var y,x,u;this.element=f(v);w=w||{};y=this.element.data()||{};this.options=f.extend(true,{},i,u,y,w);this.init()}o.prototype={constructor:o,init:function(){var v=this.element,u=this.options;if(!this.triggerTemplate){this.triggerTemplate=n.getCompiledTemplate(u.triggerTemplateId)}if(!this.contentTemplate){this.contentTemplate=n.getCompiledTemplate(u.contentTemplateId)}this.triggerId=v.attr("id")+"-trigger";this.contentId=v.attr("id")+"-content";this.$phoneField=f(s(v.data("target-id")));this.$phoneField.after(f(this.triggerTemplate({id:this.triggerId,contentId:"#"+this.contentId})));this.$trigger=f(s(this.triggerId));this.$trigger.uitk_tooltip("updateContent",f(this.getTooltipContent()));this.updateTooltipTrigger()},getTooltipContent:function(){var x=this.element,w=this,u=this.options,v={},y=[];v.contentId=this.contentId;v.selectId=x.attr("id");v.triggerId=this.triggerId;x.children("option").each(function(z){var B=f(this),A={};A.ccode=B.attr("value");A.countryAbbr=w.getCountryCodeAbbr(B);A.countryName=B.data("country-name");A.text=B.text();A.defaultOption=false;if(B.attr("selected")=="selected"&&(z>0)){A.defaultOption=true;y.unshift(A)}y.push(A)});v.options=y;return w.contentTemplate(v)},updateTooltipTrigger:function(){var u=this.element,v=this.getCountryCodeAbbr(u.find(":selected"));this.$trigger.find(".cc-flag").attr("class","cc-flag "+v)},getCountryCodeAbbr:function(w){try{var u=w.data("country-iso").toLowerCase()}catch(v){console.log(v="ERROR: The data-country-iso is a required parameter, please see the UI Toolkit documentation, 'patterns > Country Code Select' for more details")}return u}};k.initPlugin(b,o);p=function(y){var z=y.parents(".countries-flags"),v=f(s(z.data("trigger-id"))),w=f(s(z.data("select-id"))),A=y.data("country-iso"),x=y.find(".cc-flag").attr("class"),u=f(s(w.data("target-id")));w.children("option").removeAttr("selected");w.find('option[data-country-iso="'+A+'"]').attr("selected","selected");v.data("scrollPos",z.scrollTop());v.find(".cc-flag").attr("class",x);v.uitk_tooltip("hide");u.focus()};a=function(B){var w,y=f("div.uitk-tooltip.active-tooltip .tooltip-inner"),A,v,C,z,x,D,F,E,u;w=f(".tooltip-inner ul li:eq("+(B+1)+")");C=y.css("padding-top");x=y.css("margin-top");z=Number(C.substring(0,C.length-2));D=Number(x.substring(0,x.length-2));v=z+D;F=w.position().top;E=w.parent();u=E.position().top;if(u>=v){A=(u-v)+Math.abs(F)}else{A=Math.abs(u)+(F+v)}y.scrollTop(A);w.find("a").focus()};d=function(u){var v=f(":focus"),x=(v.parent().index())-1,w;w=v.parent().parent().children().size();u===38?x--:x++;if(x<-1||((x+1)>=w)){return(null)}else{a(x)}};j=function(y){var C,B,v,z,u,w=false,A,x;C=(typeof y.which=="number")?y.which:y.keyCode;B=String.fromCharCode(C);v=B.toUpperCase();z=f('[data-control="country-code-select"]');u=z.find("option");u.each(function(D,F){var G,E;if(w!==true){G=u.eq(D).attr("data-country-name");E=G.charAt(0);if(E===B||E===v){A=u.eq(D);x=D;w=true}}});if(w===true){if(f("div.uitk-tooltip.active-tooltip ul li.default").length==0){x--}a(x)}};s=function(u){return"#"+u.replace(/(:|\.|\[|\])/g,"\\$1")};if(!r){f("select[data-control=country-code-select]")[b]();l.on(c,".cc-tooltip-item",function(u){u.preventDefault();p(f(this))});l.on(c,"#ccodeSelect-trigger",function(u){f(".active-tooltip.theme-country-code ul li:eq(0) a").focus()});l.on("change",'[data-control="country-code-select"]',function(v){v.preventDefault();var u=f(v.target).find('[data-control="country-code-select"]');u[b]("updateTooltipTrigger")});l.on("keydown",function(u){if(f(".active-tooltip.theme-country-code").length==1){var u;u=u||window.event;if(u.keyCode=="38"||u.keyCode=="40"){u.preventDefault();d(u.keyCode)}else{j(u)}}})}n.modules.countryCode=o;return o});define("uitk_footer",["uitk_domReady","jquery","uitk"],function(b,d,a){var c=d("#site-footer-wrap").find(".tablet-collapse");a.mediaquery.register("(min-width: 320px) and (max-width: 726px)","not-desktop");if(c){var f=function(g,h){if(h.key==="not-desktop"){d(c).uitk_toggle("close")}};a.subscribe("mediaquery.matched",f);a.mediaquery.publishAgain()}return a});define("uitk_tables",["uitk_domReady","jquery","uitk"],function(b,c,a){var f=function(v){var s=v.length,l;for(l=0;l<s;l++){var u=v.eq(l),g=u.next(),k=u.parent(),j=u.find("tr"),h=j.eq(0).find("th"),w,n=j.length,r=[];if(u.data("tableInit")){return}u.detach();u.data("tableInit",true);h.each(function(){r.push(c(this).text())});for(w=0;w<n;w++){var m=j.eq(w),x=m.find("td"),q,p=x.length;for(q=0;q<p;q++){var o=x.eq(q);o.attr("data-title",r[q])}}if(g.length>0){u.insertBefore(g)}else{u.appendTo(k)}}if(c("html").hasClass("ie9")&&c("table.data-table").hasClass("no-collapse")){c("table.data-table").wrap('<div class="data-table-wrapper" />')}};var d=function(g){var g=g||c('[data-control="table"]');f(g)};a.initResponsiveTables=d;f(c('[data-control="table"]'));return d});define("uitk_onOffSwitch",["uitk_domReady","jquery","uitk"],function(c,h,d){var j,a,b,l,m=Modernizr.checkedselector;b=h(".on-off-switch");l=function(o){var n=(o&&o.parents(".on-off-switch").find("input"))||b.find("input"),p=n&&n.find(":checked");if(!m&&p){n.removeClass("checked");if(!!!p.length){n.each(function(q,r){!!r.checked&&h(r).addClass("checked")})}else{p.addClass("checked")}}n.each(function(r,q){q=h(q);if(q.is(":checked")||q.checked){q.attr("checked","checked")}else{q.removeAttr("checked")}})};var i=function(n){return n.closest(b).find("input:checked").val()},k=function(n){return n.closest(b).find("input:checked").attr("name")},g=function(n){return n.closest("fieldset")};var f=function(n,q,o){var p={};p.name=q;p.value=o;d.publish("onOffSwitch.changed",n,p)};l();h("body").on(d.clickEvent,".on-off-switch input",function(n){a=h(n.currentTarget);j=a.closest("input");f(g(j),k(j),i(j));l(j)});d.modules.onOffSwitch={publishOnOffSwitchChange:f};return d.modules.onOffSwitch});define("uitk_onPageInterstitial",["uitk_domReady","jquery","uitk","uitk_modal"],function(d,i,f){var c,b,g=false,a=false,h=i("body"),j={modalId:"onpage-interstitial-modal",background:false,dismiss:false,jsTheme:"onpage-interstitial",showLoader:false};f.subscribe("results.changed",function(x,w){var k=w.appendMsg,q=w.replaceMsg,v=i(".modal-body"),s=i(".loader"),n="<p>"+I18n.t("modal_loader_text_default")+"</p>",z="<span class='loader loader-dark loader-secondary loader-animated'></span>",m;if(w.contentId){if(w.contentId&&w.contentId.charAt(0)!=="#"&&w.contentId.charAt(0)!=="."){m=i("#"+w.contentId);if(w.disable){m.append('<div class="opi-overlay" ></div>');if(m.css("position")==="static"){m.css("position","relative")}m.attr("aria-busy","true")}}else{m=i(w.contentId);if(w.disable){var B=w.contentId.split(",");for(var u=0;u<B.length;u++){i(B[u]).append('<div class="opi-overlay" ></div>');if(i(B[u]).css("position")==="static"){m.css("position","relative")}i(B[u]).attr("aria-busy","true")}}}m.addClass("onpage-interstitial-results fade")}j.content=w.message;j.showLoader=w.showLoader;if(j.content&&j.content.indexOf(">")===-1){j.content="<p>"+j.content+"</p>"}if(((!j.content||j.content==="")&&!k&&!q)){j.content=n;j.showLoader=true}if(g){c.options.showLoader=j.showLoader}if(g&&!k&&!q){c.updateContent(c.options.showLoader?j.content+z:j.content)}if(!g&&!k&&!q){j.content=j.showLoader?j.content+z:j.content;c=f.modal.create(j);if(!Modernizr.positionfixed){var o=i("#"+j.modalId);function A(){var C=(i(document).scrollTop()+90)/17+"em";o.css({position:"absolute",top:C})}A();f.subscribe("debounced.scroll",function(){A()})}g=true}else{if(k&&g){var p=v.html(),l=s.wrap("<p/>").parent().html(),r=p.indexOf(l),y;if(r===-1){y=p+k}else{if(p.toLowerCase().indexOf(n.toLowerCase())===-1){y=p.substring(0,r)+k+p.substr(r)}else{y=k+p.substr(r)}}c.updateContent(y)}if(q&&g){c.updateContent(c.options.showLoader?q+z:q)}}if(w.scrollToTop){a=true}});f.subscribe("results.complete",function(k,l){if((l!==undefined)&&("contentId" in l)&&l.contentId!==""){if(l.contentId.charAt(0)!=="#"&&l.contentId.charAt(0)!=="."){b=i("#"+l.contentId)}else{b=i(l.contentId)}}i(".opi-overlay").remove();i("[aria-busy = 'true']").attr("aria-busy","false");if(g){c.focusMeOnClose=b;c.close();if((l!==undefined)&&("contentId" in l)&&l.contentId!==""){b.removeClass("fade onpage-interstitial-results")}g=false;if(a){setTimeout(function(){window.scroll(0,0)},250);a=false}if(!Modernizr.positionfixed){f.unsubscribe("debounced.scroll")}}});return f});define("uitk_flexcard",["uitk_domReady","jquery","uitk","uitk_plugins"],function(b,i,c,g){c.mediaquery.register("(max-width:"+(725/16)+"em)","flexMaxSmallTablet");c.mediaquery.register("(min-width:"+(726/16)+"em)","flexMinTablet");c.mediaquery.register("(max-width:"+(959/16)+"em)","flexMaxTablet");c.mediaquery.register("(min-width:"+(960/16)+"em)","flexMinDesktop");c.mediaquery.register("(max-width:"+(491/16)+"em)","flexMaxMobile");c.mediaquery.register("(min-width:"+(492/16)+"em)","flexMinSmallTablet");var j="uitk_flexCard",f={},h={mobile:{flip:"flexMaxMobile",reset:"flexMinSmallTablet"},smallTablet:{flip:"flexMaxSmallTablet",reset:"flexMinTablet"},tablet:{flip:"flexMaxTablet",reset:"flexMinDesktop"}},k="flex-tile",d="flex-listing";function a(l,m){g.newModule.call(this,l,m,f)}a.prototype={constructor:a,init:function(){var l=this;if(l.element.children().hasClass("flex-placeholder")){c.subscribe("debounced.resize",function(){l.placeholder()});l.placeholder()}if(l.options.flexFlip){l.options.flexType=l.element.hasClass(k)?k:d;l.options.flipType=l.options.flexType===k?d:k;c.subscribe("mediaquery.matched",function(m,n){l.flexFlip(n)})}},placeholder:function(){var l=i(this.element),m=l.prev(".col").children(".flex-card").height();l.children(".flex-placeholder").css("height",m)},flexFlip:function(o){var l=this.options.flexFlip;var n=this.options.flexType;var m=this.element.hasClass(k)?k:d;if(h[l].flip===o.key&&n===m){this.flipClass(this.element)}else{if(h[l].reset===o.key&&n!==m){this.flipReset(this.element)}}},flipReset:function(l){l.removeClass(this.options.flipType).addClass(this.options.flexType)},flipClass:function(l){l.removeClass(this.options.flexType).addClass(this.options.flipType)}};g.initPlugin(j,a);i("[data-flex-flip]")[j]();i(".flex-placeholder").parent()[j]();c.mediaquery.publishAgain();c.modules.FlexCard=a;return a});var uDash="uitk-",uLoDash="uitk_",hb=".hbs",tmp="template"+hb;define(uLoDash+"init",["uitk",uLoDash+"date",uLoDash+"i18n","Hammer","hbsHelpers","button-tag"+hb,"figure-tag"+hb,"icon-tag"+hb,"map-infowindow"+hb,uDash+"calendar-"+tmp,uDash+"content-slider-controls-"+tmp,uDash+"country-code-content-"+tmp,uDash+"country-code-trigger-"+tmp,uDash+"map-"+tmp,uDash+"modal-bg-"+tmp,uDash+"modal-inner-"+tmp,uDash+"modal-"+tmp,uDash+"modal-title-"+tmp,uDash+"pagination-content-"+tmp,uDash+"pagination-page-"+tmp,uDash+"pagination-prototype-page-"+tmp,uDash+"pagination-prototype-content-"+tmp,uDash+"responsive-sortbar-contents-"+tmp,uDash+"responsive-sortbar-more-"+tmp,uDash+"responsive-sortbar-options-"+tmp,uDash+"responsive-sortbar-"+tmp,uDash+"ta-by-category"+hb,uDash+"ta-default"+hb,uDash+"youtube-video"+hb,uLoDash+"polyfill_placeholder",uLoDash+"focus",uLoDash+"browserStorage",uLoDash+"abacus",uLoDash+"tooltip",uLoDash+"typeahead",uLoDash+"tabs",uLoDash+"toggle",uLoDash+"offCanvasToggle",uLoDash+"media",uLoDash+"mediaViewer",uLoDash+"mediaSlider",uLoDash+"contentSlider",uLoDash+"calendar",uLoDash+"modal",uLoDash+"dropdown",uLoDash+"share",uLoDash+"map",uLoDash+"pagination",uLoDash+"sortbar",uLoDash+"respSortbar",uLoDash+"countryCode",uLoDash+"footer",uLoDash+"tables",uLoDash+"onOffSwitch",uLoDash+"onPageInterstitial",uLoDash+"flexcard"],function(a){if(typeof $LAB!=="undefined"){if(typeof uitkformatter!=="undefined"&&uitkformatter.dependency){require(uitkformatter.dependency,function(){$LAB.runQueue()})}else{$LAB.runQueue()}}a.readyState=true;return a.readyState});require([uLoDash+"init"]);