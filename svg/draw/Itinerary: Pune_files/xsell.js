
var xsellExpediaTest = null; 
var xsellExpediaOnDocumentReady=(function(){var i,g,l={};l["[object Boolean]"]="boolean";l["[object Number]"]="number";l["[object String]"]="string";l["[object Function]"]="function";l["[object Array]"]="array";l["[object Date]"]="date";l["[object RegExp]"]="regexp";l["[object Object]"]="object";var k={isReady:false,readyWait:1,holdReady:function(a){if(a){k.readyWait++}else{k.ready(true)}},ready:function(a){if((a===true&&!--k.readyWait)||(a!==true&&!k.isReady)){if(!document.body){return setTimeout(k.ready,1)}k.isReady=true;if(a!==true&&--k.readyWait>0){return}i.resolveWith(document,[k])}},bindReady:function(){if(i){return}i=k._Deferred();if(document.readyState==="complete"){return setTimeout(k.ready,1)}if(document.addEventListener){document.addEventListener("DOMContentLoaded",g,false);window.addEventListener("load",k.ready,false)}else{if(document.attachEvent){document.attachEvent("onreadystatechange",g);window.attachEvent("onload",k.ready);var b=false;try{b=window.frameElement==null}catch(a){}if(document.documentElement.doScroll&&b){h()}}}},_Deferred:function(){var b=[],a,d,c,e={done:function(){if(!c){var f=arguments,v,s,t,u,r;if(a){r=a;a=0}for(v=0,s=f.length;v<s;v++){t=f[v];u=k.type(t);if(u==="array"){e.done.apply(e,t)}else{if(u==="function"){b.push(t)}}}if(r){e.resolveWith(r[0],r[1])}}return this},resolveWith:function(f,o){if(!c&&!a&&!d){o=o||[];d=1;try{while(b[0]){b.shift().apply(f,o)}}catch(p){}finally{a=[f,o];d=0}}return this},resolve:function(){e.resolveWith(this,arguments);return this},isResolved:function(){return !!(d||a)},cancel:function(){c=1;b=[];return this}};return e},type:function(a){return a==null?String(a):l[Object.prototype.toString.call(a)]||"object"}};function h(){if(k.isReady){return}try{document.documentElement.doScroll("left")}catch(a){setTimeout(h,1);return}k.ready()}if(document.addEventListener){g=function(){document.removeEventListener("DOMContentLoaded",g,false);k.ready()}}else{if(document.attachEvent){g=function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",g);k.ready()}}}}function j(a){k.bindReady();var b=k.type(a);i.done(a)}return j})();var xsellExpediaClientLog={versionSearchString:"",dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.userAgent,subString:"iPad",identity:"iPad"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.userAgent,subString:"Kindle",identity:"Kindle"},{string:navigator.userAgent,subString:"BB10",identity:"Blackberry"},{string:navigator.userAgent,subString:"Touch",addlString:"MSIE 10",identity:"Surface"},{string:navigator.userAgent,subString:"Android",identity:"Android"},{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.platform,subString:"Linux",identity:"Linux"}],searchString:function(d){for(var a=0;a<d.length;a++){var b=d[a].string;var c=d[a].prop;xsellExpediaClientLog.versionSearchString=d[a].versionSearch||d[a].identity;if(b){if(b.indexOf(d[a].subString)!=-1&&(!d[a].addlString||b.indexOf(d[a].addlString)!=-1)){return d[a].identity||"unknown"}}else{if(c){return d[a].identity||"unknown"}}}},searchVersion:function(b){var a=b.indexOf(xsellExpediaClientLog.versionSearchString);if(a==-1){return}return parseFloat(b.substring(a+xsellExpediaClientLog.versionSearchString.length+1))},getBrowser:function(){return xsellExpediaClientLog.searchString(xsellExpediaClientLog.dataBrowser)},getVersion:function(){return xsellExpediaClientLog.searchVersion(navigator.userAgent)||xsellExpediaClientLog.searchVersion(navigator.appVersion)||"an unknown version"},isProdDomain:function(){return(window.location.hostname=="xsell.expedia.com")},getOs:function(){return xsellExpediaClientLog.searchString(xsellExpediaClientLog.dataOS)},getISODateString:function(a){if(a.toISOString){return a.toISOString()}else{return a.getFullYear().toString()+"-"+a.getMonth()+"-"+a.getDate()+"T"+a.getHours()+":"+a.getMinutes()+":"+a.getSeconds()}},getClientWidth:function(){var a=0;if(document.documentElement){a=document.documentElement.clientWidth}return a},constructUrl:function(f,b){var d="/cl/2x2.gif?";var g={};g.domain=window.location.hostname;g.browser=xsellExpediaClientLog.getBrowser();g.browserVersion=xsellExpediaClientLog.getVersion();g.live=xsellExpediaClientLog.isProdDomain();g.platform=xsellExpediaClientLog.getOs();g.onErrMsg=f;g.onErrUrl=window.location;g.onErrLine=0;g.logTime=xsellExpediaClientLog.getISODateString(new Date());g.clientWidth=xsellExpediaClientLog.getClientWidth();g.responsive=true;g.uitk_v2=true;g.action="logErrors";g.label="windowOnError";g.windowOnError_elapsedTime=0;g.pageName="krazyglue.xselljs";g.logKey="krazyglue.xselljs";g.guid=b;var a="";for(var c in g){if(g.hasOwnProperty(c)){a+=c+"="+encodeURI(g[c])+"&"}}return d+a.substring(0,a.length-1)}};var xsellExpediaCss=(function(){var i=0.2,h=152,o=50,d=110,b=500,k=20,j=980,c=31,m=500,e=m/1000,a=36,l=396,q=l-a,f=2147483646,g="animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:transparent;background-image:none;background-origin:padding-box;background-position:00;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:autoauto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;bottom:auto;box-shadow:none;box-sizing:content-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:mediumnonecurrentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;content:normal;counter-increment:none;counter-reset:none;cursor:auto;direction:ltr;display:inline;empty-cells:show;float:none;font:normal;font-family:inherit;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;left:auto;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50%50%;position:static;/*Mayneedtoalterquotesfordifferentlocales(e.gfr)*/quotes:'\201C''\201D''\2018''\2019';right:auto;tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;top:auto;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;width:auto;word-spacing:normal;z-index:auto";function p(v,w,u,x,s,r,t){return("#kg-dismissal-text, #kg-close-link, a#kg-close-link{ /* we are resetting the properties of this elements as they are the ones exposed to the parent page context */            "+g+"        }        #"+v+'.active{            height:0;            /* IE 8 */            -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=100)";            /* IE 5-7 */            filter: alpha(opacity=100);            /* Netscape */            -moz-opacity: 1;            /* Safari 1.x */            -khtml-opacity: 1;            opacity: 1;            display: block;            -webkit-transition: opacity '+w/1000+"s ease-in-out;            transition: opacity "+w/1000+"s ease-in-out;            pointer-events: all;            -moz-user-select: all;            -webkit-user-select: all;            -ms-user-select: all;            user-select: all;            z-index: "+f+";        }        #"+v+'{            height:0;            /* IE 8 */            -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";            /* IE 5-7 */            filter: alpha(opacity=0);            /* Netscape */            -moz-opacity: 0;            /* Safari 1.x */            -khtml-opacity: 0;            width: 100%;            height: 100%;            opacity: 0;            top: 0;            left: 0;            display: none;            -webkit-transition: opacity '+u/1000+"s ease-in-out;            transition: opacity "+u/1000+"s ease-in-out;            pointer-events: none;            -moz-user-select: none;            -webkit-user-select: none;            -ms-user-select: none;            user-select: none;            position: absolute;            z-index: 0;        }        #"+v+".mobile-common{            -webkit-transition-property: top, left, width, height, margin-left, margin-top;            transition-property: top, left, width, height, margin-left, margin-top;            -webkit-transition-duration: "+e+"s;            transition-duration: "+e+"s;            -webkit-transition-timing-function: ease-in-out;            transition-timing-function: ease-in-out;        }        #"+v+".mobile-common.active{            -webkit-transition-property: top, left, width, height, margin-left, margin-top;            transition-property: top, left, width, height, margin-left, margin-top;            -webkit-transition-duration: "+e+"s;            transition-duration: "+e+"s;            -webkit-transition-timing-function: ease-in-out;            transition-timing-function: ease-in-out;        }        .mobile-common #kg-overlay {            width:auto;            height:auto;        }        #kg-overlay{            position: fixed;            top: 0;            left: 0;            width: 100%;            height: 100%;            background-color: black;            opacity: "+i+';            /* IE 8 */            -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity='+i*100+')";            /* IE 5-7 */            filter: alpha(opacity='+i*100+");            /* Netscape */            -moz-opacity: "+i+";            /* Safari 1.x */            -khtml-opacity: "+i+";        }        .mobile-common #kg-iframe-wrapper {            width: "+l+"px;            height: "+h+"px;        }        .mobile-common #kg-iframe-wrapper.br {            top: 120%;            left: 98%;            margin-top: -"+h+"px;            margin-left: -"+l+"px;        }        .mobile-common #kg-iframe-wrapper.bl {            top: 120%;            left:2%;            margin-top: -"+h+"px;            margin-left: 0;        }        .mobile-common.active #kg-iframe-wrapper.br, .mobile.active #kg-iframe-wrapper.bl {            top: 100%;        }        .mobile-common #kg-iframe-wrapper.tr {            top:-20%;            left:98%;            margin-left: -"+l+"px;            margin-top: 0;        }        .mobile-common #kg-iframe-wrapper.tl {            top:-20%;            left:2%;            margin-left: 0;            margin-top: 0;        }        .mobile-common.active #kg-iframe-wrapper.tr, .mobile-common.active #kg-iframe-wrapper.tl {            top: 0%;        }        .email-tiny #kg-iframe-wrapper {            width: "+b+"px;            height: "+d+"px;        }        .email-tiny #kg-iframe-wrapper.br {            top: 120%;            left: 98%;            margin-top: -"+d+"px;            margin-left: -"+b+"px;        }        .email-tiny #kg-iframe-wrapper.bl {            top: 120%;            left:2%;            margin-top: -"+d+"px;            margin-left: 0;        }        .email-tiny.active #kg-iframe-wrapper.br, .email-tiny.active #kg-iframe-wrapper.bl {            top: 100%;        }        .email-tiny #kg-iframe-wrapper.tr {            top:-20%;            left:98%;            margin-left: -"+b+"px;            margin-top: 0;        }        .email-tiny #kg-iframe-wrapper.tl {            top:-20%;            left:2%;            margin-left: 0;            margin-top: 0;        }        .email-tiny.active #kg-iframe-wrapper.tr, .email-tiny.active #kg-iframe-wrapper.tl {            top: 0%;        }        #kg-iframe-wrapper{            position: fixed;            border: 0;            background-color: white;            box-shadow: 1px 1px 6px #444;            top: 50%;            left: 50%;            margin-top: -"+(x+c)/2+"px;            margin-left: -"+(s+k)/2+"px;            -webkit-transition-property: top, left, width, height, margin-left, margin-top;            transition-property: top, left, width, height, margin-left, margin-top;            -webkit-transition-duration: "+e+"s;            transition-duration: "+e+"s;            -webkit-transition-timing-function: ease-in-out;            transition-timing-function: ease-in-out;        }        .mobile-common iframe#kg-iframe{            width: "+q+"px;            height: "+h+"px;            position: absolute;            left: 0;            margin: 0;        }        .email-tiny iframe#kg-iframe{            width: 100%;            height: "+d+"px;            position: absolute;            left: 0;            margin: 0;        }        .tiny iframe#kg-iframe, .tiny div#kg-iframe-wrapper{            height: "+o+"px;        }        .tiny #kg-iframe-wrapper.br, .tiny #kg-iframe-wrapper.bl {            margin-top: -"+o+"px;        }        .kg-email-tiny iframe#kg-iframe, .kg-email-tiny div#kg-iframe-wrapper{            height: "+d+"px;        }        .kg-email-tiny #kg-iframe-wrapper.br, .kg-email-tiny #kg-iframe-wrapper.bl {            margin-top: -"+d+"px;        }        iframe#kg-iframe{            border:0 !important;            overflow: hidden;            width: "+s+"px;            margin: 0 "+k/2+"px 0 "+k/2+"px;            display: block;        }        #kg-close-button{            height: 30px;            line-height: 30px;        }        .mobile-common #kg-close-button{            display: none;        }        .email-tiny #kg-close-button{            display: block;            height: 24px;            line-height:auto;        }        #kg-close-button a{            position: absolute;            right:0;            text-decoration: none;            border: 0 !important;            padding: 10px 15px 0 0;        }        .email-tiny #kg-close-button a{            padding: 6px 8px 0 0;        }        #kg-dismissal-text{            font-size: 15.5px;            margin:none;            padding: 0 10px 0 0;            font-family: 'Helvetica Neue', Arial, 'Lucida Grande', sans-serif;            text-decoration: none;            color: #0065b8;            border: 0;            cursor: pointer;            top: -3px;            position: relative;            float: left;        }        #kg-dismissal.show{            display: block;        }        #kg-close-button a img{            border: 0 !important;            float: right;        }        #kg-max-min-buttons{            display: none;            width:"+a+"px;            height: 100%;            position: absolute;            right: 0;            background-color: #DFDFDF;        }        .mobile-common #kg-max-min-buttons{            display:block;        }        .email-tiny #kg-max-min-buttons{            display:none;        }        a#kg-max-link, a#kg-min-link{            position: absolute;            display: none;            width: 23px;            height: 21px;            margin-left: 7px;        }        a#kg-max-link, a#kg-min-link{            background: transparent url('"+r+"/xsell-static/images/sprites/krazyglue.png') no-repeat 0 0;            background: rgba(0,0,0,0) url('"+r+"/xsell-static/images/sprites/krazyglue.svg') no-repeat 0 0;            background-size: 34px 90px;        }        a#kg-max-link{            background-position: 0 0;            margin-top: 13px;        }        a#kg-min-link{            background-position: 0px -15px;            margin-top: 4px;        }        .kg-mobile a#kg-min-link, .kg-tiny a#kg-max-link{            display: block;        }        .kg-mobile a#kg-max-link, .kg-tiny a#kg-min-link{            display: none;        }        .email-tiny a#kg-min-link, .email-tiny a#kg-max-link{            display:none;        }        .mobile-common .tl a#kg-max-link, .mobile-common .tr a#kg-max-link{ /* turn the toggles around when mobileglue is at the top */            background-position: 0px -15px;            bottom: 16px;        }        .mobile-common .tl a#kg-min-link, .mobile-common .tr a#kg-min-link{            background-position: 0 0;            bottom: 16px;        }        .kg-params{            position: fixed;            bottom: 5px;            right: 5px;            background-color: white;            padding: 4px;            z-index: -1;        }        #"+v+" #kg-iframe-wrapper,#"+v+" #kg-overlay,#"+v+" .kg-params{opacity: 0;}        #"+v+".active #kg-iframe-wrapper, #"+v+".active .kg-params{opacity: 100;}        #"+v+".active #kg-overlay{            opacity: "+i+';            /* IE 8 */            -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity='+i*100+')";            /* IE 5-7 */            filter: alpha(opacity='+i*100+");            /* Netscape */            -moz-opacity: "+i+";            /* Safari 1.x */            -khtml-opacity: "+i+";        }        /* hack to make good browsers display animation when showing the overlay */        @media screen and (-webkit-min-device-pixel-ratio:0) {              #"+v+" { display: block; } /* Webkit browsers */        }        @-moz-document url-prefix() {            #"+v+" { display: block; } /* Firefox browsers */        }        @media (max-width: "+j+"px) {/* change when we cannot fit the overlay into the screen anymore */            #kg-iframe-wrapper{                width: 98%;                left: 0;                margin-left: 1%;            }            iframe#kg-iframe{                width: 95%; /* This is relative to the WINDOW (not it's parent), as the parent position is FIXED */                padding: 0;                margin: 0;            }        }        @media (max-width: "+t+'px) {            #kg-global-wrapper.kg-tiny{                display: none !important; /* important to override the embedded "display: block;" in the element */            }        }        @media print {            #'+v+" {                display: none !important;            }        }")}function n(v,w,u,x,s,r,t){return p(v,w,u,x,s,r,t)}return{init:n}}());xsellExpedia=(function(window,clientLog,onDocumentReady,css,kgTest){var f={},pub={},overlayStatus=0,autoShow=null,iframe=null,guid=null,clientProtocol=null,overlayWrapper=null,overlay=null,iframeWrapper=null,closeLink=null,maxLink=null,minLink=null,overlayShown=false,iframeSourceDomain=null,iframeReady=false,messageQueue=[],iframeHeight=null,iframeWidth=null,closeMsg=null,FADE_IN_DURATION=750,FADE_OUT_DURATION=300,PM_SHOWN="expedia-xsell-shown",PM_HEIGHT_CHANGE="expedia-xsell-height",PM_SHOW_KRAZY="expedia-xsell-show-krazy",PM_SHOW_MOBILE="expedia-xsell-show-mobile",PM_SHOW_TINY="expedia-xsell-show-tiny",PM_READY="expedia-xsell-js-ready",PM_SUCCESS="expedia-xsell-success",PM_FAILURE="expedia-xsell-failure",PM_HIDE_OVERLAY="expedia-xsell-hide-overlay",PM_CLOSE_MSG_CHANGE="expedia-xsell-overlay-closeMsg-change",OVERLAY_ID="kg-global-wrapper",MOBILE_POSITION=null,MOBILE_BREAKPOINT=726,OVERLAY_CSS="",disableTinyglue=false,PM_OVERLAY_NO_SHOW="expedia-no-show",overlayDiv='<div id="'+OVERLAY_ID+'">            <div id="kg-overlay"></div>            <div id="kg-iframe-wrapper">                <div id="kg-close-button">                    <a id="kg-close-link" href="javascript:void(0)">                        <p id="kg-dismissal-text"></p>                        <img height=16 width=16 src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAWklEQVQ4y6WTOQ7AMAgEefJ8jsYu+VVSxI2rBEVeLSXsIM4AbmCEaMAErgAKeIAU4NxMvR0pwHkWUDR/guMqO6HS4geQ4SaJDtsJrBasIVprtA7JOmX7mdx3XiouuzV9LhYhAAAAAElFTkSuQmCC" />                    </a>                </div>                <div id="kg-max-min-buttons">                    <a id="kg-max-link"  href="javascript:void(0);"></a>                    <a id="kg-min-link"  href="javascript:void(0);"></a>                </div>                <!-- here goes the iframe -->            </div>            <!-- here goes the parameters -->        </div>';f.initCSS=function(){OVERLAY_CSS=css.init(OVERLAY_ID,FADE_IN_DURATION,FADE_OUT_DURATION,iframeHeight,iframeWidth,iframeSourceDomain,MOBILE_BREAKPOINT)};f.getOverlayWrapper=function(){return document.getElementById(OVERLAY_ID)};f.getOverlay=function(){return document.getElementById("kg-overlay")};f.getDismissalElem=function(){return document.getElementById("kg-dismissal-text")};f.getIframeWrapper=function(){return document.getElementById("kg-iframe-wrapper")};f.getIframe=function(){return document.getElementById("kg-iframe")};f.setIframe=function(i){iframe=i};f.getCloseLink=function(){return document.getElementById("kg-close-link")};f.getMinLink=function(){return document.getElementById("kg-min-link")};f.getMaxLink=function(){return document.getElementById("kg-max-link")};f.getViewport=function(){var viewPortWidth;var viewPortHeight;if(typeof window.innerWidth!="undefined"){viewPortWidth=window.innerWidth;viewPortHeight=window.innerHeight}else{if(typeof document.documentElement!="undefined"&&typeof document.documentElement.clientWidth!="undefined"&&document.documentElement.clientWidth!=0){viewPortWidth=document.documentElement.clientWidth;viewPortHeight=document.documentElement.clientHeight}else{viewPortWidth=document.getElementsByTagName("body")[0].clientWidth;viewPortHeight=document.getElementsByTagName("body")[0].clientHeight}}return[viewPortWidth,viewPortHeight]};f.showOverlay=function(){var overlay=f.getOverlayWrapper();overlay.className+=" active";setTimeout(function(){overlay.style.display="block"},FADE_IN_DURATION);overlayShown=true;f.updateIframePosition();f.sendMessageToIframeIfReady(PM_SHOWN);f.turnOffPlaygroundLoadingGif()};f.turnOffPlaygroundLoadingGif=function(){try{if(!!$&&typeof $!=="undefined"){$(document).trigger("xsellExpediaOverlayShown")}}catch(e){}};f.hideOverlay=function(){var overlay=f.getOverlayWrapper();overlay.className="";var hideNow=function(){overlay.style.display="none"};if(overlayStatus===0){setTimeout(function(){hideNow()},FADE_OUT_DURATION)}else{hideNow()}};f.sendMessageToIframeIfReady=function(message){try{if(iframeReady&&typeof iframe!="undefined"&&!!iframe&&!!iframe.contentWindow){iframe.contentWindow.postMessage(message,iframeSourceDomain)}else{messageQueue.push(message)}}catch(e){f.sendError(e)}};f.showKrazy=function(){var overlay=f.getOverlayWrapper();var kgOverlay=f.getOverlay();var closeButton=f.getCloseLink();kgOverlay.onclick=f.showTiny;closeButton.onclick=f.showTiny;overlay.className=overlay.className.replace("mobile-common","");overlay.className=overlay.className.replace("tiny","");overlay.className=overlay.className.replace("kg-mobile","");overlay.className=overlay.className.replace("kg-tiny","");overlay.className=overlay.className.replace("email-tiny","");overlay.className=overlay.className.replace("kg-email-tiny","");f.sendMessageToIframeIfReady(PM_SHOW_KRAZY);overlayStatus=0};f.showMobile=function(){var overlay=f.getOverlayWrapper();var iframeWrapper=f.getIframeWrapper();var minButton=f.getMinLink();f.resetKrazyglueStyles();overlay.className=overlay.className.replace("tiny","");overlay.className=overlay.className.replace("mobile-common","");overlay.className=overlay.className.replace("kg-mobile","");overlay.className=overlay.className.replace("kg-tiny","");overlay.className=overlay.className.replace("email-tiny","");overlay.className=overlay.className.replace("kg-email-tiny","");overlay.className+=" mobile-common kg-mobile";iframeWrapper.className=MOBILE_POSITION;f.sendMessageToIframeIfReady(PM_SHOW_MOBILE);minButton.onclick=f.showTiny;overlayStatus=1};f.showTiny=function(){if(disableTinyglue){f.hideOverlay()}var overlay=f.getOverlayWrapper();var iframeWrapper=f.getIframeWrapper();var maxiButton=f.getMaxLink();var closeButton=document.getElementById("kg-close-link");f.resetKrazyglueStyles();overlay.className=overlay.className.replace("mobile-common","");overlay.className=overlay.className.replace("tiny","");overlay.className=overlay.className.replace("kg-mobile","");overlay.className=overlay.className.replace("kg-tiny","");overlay.className=overlay.className.replace("email-tiny","");overlay.className=overlay.className.replace("kg-email-tiny","");overlay.className+=" mobile-common tiny kg-tiny";iframeWrapper.className=MOBILE_POSITION;f.sendMessageToIframeIfReady(PM_SHOW_TINY);if(overlayStatus===0){maxiButton.onclick=f.showKrazy}else{maxiButton.onclick=f.showMobile}overlayStatus=2};f.appendCSS=function(){var head=document.getElementsByTagName("head")[0],style=document.createElement("style");style.type="text/css";f.initCSS();if(style.styleSheet){style.styleSheet.cssText=OVERLAY_CSS}else{style.appendChild(document.createTextNode(OVERLAY_CSS))}head.appendChild(style)};f.replaceArgs=function replaceArgs(str,args){for(var key in args){if(args.hasOwnProperty(key)){str=str.replace("{"+key+"}",args[key])}}return str};f.appendOverlay=function(iframe,showParams,iframeSrc,mobileEnabled,initialLayout){var body=document.getElementsByTagName("body")[0];body.insertAdjacentHTML("beforeend",overlayDiv);var iframeWrapper=f.getIframeWrapper();iframeWrapper.appendChild(iframe);f.calculateLayout(initialLayout,mobileEnabled);overlayStatus=initialLayout;if(showParams){var overlay=f.getOverlayWrapper();iframeSrc=document.location.protocol+iframeSrc;overlay.insertAdjacentHTML("beforeend",'<div class="kg-params">'+iframeSrc+"</div>")}};f.calculateLayout=function(initialLayout,mobileEnabled){var closeButton=document.getElementById("kg-close-link");var kgOverlay=f.getOverlay();if(!mobileEnabled){kgOverlay.onclick=f.hideOverlay;closeButton.onclick=f.hideOverlay;return false}else{if(initialLayout===0){f.showKrazy()}else{if(initialLayout===1){f.showMobile()}else{if(initialLayout===2){f.showTiny()}}}}};f.startLoadingIframe=function(iframeSrc){var iframe=document.createElement("iframe");if(window.addEventListener){addEventListener("message",f.listenerHandler,false)}else{attachEvent("onmessage",f.listenerHandler)}iframe.setAttribute("id","kg-iframe");iframe.setAttribute("src",iframeSrc);iframe.setAttribute("border","0");iframe.setAttribute("frameBorder","0");iframe.setAttribute("scrolling","no");iframe.setAttribute("horizontalscrolling","no");iframe.setAttribute("verticalscrolling","no");iframe.setAttribute("height",iframeHeight);return iframe};f.appendErrorPixel=function(clientLogUrl){var img=document.createElement("img");img.setAttribute("src",clientLogUrl);img.setAttribute("width",1);img.setAttribute("height",1);var body=document.getElementsByTagName("body")[0];body.appendChild(img)};f.init=function(iframe,autoShowParam,showParams,iframeSrc,mobileEnabled,mobilePosition,initialLayout){MOBILE_POSITION=mobilePosition;f.appendCSS();f.appendOverlay(iframe,showParams,iframeSrc,mobileEnabled,initialLayout);f.setAutoShow(autoShowParam);window.onresize=f.updateIframePosition};f.wasShown=function(){return overlayShown};f.removeOverlay=function(){var overlay=f.getOverlayWrapper();var body=document.getElementsByTagName("body")[0];body.removeChild(overlay)};f.appendNewDiv=function(){var body=document.getElementsByTagName("body")[0];body.insertAdjacentHTML("beforeend",'<div class="overlayNotShown"></div>')};f.setAutoShow=function(autoShowParam){autoShow=autoShowParam};f.processMessageQueue=function(){while(messageQueue.length>0){f.sendMessageToIframeIfReady(messageQueue.pop())}};f.setDismissalText=function setDismissalText(text){var dismissalElem=f.getDismissalElem();dismissalElem.innerHTML=text};f.parsePostMessageEvent=function(event){var jsonObject,result={};try{jsonObject=JSON.parse(event.data)}catch(e){jsonObject=null}if(!!jsonObject&&!!jsonObject.message){result.message=jsonObject.message;result.params=jsonObject.params||{}}else{result.message=event.data;result.params={}}return result};f.listenerHandler=function(event){try{var data=f.parsePostMessageEvent(event);var message=data.message,params=data.params,origin=event.origin;if(origin===iframeSourceDomain){if(message===PM_FAILURE){f.removeOverlay();f.appendNewDiv()}else{if(message===PM_READY){if(!!params.dismissalMsg){f.setDismissalText(params.dismissalMsg)}iframeReady=true;if(autoShow){f.showOverlay();f.processMessageQueue()}else{f.removeOverlay();f.appendNewDiv()}}else{if(message===PM_SHOW_KRAZY){f.showKrazy()}else{if(message===PM_HEIGHT_CHANGE){var newHeight=params.height;f.updateIframeHeight(newHeight)}else{if(message===PM_HIDE_OVERLAY){f.hideOverlay()}else{if(message===PM_OVERLAY_NO_SHOW){f.appendNewDiv()}}}}}}}}catch(e){f.sendError(e)}};f.updateIframePosition=function(){var iframeWrapper=f.getIframeWrapper();var iframeWrapperstyle="";var viewport=f.getViewport();var viewportHeight=viewport[1];if(overlayStatus===0&&overlayShown){if(iframeHeight>viewportHeight){iframeWrapperstyle="position: absolute;";iframeWrapperstyle+="top: 8%;";iframeWrapperstyle+="margin-top: 0;"}else{iframeWrapperstyle="margin-top: -"+(iframeWrapper.clientHeight/2)+"px;"}iframeWrapper.setAttribute("style",iframeWrapperstyle)}};f.updateIframeHeight=function(height){if(overlayStatus===0){f.resetKrazyglueStyles();iframeHeight=height;iframe.setAttribute("height",iframeHeight);f.updateIframePosition()}};f.resetKrazyglueStyles=function(){var iframeWrapper=f.getIframeWrapper();var iframe=f.getIframe();iframeWrapper.removeAttribute("style");iframe.removeAttribute("style")};f.buildClientHost=function(clientProtocol){return clientProtocol+f.getWindowLocationHost()};f.getWindowLocationHost=function(){return window.location.host};f.buildIframeSrc=function(iframeSrc,targetHost){return iframeSrc+"&targetHost="+encodeURIComponent(targetHost)};f.setWidthAndHeight=function(maxWidth,maxHeight){iframeHeight=maxHeight;iframeWidth=maxWidth};f.onReady=function(params){guid=params.sessionId;clientProtocol=window.location.protocol+"//";var targetHost=f.buildClientHost(clientProtocol);iframeSourceDomain=clientProtocol+params.serverHost;f.setWidthAndHeight(params.maxWidth,params.maxHeight);var iframeSrc=f.buildIframeSrc(params.iframeSrc,targetHost,clientProtocol);iframe=f.startLoadingIframe(iframeSrc);onDocumentReady(function(){f.init(iframe,params.autoShow,params.showParams,iframeSrc,params.mobileEnabled,params.mobilePosition,params.initialLayout)})};f.sendError=function(e){f.appendErrorPixel(clientLog.constructUrl(e,guid))};pub.hide=f.hideOverlay;pub.show=f.showOverlay;pub.wasShown=f.wasShown;pub.onReady=f.onReady;pub.sendError=f.sendError;pub.listenerHandler=f.listenerHandler;if(!!kgTest&&!!kgTest.test){f.get=function(varName){return eval(varName)};kgTest.f=f}return pub})(window,xsellExpediaClientLog,xsellExpediaOnDocumentReady,xsellExpediaCss,xsellExpediaTest);

try { xsellExpedia.onReady({"mobilePosition":"br","initialLayout":0,"autoShow":true,"showParams":false,"iframeSrc":"//www.expedia.com/xsell-iframe-v2?&partnerId=expedia-itin-v2-flight&outboundEndDateTime=2015-09-25T07%3A00%3A00.000%2B05%3A30&destinationId=6126816&bookingDateTime=2015-09-23T16%3A31%3A31.113Z&returnStartDateTime=2015-09-29T13%3A47%3A00.000-04%3A00&locale=en-US&currencyCode=USD&originTla=PNQ&numOfAdults=1&bookingId=3KJ2ZF&bookingStatus=Confirmed&requestId=expedia-itin-v2-flight588fbeef8f99460b925e47f3f8eed1be&mc1=588fbeef8f99460b925e47f3f8eed1be&signature=-q9O1tRKy3fMGnOx3HRZSzkE3X4","serverHost":"www.expedia.com","sessionId":"588fbeef8f99460b925e47f3f8eed1be","mobileEnabled":true,"maxWidth":960,"noThanksMessage":"","noThanksMessageForTinyglue":"No thanks","maxHeight":782}); } catch (e) { xsellExpedia.sendError(e); }