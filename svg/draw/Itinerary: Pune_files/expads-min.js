!function(a,b,c){"use strict";var d=null;b.utils=b.utils||{},b.utils.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)},b.utils.isVisible=function(a){return null!==a&&b.utils.isParentVisible(a)},b.utils.isParentVisible=function(b){for(;b!==c&&b.parentNode;){if(a.getComputedStyle){var d=a.getComputedStyle(b,"");if("none"==d.display)return!1;if("hidden"==d.visibility)return!1}if(b.style){if("none"==b.style.display)return!1;if("hidden"==b.style.visibility)return!1}if(b=b.parentNode,b==document)return!0}return!1},b.utils.resize=function(a){try{var c=document.getElementById(a);if(b.utils.isLoaded(c)){var d=c.getElementsByTagName("iframe")[0],e=d.contentDocument||d.contentWindow.document,f="Height",g="scroll"+f,h="offset"+f,i=Math.max(e.body[g],e.documentElement[g],e.body[h],e.documentElement[h],e.documentElement["client"+f]);c.style.height=i+"px",d.style.height=i+"px"}}catch(j){b.logging.logError(j,["adAction=expads.utils.resize","id="+a])}},b.utils.isForceLoad=function(a){return null!==a&&"true"===a.getAttribute("data-force-load")},b.utils.toggleCollapsedExpanded=function(a,b){a&&a.className!==c&&(a.className=a.className.replace(/(?:^|\s)expanded(?!\S)/g,""),a.className=a.className.replace(/(?:^|\s)collapsed(?!\S)/g,""),b?a.className+=" expanded":a.className+=" collapsed")},b.utils.isLoaded=function(a){return null!==a&&"true"===a.getAttribute("data-loaded")};var e=function(){for(var a=3,b=document.createElement("div"),d=b.getElementsByTagName("i");b.innerHTML="<!--[if gt IE "+ ++a+"]><i></i><![endif]-->",d[0];);return a>4?a:c}();b.utils.ajax=function(d){d=d||{},d.always=d.always||function(){},d.done=d.done||function(){},d.fail=d.fail||function(){},d.dataType=d.dataType||"",d.type=d.type||"GET",d.url=d.url||null,d.encode===c&&(d.encode=!0);var f;if(10>e&&a.XDomainRequest){var g=new XDomainRequest;d.encode?g.open(d.type,encodeURI(d.url)):g.open(d.type,d.url),g.onprogress=function(){},g.ontimeout=function(){},g.onload=function(){var a=g.responseText;if(d.dataType&&"json"===d.dataType.toLowerCase()&&"string"==typeof a)try{a=JSON.parse(a)}catch(c){b.logging.logError(c,["adAction=expads.utils.ajax"])}d.done(a,g)},g.onerror=function(){d.fail(g)},setTimeout(function(){g.send()},0)}else a.XMLHttpRequest&&(f=new XMLHttpRequest,f.onreadystatechange=function(){var a;4===f.readyState&&(200===f.status?(f.response?a=f.response:!f.responseType||""!==f.responseType&&"text"!==f.responseType||(a=f.responseText),d.dataType&&"json"===d.dataType.toLowerCase()&&"string"==typeof a&&(a=JSON.parse(a)),d.done(a,f)):d.fail(f),d.always(f,a))},d.encode?f.open(d.type,encodeURI(d.url)):f.open(d.type,d.url),f.responseType=d.dataType,f.send())},b.utils.isForceLoad=function(a){return null!==a&&"true"===a.getAttribute("data-force-load")},b.utils.formatDateToISOSpecification=function(a,b,c){return a+"-"+b+"-"+c},b.utils.logTimeTakenToCompleteAPICall=function(a,c,d){var e=c-a;b.logging.logMessage(d,["totalTime="+e])},b.utils.isEmptyObject=function(a){var b;if(a)for(b in a)if(a.hasOwnProperty(b))return!1;return!0},b.utils.isLocalStorageAvailable=function(){if(null===d)try{a.localStorage.setItem("AdEng","is super cool");var b=a.localStorage.getItem("AdEng");a.localStorage.removeItem("AdEng"),d="is super cool"===b}catch(c){d=!1}return d},b.utils.mergeObjects=function(a,b){var c,d={},e=function(a){return JSON.parse(JSON.stringify(a))};if(a)for(c in a)a.hasOwnProperty(c)&&(d[c]=e(a[c]));if(b)for(c in b)b.hasOwnProperty(c)&&(d[c]=e(b[c]));return d},b.utils.resetLocalStorageAvailability=function(){d=null},b.utils.mergeTargetingAndUpdateLocalStorage=function(d){var e={};return b.mergedTargeting!==c&&(e=b.utils.mergeObjects(e,b.mergedTargeting)),e=b.utils.mergeObjects(e,b.targeting),"object"==typeof d&&(b.updatedTargeting=d,e=b.utils.mergeObjects(e,d)),b.utils.isLocalStorageAvailable()&&(a.localStorage.setItem("com.expedia.meso.targeting",JSON.stringify(e)),b.mergedTargeting=e),e},b.utils.isViewable=function(b){var c=b.getBoundingClientRect(),d=c.bottom-c.top,e=c.right-c.left,f=a.innerHeight||document.documentElement&&document.documentElement.clientHeight||0,g=a.innerWidth||document.documentElement&&document.documentElement.clientWidth||0;return c.top+d<f&&c.bottom-d>0&&c.left+e<g&&c.right-e>0},b.utils.onScroll=function(){if(b.configuration!==c&&b.configuration.experiments!==c&&"number"==typeof b.configuration.experiments.onFocusReload){var a=b.configuration.tpid,d=b.configuration.eapid,e=b.configuration.guid;"function"==typeof dctk.evaluateExperimentAndLog&&dctk.evaluateExperimentAndLog({id:b.configuration.experiments.onFocusReload,tpid:a,eapid:d,guid:e,callback:function(a){1===a.value&&"function"==typeof b.ensureViewableAdsAreLoaded&&b.ensureViewableAdsAreLoaded()}})}}}(window,window.expads=window.expads||{}),function(a,b){"use strict";var c=function(a){this.id=a,this.handlers=[]},d=function(b){a.events[b]=new c(b)};c.prototype.attachHandler=function(a){this.handlers.push(a)},c.prototype.fire=function(){for(var b=0;b<this.handlers.length;b++)if("function"==typeof this.handlers[b])try{this.handlers[b]()}catch(c){a.logging.logError(c,["adAction=ExpadsEvent.fire","eventId="+id])}},a.events=a.events||{},d("preInitialize"),d("postInitialize"),d("preRefresh"),d("postRefresh"),d("preEnsureVisibleAdsAreLoaded"),d("postEnsureVisibleAdsAreLoaded")}(window.expads=window.expads||{}),function(a,b,c){"use strict";void 0!==b.configuration&&(void 0!==b.configuration.experiments&&"number"==typeof b.configuration.experiments.onFocusReload||b.configuration.reloadAdsOnFocus===!0)&&b.events.postInitialize.attachHandler(function(){var d,e,f=b.configuration.tpid,g=b.configuration.eapid,h=b.configuration.guid,i=function(){e=new Date;try{d&&e-d>=1e4&&(void 0!==b.configuration&&void 0!==b.configuration.experiments&&"number"==typeof b.configuration.experiments.onFocusReload?"function"==typeof c.evaluateExperimentAndLog&&c.evaluateExperimentAndLog({id:b.configuration.experiments.onFocusReload,tpid:f,eapid:g,guid:h,callback:function(a){1===a.value&&"function"==typeof b.refreshAdsOnFocus&&b.refreshAdsOnFocus()}}):b.configuration.reloadAdsOnFocus&&"function"==typeof b.refresh&&b.refresh())}catch(a){b.logging.logError(a,["adAction=initializeOnFocusReload"])}},j=function(){d=new Date};a.addEventListener?a.addEventListener("focus",i,!1):a.attachEvent&&a.attachEvent("onfocus",i),a.addEventListener?a.addEventListener("blur",j,!1):a.attachEvent&&a.attachEvent("onblur",j)})}(window,window.expads=window.expads||{},window.dctk||{}),function(a,b){"use strict";a.Logger=function(){},a.Logger.prototype.logMessage=function(a,b){},a.Logger.prototype.logError=function(a,b){},a.Logger.prototype.logTrxEvent=function(){},a.Logger.prototype.name=function(){};var c=[];a.logging=a.logging||{},a.logging.registerLogger=function(a){c.push(a)},a.logging.logMessage=function(a,d){if(a!==b)for(var e=0;e<c.length;e++)c[e].logMessage(a,d)},a.logging.logError=function(a,d){if(a!==b)for(var e=0;e<c.length;e++)c[e].logError(a,d)},a.logging.logTrxEvent=function(a,d){if(a!==b)for(var e=0;e<c.length;e++){var f=c[e];f.hasOwnProperty("logTrxEvent")&&"function"==typeof f.logTrxEvent&&f.logTrxEvent(a,d)}}}(window.expads=window.expads||{}),function(a,b,c){"use strict";if(a!==c){var d=new b.Logger;d.name=function(){return"Console logger"},d.logMessage=function(b,d){d!==c?a.log(b,d):a.log(b)},d.logError=function(b,d){d!==c?a.error(b,d):a.error(b)},b.logging.registerLogger(d)}}(window.console,window.expads=window.expads||{}),function(a,b,c,d){"use strict";b.configuration=b.configuration||{};var e="expads",f=!1,g=!1,h=[],i=[],j=[],k=function(){return"dctk logger"},l=function(a){var b=Math.floor(Math.random()*Math.pow(10,13));return a+=a.indexOf("?")>-1?"&_="+b:"?_="+b},m=function(){if(f){var a;for(a=0;a<h.length;a++)q(h[a].message,h[a].additionalParams);for(h=[],a=0;a<i.length;a++)p(i[a].error,i[a].additionalParams);for(i=[],a=0;a<j.length;a++)r(j[a].message,j[a].additionalParams);j=[]}},n=function(){if(b.configuration.alwaysDCTKLog||a.location.search.indexOf("adsClientLoggingEnabled=true")>-1)return!0;var c=5,d=1,e=Math.floor(Math.random()*(c-d+1))+d;return b.configuration.loggingEnabled&&e===d},o=function(){if(c.logging!==d&&"function"==typeof c.logging.logMessage&&"function"==typeof c.logging.logError)f=!0,m();else if(b.configuration.dctkClientLoggingURL!==d&&b.configuration.dctkClientLoggingURL.length>0){g=!0;try{b.utils.ajax({url:l(b.configuration.dctkClientLoggingURL),done:t,fail:s,dataType:"text"})}catch(a){g=!1,b.logging.logError(a,["adAction=loadDctkIfNotAlreadyLoaded","dctkClientLoggingURL="+b.configuration.dctkClientLoggingURL])}}},p=function(a,b){if(f){var d=c.logging.pageName;c.logging.pageName+="_ads";try{c.logging.logError(e,a,b)}finally{c.logging.pageName=d}}else g&&i.push({error:a,additionalParams:b})},q=function(a,b){var d,i=["message="+a];for(d in b)b.hasOwnProperty(d)&&i.push(b[d]);if(f){var j=c.logging.pageName;c.logging.pageName+="_ads";try{c.logging.logMessage(e,i)}finally{c.logging.pageName=j}}else g&&h.push({message:a,additionalParams:b})},r=function(a,b){if(f){var d=c.logging.pageName;c.logging.pageName+="_ads";try{c.logging.logTrxEvent(e,b)}finally{c.logging.pageName=d}}else g&&j.push({message:a,additionalParams:b})},s=function(){g=!1,b.logging.logMessage("Failed to load the remote DCTK file",["dctkClientLoggingURL="+b.configuration.dctkClientLoggingURL])},t=function(c){g=!1,u(),f||(a.dctk={},a.dctk.logging={pageStartTime:(new Date).getTime(),pageName:b.configuration.pageName,guid:b.configuration.guid},a.eval(c),u()),m()},u=function(){a.dctk!==d&&a.dctk.logging!==d&&"function"==typeof a.dctk.logging.logMessage&&"function"==typeof a.dctk.logging.logError&&(c=a.dctk,f=!0)};if(n()){b.events.preInitialize.attachHandler(o);var v=new b.Logger;v.logMessage=q,v.logError=p,v.logTrxEvent=r,v.name=k,b.logging.registerLogger(v)}}(window,window.expads=window.expads||{},window.dctk||{}),function(a,b){"use strict";a.extensions=a.extensions||{},a.callbacks=a.callbacks||{}}(window.expads=window.expads||{}),function(a,b){"use strict";var c="TOP-CENTER",d="TOP-RIGHT",e="CENTER-LEFT",f="CENTER-CENTER",g="CENTER-RIGHT",h="BOTTOM-LEFT",i="BOTTOM-CENTER",j="BOTTOM-RIGHT",k=function(b,k){var l=k.getElementById(b.priceContainer);if(b.eventData.priceAvailable===!0){var m=b.availableMessage+b.eventData.currencyType+b.eventData.price;l.appendChild(k.createTextNode(m))}else l.appendChild(k.createTextNode(b.unavailableMessage));var n=b.adWidth,o=b.adHeight,p=l.offsetWidth,q=l.offsetHeight,r=0,s=0;n>=p&&o>=q?(b.position===c?r=(n-p)/2:b.position===d?r=n-p:b.position===e?s=(o-q)/2:b.position===f?(r=(n-p)/2,s=(o-q)/2):b.position===g?(r=n-p,s=(o-q)/2):b.position===h?s=o-q:b.position===i?(r=(n-p)/2,s=o-q):b.position===j?(r=n-p,s=o-q):(r=0,s=0),l.style.marginLeft=r,l.style.marginTop=s,l.style.visibility="visible"):a.logging.logError("The dynamic price container width/height is greater than the ad unit size.")},l=function(a,b){b.getElementsByTagName("iframe")[0].contentWindow.postMessage(a.eventData,"*")};a.callbacks.dynamicPricing=a.callbacks.dynamicPricing||{},a.callbacks.dynamicPricing.dfpCallback=k,a.callbacks.dynamicPricing.sizmekCallback=l}(window.expads=window.expads||{}),function(a,b,c){"use strict";b.events.preInitialize.attachHandler(function(){b.mergedTargeting=b.utils.isLocalStorageAvailable()?JSON.parse(a.localStorage.getItem("com.expedia.meso.targeting")):{}})}(window,window.expads=window.expads||{}),function(a,b){"use strict";var c="-",d=function(b,d,e,f,g){if(""===b||""===d||""===f||""===g)return a.logging.logError("Error: Flight search API cannot be queried if airline code, start date, departure airport or arrival airport are missing."),null;var h=a.utils.formatDateToISOSpecification(d.split(c)[2],d.split(c)[0],d.split(c)[1]),i="PRICE",j="1",k="/api/flight/search?",l="departureAirport="+encodeURIComponent(f.trim())+"&arrivalAirport="+encodeURIComponent(g.trim())+"&departureDate="+encodeURIComponent(h.trim())+"&airlinePreference="+encodeURIComponent(b.trim())+"&sortType="+encodeURIComponent(i.trim())+"&maxOfferCount="+encodeURIComponent(j.trim());if(""!==e){var m=a.utils.formatDateToISOSpecification(e.split(c)[2],e.split(c)[0],e.split(c)[1]);l+="&returnDate="+encodeURIComponent(m.trim())}return k+l},e=function(){a.logging.logError("Error: Flight search API call to fetch the dynamic pricing data failed.")},f=function(a,c,d){var f=JSON.parse(a),g=f.offers,h=f.searchCities;if(g!==b){if(0===g.length)d.eventData.priceAvailable=!1;else{for(var i in h)h.hasOwnProperty(i)&&(d.departureAirport===h[i].code&&(d.eventData.departureCity=h[i].city),d.arrivalAirport===h[i].code&&(d.eventData.arrivalCity=h[i].city));d.eventData.priceAvailable=!0,d.eventData.price=g[0].totalFarePrice.formattedPrice,d.eventData.currencyType=""}d.dynamicPricingDisplayCallback(d,c)}else e()},g=function(b,c,d){var g=(new Date).getTime(),h="Flight Search API call took ";a.utils.ajax({url:b,done:function(b){return a.utils.logTimeTakenToCompleteAPICall(g,(new Date).getTime(),h),f(b,c,d)},fail:function(){return a.utils.logTimeTakenToCompleteAPICall(g,(new Date).getTime(),h),e()}})},h=function(b,c){try{var e=d(c.queryParams.airlineCode,c.queryParams.startDate,c.queryParams.endDate,c.queryParams.departureAirport,c.queryParams.arrivalAirport);null!==e&&g(e,b,c.displayParams)}catch(f){a.logging.logError("Extension: AirlinesDynamicPriceExtension, "+f)}};a.extensions.airlinesDynamicPricing=a.extensions.airlinesDynamicPricing||{},a.extensions.airlinesDynamicPricing.retrieveAndDisplayPrice=h}(window.expads=window.expads||{}),function(a,b){"use strict";var c="-",d=function(b,d,e,f){if(""===e||""===f||""===b||""===d)return a.logging.logError("Error: Hotel search API cannot be queried if brand id, destination, start date or end date are missing."),null;var g=a.utils.formatDateToISOSpecification(e.split(c)[2],e.split(c)[0],e.split(c)[1]),h=a.utils.formatDateToISOSpecification(f.split(c)[2],f.split(c)[0],f.split(c)[1]),i="1",j="BASE_PRICE_ONLY",k="-1",l="/m/api/hotel/search?",m="city="+encodeURIComponent(d.trim())+"&brandNameId="+encodeURIComponent(b.toString().trim())+"&priceType="+encodeURIComponent(j.trim())+"&checkInDate="+encodeURIComponent(g.trim())+"&checkOutDate="+encodeURIComponent(h.trim())+"&room="+encodeURIComponent(i.trim())+"&resultsPerPage="+encodeURIComponent(k.trim());return l+m},e=function(b,d,e){if(""===b||""===d||""===e)return a.logging.logError("Error: Hotel search API cannot be queried if hotel id, start date or end date are missing."),null;var f=a.utils.formatDateToISOSpecification(d.split(c)[2],d.split(c)[0],d.split(c)[1]),g=a.utils.formatDateToISOSpecification(e.split(c)[2],e.split(c)[0],e.split(c)[1]),h="1",i="BASE_PRICE_ONLY",j="/m/api/hotel/search?",k="hgid="+encodeURIComponent(b)+"&priceType="+encodeURIComponent(i.trim())+"&checkInDate="+encodeURIComponent(f.trim())+"&checkOutDate="+encodeURIComponent(g.trim())+"&room="+encodeURIComponent(h.trim());return j+k},f=function(){a.logging.logError("Error: Hotel search API call to fetch the dynamic pricing data failed.")},g=function(c,d,e){var g=JSON.parse(c),h=g.hotelList;if(h!==b&&h.length>0){var i=h[0].rateCurrencySymbol,j=[];for(var k in h)h.hasOwnProperty(k)&&h[k].isHotelAvailable===!0&&j.push(parseInt(h[k].lowRateInfo.priceToShowUsers));j.length>0?(j.sort(function(a,b){return a-b}),e.eventData.price=j[0],e.eventData.currencyType=i,e.eventData.priceAvailable=!0):e.eventData.priceAvailable=!1,e.dynamicPricingDisplayCallback(e,d)}else{var l=g.errors;if(l!==b&&l.length>0){var m="Error: Hotel search API call to fetch the dynamic pricing data returned with the following error(s):\n";for(var n in l)if(l.hasOwnProperty(n)){var o=l[n].errorInfo.field,p="Summary: "+l[n].errorInfo.summary;m+=o!==b?p+", Field: "+o+"\n":p+"\n"}a.logging.logError(m)}else f()}},h=function(b,c,d){var e=(new Date).getTime(),h="Hotel Search API call took ";a.utils.ajax({url:b,done:function(b){return a.utils.logTimeTakenToCompleteAPICall(e,(new Date).getTime(),h),g(b,c,d)},fail:function(){return a.utils.logTimeTakenToCompleteAPICall(e,(new Date).getTime(),h),f()}})},i=function(b,c){try{var d=e(c.queryParams.hotelId,c.queryParams.startDate,c.queryParams.endDate);null!==d&&h(d,b,c.displayParams)}catch(f){a.logging.logError("Extension: HotelsDynamicPriceExtension, Type: By Hotel ID, "+f)}},j=function(b,c){try{var e=d(c.queryParams.brandId,c.queryParams.destinationCode,c.queryParams.startDate,c.queryParams.endDate);null!==e&&h(e,b,c.displayParams)}catch(f){a.logging.logError("Extension: HotelsDynamicPriceExtension, Type: By Brand, "+f)}};a.extensions.hotelsDynamicPricing=a.extensions.hotelsDynamicPricing||{},a.extensions.hotelsDynamicPricing.retrieveAndDisplayPriceById=i,a.extensions.hotelsDynamicPricing.retrieveAndDisplayPriceByBrand=j}(window.expads=window.expads||{}),function(a){"use strict";function b(b,c){this.startTime=(new Date).getTime(),this.type=b,this.requested={},this.recorded=!1,this.recordingTimeout=null;var d;for(d in c)c.hasOwnProperty(d)&&(this.requested[c[d]]={loaded:!1});a.analytics.adCalls.push(this)}var c=1e3;b.prototype.slotRenderedCallback=function(a,b){if(a&&a.slot&&"function"==typeof a.slot.getSlotId&&"function"==typeof a.slot.getSlotId().getDomId){var d=a.slot.getSlotId().getDomId(),e=this.requested[d];e&&!e.loaded&&(this.requested[d].loaded=!0,this.requested[d].isEmpty=a.isEmpty,this.requested[d].creativeId=a.creativeId,this.requested[d].lineItemId=a.lineItemId,this.requested[d].timeLoaded=(new Date).getTime(),this.requested[d].loadTime=this.getLoadTime(d),!this.recorded&&b&&(clearTimeout(this.recordingTimeout),this.numAdsOutstanding()>0?this.recordingTimeout=setTimeout(this.record,c):this.record()))}},b.prototype.getLoadTime=function(a){return this.requested[a]?this.requested[a].timeLoaded-this.startTime:void 0},b.prototype.numAdsOutstanding=function(){return this.numAdsRequested()-this.numAdsLoaded()},b.prototype.numAdsLoaded=function(){var a,b,c=0;for(a in this.requested)this.requested.hasOwnProperty(a)&&(b=this.requested[a],b.loaded&&c++);return c},b.prototype.numAdsRequested=function(){var a,b=0;for(a in this.requested)this.requested.hasOwnProperty(a)&&b++;return b},b.prototype.averageLatencyPerAd=function(){var a,b,c=0,d=0;for(a in this.requested)this.requested.hasOwnProperty(a)&&(b=this.requested[a],b.loaded&&(d++,c+=b.loadTime));return c/d},b.prototype.record=function(){this.recorded===!1&&(this.logAdCall(),this.recorded=!0)},b.prototype.logAdCall=function(){var b=[];b.push("numberOfAdsRequested="+encodeURIComponent(this.numAdsRequested())),b.push("numberOfAdsReturned="+encodeURIComponent(this.numAdsLoaded())),b.push("averageLatencyPerAd="+encodeURIComponent(this.averageLatencyPerAd())),b.push("adCallNumber="+encodeURIComponent(a.analytics.adCalls.indexOf(this)+1)),a.logging.logTrxEvent((new Date).getTime()-this.startTime,b)},a.analytics=a.analytics||{},a.analytics.AdCall=b,a.analytics.adCalls=a.analytics.adCalls||[]}(window.expads=window.expads||{}),function(a,b){"use strict";var c=function(c){var d=c.adconfig||{},e=c.onerror,f=new Date,g=c.onload,h=c.name,i=function(){var b,e,i="function"==typeof g?g():!1;if(void 0!==h&&c.document.body.innerHTML.length>0){e={},e.name=h.replace(/^google_ads_iframe_/,"").replace(/_\d+$/,""),e.requestTime=f;for(var j in d)d.hasOwnProperty(j)&&(e[j]=d[j]);var k,l;if(c&&c.performance&&"function"==typeof c.performance.getEntriesByType){k=c.performance.getEntriesByType("resource"),e.resourceList=k;for(var m=0;m<k.length;m++)"img"==k[m].initiatorType&&(l=k[m].responseEnd-k[m].startTime,(void 0===b||l>b)&&(b=k[m].responseEnd-k[m].startTime))}else b=(new Date).getTime()-f.getTime();e.elapsedTime=b,a.expads.renderedAds[e.name]=e}return i},j=function(c,f,g){var i=a.expads.renderedAds[h]||{},j=[];return i.errorMsg=c,i.errorLine=g,i.errorUrl=f,i.error=!0,a.expads.renderedAds[h]=i,j.push("onErrorMsg="+encodeURIComponent(c)),j.push("onErrorUrl="+encodeURIComponent(f)),j.push("orderId="+encodeURIComponent(d.orderId||"")),j.push("lineItemId="+encodeURIComponent(d.lineItemId||"")),j.push("creativeId="+encodeURIComponent(d.creativeId||"")),j.push("adUnitId="+encodeURIComponent(d.adUnitId||"")),j.push("onErrorLine="+encodeURIComponent(g)),b.logging.logMessage("ExpAds",j),"function"==typeof e&&e(c,f,g),!1};c.onerror=j,c.onload=i};b.analytics=b.analytics||{},b.analytics.creativeWindowCallback=c}(window,window.expads=window.expads||{}),function(a,b){"use strict";var c=[];a.configuration=a.configuration||{},a.renderedAds=a.renderedAds||{},a.initialize=function(b){a.events.preInitialize.fire();var d,e;for(a.utils.mergeTargetingAndUpdateLocalStorage(b),d=0;d<c.length;d++)e=c[d].filterAdSlots(a.slots),a.utils.isEmptyObject(e)||c[d].initialize(e);a.events.postInitialize.fire()},a.refresh=function(b,d){a.events.preRefresh.fire(),a.renderedAds={};var e,f;for(a.utils.mergeTargetingAndUpdateLocalStorage(b),f=0;f<c.length;f++)e=c[f].filterAdSlots(a.slots),a.utils.isEmptyObject(e)||c[f].refresh(e,d);a.events.postRefresh.fire()},a.ensureVisibleAdsAreLoaded=function(){a.events.preEnsureVisibleAdsAreLoaded.fire();var b,d;for(b=0;b<c.length;b++)d=c[b].filterAdSlots(a.slots),a.utils.isEmptyObject(d)||c[b].ensureVisibleAdsAreLoaded(d);a.events.postEnsureVisibleAdsAreLoaded.fire()},a.refreshAdsOnFocus=function(){var b,d;for(b=0;b<c.length;b++)d=c[b].filterAdSlots(a.slots),a.utils.isEmptyObject(d)||c[b].refreshAdsOnFocus(d)},a.ensureViewableAdsAreLoaded=function(){var b,d;for(b=0;b<c.length;b++)d=c[b].filterAdSlots(a.slots),a.utils.isEmptyObject(d)||c[b].ensureViewableAdsAreLoaded(d)},a.registerAdProduct=function(a){c.push(a)};var d=function(a){a.adScriptLoaded?a.logging.logMessage("Ads client scripts were previously loaded"):a.adScriptLoaded=!0};d(a)}(window.expads=window.expads||{}),function(a){"use strict";a.AdProduct=function(a){this.name=a},a.AdProduct.prototype.clear=function(){a.logging.logMessage("Call to unimplemented method clear for base AdProduct",["adProductName="+this.name])},a.AdProduct.prototype.ensureVisibleAdsAreLoaded=function(){a.logging.logMessage("Call to unimplemented method ensureVisibleAdsAreLoaded for base AdProduct",["adProductName="+this.name])},a.AdProduct.prototype.filterAdSlots=function(b){return a.logging.logMessage("Call to unimplemented method filterAdSlots for base AdProduct",["adProductName="+this.name,"slots="+b]),{}},a.AdProduct.prototype.initialize=function(b){a.logging.logMessage("Call to unimplemented method initialize for base AdProduct",["adProductName="+this.name,"slots="+b])},a.AdProduct.prototype.refresh=function(a){this.clear(),this.ensureVisibleAdsAreLoaded(a)},a.AdProduct.prototype.refreshAdsOnFocus=function(a){},a.AdProduct.prototype.ensureViewableAdsAreLoaded=function(a){}}(window.expads=window.expads||{}),function(a,b,c){"use strict";var d=function(c){var d,e,f,h;for(d in c)if(c.hasOwnProperty(d))try{e=a.getElementById(d),b.utils.isLoaded(e)||!b.utils.isVisible(e)&&!b.utils.isForceLoad(e)||(f=c[d],h=f.url+"location="+f.location+"&sublocation="+f.sublocation+"&placement="+f.placement,g(e,h))}catch(i){b.logging.logError(i,["adAction=afcAds.ensureVisibleAdsAreLoaded","adId="+d])}},e=function(c){for(var e in c)if(c.hasOwnProperty(e)){var f=a.getElementById(e);b.utils.isLoaded(f)&&h(f)}d(c)},f=function(a){var b,d,e={};if(a!==c)for(b in a)a.hasOwnProperty(b)&&(d=a[b],d!==c&&d.url!==c&&d.location!==c&&d.sublocation!==c&&d.placement!==c&&(e[b]=d));return e},g=function(a,b){var c="true"===a.getAttribute("data-resize"),d='<iframe scrolling="no" frameBorder="0" marginHeight="0" marginWidth="0" allowTransparency="true" style="border:none; overflow:hidden; width:'+a.style.width+"; height:"+a.style.height+';" src="'+b+'"';c&&(d+=" onload=\"expads.utils.resize('"+a.id+"');\""),d+="></iframe>",a.innerHTML=d,a.setAttribute("data-loaded","true")},h=function(a){a!==c&&a.removeAttribute("data-loaded")},i=new b.AdProduct("AfcAds");i.initialize=e,i.clear=h,i.ensureVisibleAdsAreLoaded=d,i.filterAdSlots=f,i.refresh=e,b.registerAdProduct(i)}(window.document,window.expads=window.expads||{}),function(a,b,c){"use strict";b.adSenseContainers=b.adSenseContainers||{};var d=function(){e()},e=function(){if("object"==typeof window.expAdsCsa&&window.expAdsCsa.shouldRefresh())for(var c in window.expads.adSenseContainers)if(window.expads.adSenseContainers.hasOwnProperty(c)){var d=a.getElementById(c);b.utils.isLoaded(d)&&f(d)}g()},f=function(a){a!==c&&a.removeAttribute("data-loaded")},g=function(){for(var c in b.adSenseContainers)try{var d=a.getElementById(c);if(!b.utils.isLoaded(d)&&(b.utils.isVisible(d)||b.utils.isForceLoad(d))){var e=window.expads.adSenseContainers[c];e(c),d.setAttribute("data-loaded","true")}}catch(f){b.logging.logError(f,["adAction=afsAds.ensureVisibleAdsAreLoaded"])}},h=function(){return b.adSenseContainers},i=new b.AdProduct("AfsAds");i.initialize=d,i.clear=f,i.ensureVisibleAdsAreLoaded=g,i.refresh=e,i.filterAdSlots=h,b.registerAdProduct(i)}(window.document,window.expads=window.expads||{}),function(a,b,c,d){"use strict";function e(a,b,c){this.id=a,this.config=b,this.googleSlot=c,this.viewed=!1,this.reloadOnFocus=!1}e.prototype.getContainer=function(){return a.getElementById(this.id)};var f=!1,g=[],h=function(){var a,b;for(a=0;a<g.length;a++)b=g[a].getContainer(),w(b)&&j(b);"function"==typeof c.pubads&&"function"==typeof c.pubads().clear&&"function"==typeof c.pubads().updateCorrelator&&(c.pubads().clear(),c.pubads().updateCorrelator())},i=function(a){var b,d;for(b=0;b<a.length;b++)d=a[b].getContainer(),a[b].viewed=!1,w(d)&&(j(d),"function"==typeof c.pubads&&"function"==typeof c.pubads().clear&&"function"==typeof c.pubads().updateCorrelator&&(c.pubads().clear(a[b].googleSlot),c.pubads().updateCorrelator()))},j=function(a){a!==d&&(a.removeAttribute("data-loaded"),a.style.display="")},k=function(a,c,d){try{if("object"==typeof c){var e,f,g,h,i,j,k,l,m,n,o=10,p=[];for(e in c)if(c.hasOwnProperty(e)&&(g=e.split("X"),b.utils.isArray(g)&&2===g.length)){n=[],h=g[0],i=g[1],f=[],f.push(parseInt(h,o)),f.push(parseInt(i,o)),j=[];for(k in c[e])c[e].hasOwnProperty(k)&&(l=c[e][k],m=[],m.push(parseInt(l.width,o)),m.push(parseInt(l.height,o)),j.push(m));b.utils.isArray(f)&&f.length>0&&b.utils.isArray(j)&&j.length>0&&(n.push(f),n.push(j),p.push(n))}p.length>0&&d.defineSizeMapping(p)}}catch(q){b.logging.logError(q,["adAction=defineSizeMapping","adId="+a])}},l=function(a){var b,f,h,i;if(a!==d&&"function"==typeof c.defineSlot&&"function"==typeof c.pubads)for(b in a)a.hasOwnProperty(b)&&(f=a[b],f!==d&&f.path!==d&&f.width!==d&&f.height!==d&&(h=f.legacyId!==d?f.legacyId:b,i=c.defineSlot(f.path,[parseInt(f.width,10),parseInt(f.height,10)],h).addService(c.pubads()),k(b,f.sizeMap,i),g.push(new e(h,f,i))))},m=function(a){return!w(a)&&(b.utils.isVisible(a)||x(a))},n=function(){"function"==typeof c.pubads&&"function"==typeof c.enableServices&&(c.pubads().collapseEmptyDivs(),c.pubads().disableInitialLoad(),c.pubads().enableSingleRequest(),c.enableServices())},o=function(){try{var a,c,d=[],e=[];for(a=0;a<g.length;a++)try{c=g[a].getContainer(),m(c)&&(b.utils.isViewable(c)&&(g[a].viewed=!0),c.setAttribute("data-loaded","true"),d.push(g[a]),e.push(g[a].id))}catch(f){b.logging.logError(f,["adAction=ensureVisibleAdsAreLoaded","adId="+g[a].id])}p(d,e)}catch(f){b.logging.logError(f,["adAction=ensureVisibleAdsAreLoaded","adId="+g[a].id])}},p=function(e,f){var g,h=[];try{if(e.length>0)try{var i=new b.analytics.AdCall("display",f);for(c.pubads().addEventListener("slotRenderEnded",function(c){try{if(i.slotRenderedCallback(c,!0),c!==d&&c.slot!==d&&c.slot.getSlotId()!==d&&c.slot.getSlotId().getDomId()!==d&&c.isEmpty!==d){var e=a.getElementById(c.slot.getSlotId().getDomId());if(null!==e){var f=t(e,"ad-variant")?e.parentNode:e;b.utils.toggleCollapsedExpanded(f,!c.isEmpty)}}}catch(g){b.logError(g,["adAction=googletag.slotRenderEnded"])}}),B(e),g=0;g<e.length;g++)h.push(e[g].googleSlot);c.pubads().refresh(h,{changeCorrelator:!1})}catch(j){b.logging.logError(j,["adAction=googletag.pubads().refresh"])}}catch(j){b.logging.logError(j,["adAction=ensureVisibleAdsAreLoaded"])}},q=function(){var a,c;try{for(a=0;a<g.length;a++)c=g[a].getContainer(),g[a].viewed&&(g[a].reloadOnFocus=!0,g[a].viewed=!1)}catch(d){b.logging.logError(d,["adAction=refreshAdsOnFocus"])}r()},r=function(){var a,c,d=[],e=[];try{for(a=0;a<g.length;a++)c=g[a].getContainer(),b.utils.isViewable(c)&&(g[a].reloadOnFocus&&!g[a].viewed&&(c.setAttribute("data-loaded","true"),g[a].reloadOnFocus=!1,d.push(g[a]),e.push(g[a].id)),g[a].viewed=!0);i(d),p(d)}catch(f){b.logging.logError(f,["adAction=ensureViewableAdsAreLoaded"])}},s=function(a){var b,c,e={};for(b in a)a.hasOwnProperty(b)&&(c=a[b],c!==d&&c.path!==d&&c.width!==d&&c.height!==d&&(e[b]=c));return e},t=function(a,b){return a.className&&new RegExp("(^|\\s)"+b+"(\\s|$)").test(a.className)},u=function(e){f===!0?(b.logging.logMessage("expads.initialize",["adAction=initialize","adMessage=Duplicate call to initialize on page"]),this.clear()):e!==d&&(c.cmd=c.cmd||[],function(){var b=a.createElement("script");b.async=!0,b.type="text/javascript",b.src="//www.googletagservices.com/tag/js/gpt.js",a.getElementsByTagName("head")[0].appendChild(b)}(),c.cmd.push(function(){l(e),z(),n(),v()}),f=!0)},v=function(){var a;for(a=0;a<g.length;a++)y(g[a]);o()},w=function(a){return null!==a&&"true"===a.getAttribute("data-loaded")},x=function(a){return null!==a&&"true"===a.getAttribute("data-force-load")},y=function(a){var b=a.getContainer();null!==b&&b.getAttribute("data-displayed")!==!0&&"function"==typeof c.display&&(c.display(a.id),b.setAttribute("data-displayed",!0))},z=function(){var a;if(b.targeting!==d&&"function"==typeof c.pubads)for(a in b.targeting)!b.targeting.hasOwnProperty(a)||b.updatedTargeting!==d&&a in b.updatedTargeting||A(c.pubads(),a,b.targeting[a])},A=function(a,c,e){var f,g;if(a!==d&&c!==d&&e!==d)if(b.utils.isArray(e)){for(g=[],f=0;f<e.length;f++)g.push(String(e[f]));a.setTargeting(c,g)}else e===!0?a.setTargeting(c,"1"):e===!1?a.setTargeting(c,"0"):a.setTargeting(c,String(e))},B=function(a){var c,e,f;for(c=0;c<a.length;c++)if(e=a[c],b.updatedTargeting!==d||e.config!==d&&e.config.slotTargeting){if(e.googleSlot.clearTargeting(),b.updatedTargeting!==d)for(f in b.updatedTargeting)b.updatedTargeting.hasOwnProperty(f)&&A(e.googleSlot,f,b.updatedTargeting[f]);if(e.config!==d&&e.config.slotTargeting!==d)for(f in e.config.slotTargeting)e.config.slotTargeting.hasOwnProperty(f)&&A(e.googleSlot,f,e.config.slotTargeting[f])}},C=function(){return{run:function(a){try{b.analytics.creativeWindowCallback(a)}catch(c){b.logging.logError(c,["adAction=displayAds.callbackForAds"])}}}}(),D=new b.AdProduct("DisplayAds");D.initialize=u,D.clear=h,D.ensureVisibleAdsAreLoaded=o,D.filterAdSlots=s,D.refreshAdsOnFocus=q,D.ensureViewableAdsAreLoaded=r,b.registerAdProduct(D),b.callbackForAds=C}(window.document,window.expads=window.expads||{},window.googletag=window.googletag||{}),function(a,b,c){"use strict";var d={};b.events.preInitialize.attachHandler(function(){b.utils.isEmptyObject(j(b.slots))||(b.utils.isLocalStorageAvailable()&&null!==window.localStorage.getItem("com.expedia.meso.targeting")?b.logging.logTrxEvent("localStorageTargeting",["localStorageTargeting=100"]):b.logging.logTrxEvent("localStorageTargeting",["localStorageTargeting=0"]))});var e=function(a){for(var b in a)a.hasOwnProperty(b)&&g(a[b])},f=function(a){for(var c in a.slots)if(a.slots.hasOwnProperty(c)){a.slots[c].rendered=!1;var d=v(a.slots[c].selector);null===d||b.utils.isVisible(d)||r(d)}},g=function(a){a.initialized=!1,a.adToLoad!==c&&f(a.adCalls[a.adToLoad])},h=function(a){for(var b in a)a.hasOwnProperty(b)&&"object"==typeof a[b]&&i(a[b])},i=function(a){if(a.initialized===!0){var b=a.adCalls[a.adToLoad],c=b.path;p(b.slots,d,c)}},j=function(a){var b,d,e={};for(b in a)a.hasOwnProperty(b)&&(d=a[b],d!==c&&d.adCalls!==c&&d.adDefault!==c&&(e[b]=d));return e},k=function(a){for(var b in a)a.hasOwnProperty(b)&&l(a[b])},l=function(a){if(a.initialized!==!0)try{var c=a.adToLoad,d=a.adCalls[c],e=d.url;b.utils.ajax({url:w(e,a.updatedTargeting,d),
done:function(b){return n(b,a,c)},fail:function(){return s(a,c)},dataType:"json",encode:!1})}catch(f){b.logging.logError(f,["adAction=simplifiedAds.initializeSlot"]);try{s(a,c)}catch(g){b.logging.logError(f,["adAction=simplifiedAds.initializeSlot.errorHandler"])}}},m=function(a,b){e(a);for(var c in a)a.hasOwnProperty(c)&&(a[c].adToLoad=b);k(a)},n=function(a,c,e){try{d=a||{};var f=c.adCalls[e],g=c.adDefault;a?(o(d,f,e,g),p(f.slots,d,f.path),d.thirdPartyImpressionURL&&u(d.thirdPartyImpressionURL,d)):(b.logging.logMessage("adAction=simplifiedAds.successHandler pageToDisplay="+e+" no data returned from DFP"),s(c,e))}catch(h){b.logging.logError(h,["adAction=simplifiedAds.successHandler","pageToDisplay="+e]),s(c,e)}finally{c.initialized=!0}},o=function(a,c,d,e){try{var f;b.renderedAds[c.path]={},b.renderedAds[c.path].renderedSlots=[];for(f in e.adCalls[d])e.adCalls[d].hasOwnProperty(f)&&(b.renderedAds[c.path][f]=e.adCalls[d][f]);for(f in a)a.hasOwnProperty(f)&&"string"==typeof a[f]&&(b.renderedAds[c.path][f]=a[f]);b.renderedAds[c.path].url=c.url,b.renderedAds[c.path].path=c.path,b.renderedAds[c.path].targeting=c.targeting}catch(g){b.logging.logError(g,["adAction=simplifiedAds.recordAdCall","pageToDisplay="+d])}},p=function(a,c,d){for(var e in a)if(a.hasOwnProperty(e))try{var f=a[e],g=c&&c[e]||null,h=v(f.selector);f.rendered!==!0&&(b.utils.isVisible(h)?(f.rendered=!0,g?(q(e,g,f,d),g.thirdPartyImpressionURL&&"string"==typeof g.thirdPartyImpressionURL&&g.thirdPartyImpressionURL.length>0&&u(g.thirdPartyImpressionURL,c),f.rendered=!0):f&&f.url?y(h,f):r(h)):r(h))}catch(i){throw b.logging.logError(i,["adAction=simplifiedAds.displayVisibleAds","id="+e]),i}},q=function(e,f,g,h){try{var i;d.clickThroughURL!==c&&d.clickThroughURL.length>0&&d.baseClickThroughURL!==c&&d.baseClickThroughURL.length>0&&(i=d.clickThroughURL);var j=function(a,d){d!==c&&(b.renderedAds[d]=b.renderedAds[d]||{},b.renderedAds[d].renderedSlots=b.renderedAds[d].renderedSlots||[],-1===b.renderedAds[d].renderedSlots.indexOf(a)&&b.renderedAds[d].renderedSlots.push(a))},k=function(b,c){var d=a.createElement("a"),e=a.createElement("div");d.className="clickThroughURL",d.setAttribute("href",c),e.style.width="100%",e.style.height="100%",e.style.margin="0",e.style.padding="0",d.appendChild(e),x(b,"clickThroughURL"),b.appendChild(d)},l=v(g.selector);y(l,f),g.useClickThroughURL&&f.clickThroughURL!==c&&f.clickThroughURL.length>0&&f.baseClickThroughURL!==c&&f.baseClickThroughURL.length>0?k(l,f.clickThroughURL):g.useClickThroughURL&&i!==c&&i.length>0&&k(l,i),j(e,h)}catch(m){b.logging.logError(m,["adAction=simplifiedAds.populateAdContainer","path="+h,"id="+e])}},r=function(a){a.removeAttribute("data-src"),a.style.backgroundImage="",b.utils.toggleCollapsedExpanded(a,!1),x(a,"clickThroughURL")},s=function(a,d){try{var e,f,g,h=a.adDefault,i=h.adCalls[d].slots,j=a.adCalls[d].slots;for(e in i)i.hasOwnProperty(e)&&(f=i[e],j!==c&&j[e]!==c&&(j[e].rendered=!0),g=v(f.selector),y(g,f))}catch(k){b.logging.logError(k,["adAction=simplifiedAds.errorHandler","pageToDisplay="+d])}finally{a.initialized=!0}},t=function(a){return a.indexOf("http:")>-1?!1:!0},u=function(a,c){try{if(!t(a))throw new Error(a+" is non-https thirdPartyImpressionURL");(new Image).src=encodeURI(a)}catch(d){var e=c,f=[];f.push("adAction=","simplifiedAds.fireImpressionBeacon"),f.push("url=",encodeURI(a)),f.push("orderId="+encodeURIComponent(e.orderID||"")),f.push("lineItemId="+encodeURIComponent(e.lineItemID||"")),f.push("creativeId="+encodeURIComponent(e.creativeID||"")),f.push("adUnitId="+encodeURIComponent(e.adUnitID||"")),b.logging.logError(d,f)}},v=function(b){return a.querySelector(b)},w=function(a,c,d){var e=function(a,c,d){var e,f,g=a,h="";try{d.targeting={};for(e in b.mergedTargeting)b.mergedTargeting.hasOwnProperty(e)&&(d.targeting[e]=b.mergedTargeting[e]);for(e in c)c.hasOwnProperty(e)&&(d.targeting[e]=c[e]);for(e in d.targeting)if(d.targeting.hasOwnProperty(e)){if(f=h.length>0?"&"+encodeURIComponent(e)+"=":""+encodeURIComponent(e)+"=",b.utils.isArray(d.targeting[e]))for(var i=0;i<d.targeting[e].length;i++)i>0&&(f+=","),f+=encodeURIComponent(d.targeting[e]);else f+=encodeURIComponent(d.targeting[e]);h+=f}h.length>0&&(h="&t="+encodeURIComponent(h),g=a.replace(/&t=[^&]*/i,h))}catch(j){b.targeting=b.targeting||{},b.logging.logError(j,["adAction=simplifiedAds.updateTargeting","url="+a,"targeting="+c,"expads.targeting="+b.targeting])}return g},f=function(a){var c;try{c=a.replace(/&c=[^&]*/i,"&c="+(new Date).getTime())}catch(d){b.logging.logError(d,["adAction=simplifiedAds.updateCacheBuster","url="+a]),c=a}return c};return a=f(a),a=e(a,c,d)},x=function(a,b){for(var c=a.children.length-1;c>-1;c--)a.children[c].className===b&&a.removeChild(a.children[c])},y=function(a,d){var e=d.url,f=d.altText;!a||e===c||a.style.backgroundImage!==c&&-1!==a.style.backgroundImage.indexOf(e)?a&&e!==c&&0===e.length&&(a.removeAttribute("data-src"),a.style.backgroundImage=""):(a.setAttribute("data-src",e),a.style.backgroundImage="url("+e+")",a.setAttribute("alt",f)),b.utils.toggleCollapsedExpanded(a,e!==c&&e.length>0)},z=new b.AdProduct("SimplifiedAds");z.initialize=k,z.clear=e,z.ensureVisibleAdsAreLoaded=h,z.filterAdSlots=j,z.refresh=m,b.registerAdProduct(z)}(window.document,window.expads=window.expads||{}),function(a,b,c){"use strict";"function"==typeof b&&b.amd!==c&&b("expads",[],function(){return a})}(window.expads=window.expads||{},window.define),function(a,b,c){"use strict";var d,e=b.ensureVisibleAdsAreLoaded,f=[],g=["(min-width: 960px)","(min-width: 726px) and (max-width: 959px)","(max-width: 725px)"],h=function(a,b){for(;a.length>0;)a.pop().removeListener(b)},i=function(){h(f,j),a.uitk!==c&&"function"==typeof a.uitk.subscribe?(m(e),n(b.utils.onScroll)):f=k(g)},j=function(a){a!==c&&a.matches===!0&&e()},k=function(a){var c,d,e=[];try{for(c=0;c<a.length;c++)e.push(l(a[c]));if(d=b.configuration.mediaQueries||[],b.utils.isArray(d))for(c=0;c<d.length;c++)e.push(l(d[c]))}catch(f){b.logging.logError(f,["Custom media queries not supported"])}return e},l=function(b){var d=a.matchMedia(b);return d!==c&&"function"==typeof d.addListener&&d.addListener(j),d},m=function(b){return d||(d=a.uitk.subscribe("mediaquery.matched",b)),d},n=function(b){return a.uitk.subscribe("debounced.scroll",b)};b.events.postInitialize.attachHandler(i)}(window,window.expads=window.expads||{});
//# sourceURL=expads.js